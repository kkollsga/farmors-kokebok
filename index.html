<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Farmors Oppskrifter</title>
<!-- iOS Web App -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Farmors Oppskrifter">

<!-- iOS Home Screen Icon (optional but recommended) -->
<!--  <link rel="apple-touch-icon" href="/icon-180.jpg"> -->

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
    /* ============================================
       BASE STYLES
    ============================================ */
    body { font-family: 'Inter', sans-serif; }
    body.modal-open { overflow: hidden; position: relative; touch-action: none; }
    .font-display { font-family: 'Playfair Display', serif; }
    
    /* ============================================
       SAFE AREA (iOS)
    ============================================ */
    .safe-bottom { padding-bottom: env(safe-area-inset-bottom, 0); }
    .safe-top { padding-top: env(safe-area-inset-top, 0); }
    
    /* ============================================
       SCROLLBAR STYLES
    ============================================ */
    .recipe-scroll::-webkit-scrollbar { width: 6px; }
    .recipe-scroll::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 3px; }
    .recipe-scroll::-webkit-scrollbar-thumb { background: #d4d4d4; border-radius: 3px; }
    .recipe-scroll::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }
    
    /* ============================================
       FILTER DROPDOWN
    ============================================ */
    #filterOptions { overscroll-behavior: contain; -webkit-overflow-scrolling: touch; }
    #filterOptions { background: linear-gradient(white 30%, rgba(255,255,255,0)) center top, linear-gradient(rgba(255,255,255,0), white 70%) center bottom, linear-gradient(white, white) center; background-size: 100% 40px, 100% 40px, 100% 100%; background-attachment: local, local, scroll; background-repeat: no-repeat; }
    
    /* ============================================
       ANIMATIONS
    ============================================ */
    @keyframes tipHighlight { from { transform: translateX(-10px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    @keyframes shimmer { 0% { background-position: -1000px 0; } 100% { background-position: 1000px 0; } }
    
    /* ============================================
       CARD TRANSITIONS
    ============================================ */
    [data-recipe-id] { transition: opacity 0.3s ease-out; }
    .recipe-counter { transition: transform 0.2s ease-out; }
    .recipe-stars i { transition: color 0.2s ease-out, transform 0.2s ease-out; }
    
    /* ============================================
       RECOMMENDATIONS CONTAINER
    ============================================ */
    #recommendedRecipes { transition: min-height 0.3s ease-out; position: relative; }
    #recommendedRecipes > div { transition: opacity 0.3s ease-out, transform 0.3s ease-out; }
    
    /* ============================================
       MODAL SCROLLING
    ============================================ */
    #recipeModal .absolute.inset-0 { -webkit-overflow-scrolling: touch; overscroll-behavior: contain; }
    #recipeModal .fixed.top-4.right-4 { transition: transform 0.2s ease-out; }
    #recipeModal .fixed.top-4.right-4:active { transform: scale(0.95); }
    #recipeModal .rounded-t-3xl { box-shadow: 0 -20px 40px rgba(0,0,0,0.3), 0 -10px 20px rgba(0,0,0,0.2); }
    
    /* ============================================
       DESKTOP MODAL
    ============================================ */
    @media (min-width: 901px) {
        #recipeModal .absolute.inset-0 { max-width: 1280px; margin: 0 auto; }
    }
    
    /* ============================================
       iOS SPECIFIC FIXES
    ============================================ */
    @supports (-webkit-touch-callout: none) {
        #recipeModal .absolute.inset-0 { -webkit-overflow-scrolling: touch; }
    }
</style>
</head>
<body class="bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 min-h-screen">
<!-- Header -->
<header class="safe-top">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
        <div class="flex justify-between items-center">
            <h1 class="font-display text-3xl text-amber-800">Farmors Oppskrifter</h1>
        </div>
    </div>
</header>

<!-- Search Bar -->
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4">
    <div class="bg-white/95 backdrop-blur rounded-2xl shadow-lg border border-gray-200 p-1.5">
        <div class="relative">
            <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            <input type="text" id="searchInput" placeholder="Søk etter oppskrifter eller ingredienser..." 
                   class="modern-input w-full pl-12 pr-4 py-3 bg-gray-50/50 border-0 rounded-xl focus:outline-none focus:bg-white transition-all text-gray-700 placeholder-gray-400">
        </div>
    </div>
</div>

<!-- Filter Bar -->
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4">
    <div class="relative">
        <div class="bg-white/95 backdrop-blur rounded-2xl shadow-lg border border-gray-200 p-4">
            <div class="flex items-center gap-3">
                <!-- Filter Button -->
                <button id="filterToggle" onclick="recipeApp.filterManager.toggleFilterMenu()" 
                        class="flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-200 text-sm font-medium shrink-0 shadow-sm hover:shadow-md">
                    <i class="fas fa-filter transition-transform duration-200 active:scale-90"></i>
                    <span>Filter</span>
                    <span id="filterCount" class="hidden bg-white/30 text-white text-xs px-1.5 py-0.5 rounded-full font-semibold">0</span>
                </button>
                
                <!-- Filter Pills Container -->
                <div id="filterPillsContainer" class="flex gap-2 flex-1 overflow-hidden transition-[max-width,opacity] duration-300 ease-out whitespace-nowrap">
                    <!-- Filter pills will be inserted here -->
                </div>
            </div>
        </div>
        
        <!-- Buttons Container - stays on right with flex -->
        <div class="absolute -bottom-7 inset-x-0 flex justify-end gap-2">
            <!-- Copy URL Button -->
            <button id="copyURLButton" onclick="recipeApp.urlManager.copyToClipboard(recipeApp.urlManager.getShareableURL(), this)" 
                    class="text-xs text-gray-500 hover:text-amber-600 transition-all duration-200 font-medium px-3 py-1 rounded-lg">
                <i class="fas fa-copy sm:mr-1"></i>
                <span class="hidden sm:inline">Kopier URL</span>
            </button>
            
            <!-- Clear Filters Button -->
            <button id="clearFilters" onclick="recipeApp.filterManager.clearAllFilters()" 
                    class="hidden text-xs text-gray-500 hover:text-amber-600 transition-all duration-200 font-medium px-3 py-1 rounded-lg">
                <i class="fas fa-times sm:mr-1"></i>
                <span class="hidden sm:inline">Tøm filter</span>
            </button>
        </div>
        
        <!-- Filter Dropdown Menu -->
        <div id="filterMenu" class="absolute left-4 top-full mt-2 z-50">
            <div class="bg-white rounded-xl shadow-[0_10px_25px_-5px_rgba(0,0,0,0.1),0_10px_10px_-5px_rgba(0,0,0,0.04)] border border-gray-100 hidden min-w-[280px] max-h-[400px] flex flex-col">
                <div class="text-sm font-semibold text-gray-700 px-4 pt-4 pb-2 border-b border-gray-100 flex-shrink-0">Velg kategorier</div>
                <div id="filterOptions" class="px-4 py-2 overflow-y-auto flex-1 recipe-scroll">
                    <!-- Filter options will be inserted here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Sort Selector -->
    <div class="flex items-center gap-4 ml-8 mt-4">
        <button data-sort="recommendation" 
                onclick="recipeApp.filterManager.changeSortOrder('recommendation')"
                class="p-2 rounded-lg bg-amber-500 text-white transition-all duration-200"
                title="Anbefalt rekkefølge">
            <i class="fas fa-thumbs-up"></i>
        </button>
        <button data-sort="recipebook" 
                onclick="recipeApp.filterManager.changeSortOrder('recipebook')"
                class="p-2 rounded-lg text-gray-700 hover:text-amber-600 transition-all duration-200"
                title="Oppskriftsbok rekkefølge">
            <i class="fas fa-book"></i>
        </button>
        <button data-sort="alphabetical" 
                onclick="recipeApp.filterManager.changeSortOrder('alphabetical')"
                class="p-2 rounded-lg text-gray-700 hover:text-amber-600 transition-all duration-200"
                title="Alfabetisk">
            <i class="fas fa-sort-alpha-down"></i>
        </button>
        <button data-sort="madecount" 
                onclick="recipeApp.filterManager.changeSortOrder('madecount')"
                class="p-2 rounded-lg text-gray-700 hover:text-amber-600 transition-all duration-200"
                title="Antall ganger laget">
            <i class="fas fa-utensils"></i>
        </button>
        <button data-sort="rating" 
                onclick="recipeApp.filterManager.changeSortOrder('rating')"
                class="p-2 rounded-lg text-gray-700 hover:text-amber-600 transition-all duration-200"
                title="Vurdering">
            <i class="fas fa-star"></i>
        </button>
    </div>
</div>

<!-- Main Recipe Grid (no header) -->
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-2 pb-12 safe-bottom">
    <div id="recipeGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Recipe cards will be inserted here -->
    </div>
</div>

<!-- Recipe Modal -->
<div id="recipeModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
    <div class="flex items-start justify-center min-h-screen sm:pt-8">
        <div class="bg-red sm:rounded-3xl max-w-5xl w-full sm:h-[92vh] modal-height-mobile flex flex-col overflow-hidden modal-content-mobile">
            <div id="modalContent" class="h-full flex flex-col overflow-y-auto">
                <!-- Recipe content will be inserted here -->
            </div>
        </div>
    </div>
</div>

<script>
// ============================================================================
// CONFIGURATION CONSTANTS
// ============================================================================

const CONFIG = {
    BREAKPOINTS: {
        FULLSCREEN_MODAL: 1000,
        SINGLE_COLUMN: 600
    },
    IMAGE_PATHS: {
        LIST: 'images/low/',
        MODAL: 'images/hi/'
    },
    STYLES: {
        TAGGED_SHADOW: 'shadow-[0_4px_6px_-1px_rgba(180,83,9,0.5),0_2px_4px_-1px_rgba(217,119,6,0.35)]',
        TAGGED_HOVER_SHADOW: 'hover:shadow-[0_10px_15px_-3px_rgba(180,83,9,0.5),0_4px_6px_-2px_rgba(217,119,6,0.35)]',
        DEFAULT_SHADOW: 'shadow-md',
        DEFAULT_HOVER_SHADOW: 'hover:shadow-xl'
    }
};

// ============================================================================
// RECIPE DATABASE CLASS
// ============================================================================

class RecipeDatabase {
    constructor() {
        this.recipes = [
            {"id":"recipe_1755485212305_6c4rynvqc","title":"Berlinerkranser","servings":"Ca. 30–40 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":3,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Sprø julekranser med smørmør kjerne og søt, krystallisert overflate av sukker. Den rike deigen av smør og eggeplommer gir en delikat tekstur som smelter på tungen. Eggehviten og sukkeret skaper en glitrende finish som både ser festlig ut og gir ekstra sprøhet. En uunnværlig del av det norske julekakebordet med sin karakteristiske form og smak.","image":"berlinerkranser.jpg","ingredients":["250 g hvetemel","65 g sukker","145 g margarin eller smør","1 eggeplomme","1 eggehvite (til pensling)","perlesukker eller grovt sukker (til topping)"],"instructions":["Smuldre sammen hvetemel, sukker og margarin til en smuldrete blanding.","Tilsett eggeplommen og kna deigen godt sammen til en smidig deig.","Del deigen i små emner og trill ut til fingertykke pølser.","Form små kranser og legg på et bakepapirkledd stekebrett.","Pensle kransene med lett pisket eggehvite.","Dypp oversiden i perlesukker eller grovt sukker.","Stek ved svak varme, ca. 175 °C, i 8–10 minutter til de er lett gylne.","Avkjøl på rist og oppbevar i tett kakeboks."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755540531697_0ukql48af","title":"Smultringer","servings":"Ca. 40–50 smultringer","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":4,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Tradisjonelle norske smultringer med mild sitronsmak og sprø tekstur. Hornsalt og natron gir karakteristisk heving. Frityrstekt til gyllen perfeksjon. En nostalgisk klassiker som smaker av barndom.","image":"smultringer.jpg","ingredients":["2 egg","3 kopper sukker (ca. 6 dl)","4 kopper helmelk (ca. 8 dl)","50 g smør, smeltet","3 ts hornsalt (hjortetakksalt)","1 ts natron","½ ts sitrondråper eller revet sitronskall","Ca. 1–1,2 kg hvetemel (til en fast, men smidig deig)","Smult eller matfett til steking"],"instructions":["Pisk egg og sukker til det er lyst og luftig.","Tilsett melk, smeltet smør og sitrondråper (eller revet skall).","Bland inn siktet hvetemel, hornsalt og natron litt etter litt, til deigen blir fast men smidig.","Kjevle ut deigen til ca. ½ cm tykk leiv.","Stikk ut smultringer med en smultringutstikker eller bruk et glass og en liten kork til midten.","Varm smult eller matfett i en gryte til ca. 170 °C.","Stek smultringene gyllenbrune på begge sider.","La dem renne av på kjøkkenpapir før servering."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755475274682_pg1vg0qjn","title":"Kake med mokkakrem","servings":"10-12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":5,"category":"Lagkaker","meal":"Kake","cuisine":"Norsk","description":"Luftig sukkerbrødkake med silkemyk mokkakrem som smelter på tungen. Kombinasjonen av kaffe og kakao i kremen gir en sofistikert, balansert smak. Kan varieres med syltetøy mellom lagene for friskhet. En tidløs festkake som alltid imponerer.","image":"kakemedmokkakrem.jpg","ingredients":[{"group":"Sukkerbrød","items":["6 egg","180 g sukker (ca. 2 dl)","180 g hvetemel (ca. 3 dl)","1 ts bakepulver (valgfritt, gir ekstra sikkerhet)"]},{"group":"Mokkakrem","items":["150 g smør, romtemperert","100 g melis (ca. 1,5 dl)","3 ss sterk kaffe, avkjølt","2 ss kakao","1 ts vaniljedråper eller 1 ts vaniljesukker"]}],"instructions":["Sett ovnen på 160–170 °C (over- og undervarme). Smør en rundform (24 cm) og legg bakepapir i bunnen.","Visp egg og sukker til lys og luftig eggedosis (5–10 minutter).","Sikt mel og bakepulver over eggedosisen, og vend det forsiktig inn med en slikkepott.","Hell røren i formen og stek på nederste rille i ca. 30–40 minutter, til sukkerbrødet er gyllent og en kakepinne kommer ut ren. Avkjøl helt på rist.","Når sukkerbrødet er avkjølt, del det i to eller tre lag.","Lag mokkakremen: Pisk smør og melis hvitt og luftig (5–7 minutter). Tilsett kaffe, kakao og vanilje litt etter litt. Pisk til en jevn og smørbar krem.","Legg en kakebunn på fat. Smør på et lag mokkakrem, eller ha syltetøy mellom lagene om ønskelig. Fortsett med neste bunn.","Dekk hele kaken med resten av mokkakremen på toppen og langs sidene.","Pynt gjerne med mokkabønner, sjokoladespon eller et lett dryss kakao.","La kaken stå kjølig i minst 1 time før servering for at smakene skal sette seg."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755523615872_c8ydauis7","title":"Sjokoladekake med vaniljeglasur","servings":"10–12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":6,"category":"Rundkaker","meal":"Kake","cuisine":"Skandinavisk","description":"Luftig sjokoladekake med silkemyk vaniljesmørkrem som både fyller og dekker. Vaniljekremen kokes først og blandes med smør for optimal konsistens. Kan toppes med sjokolade for ekstra dekadens. En sofistikert festkake.","image":"sjokoladekakevaniljeglasur.jpg","ingredients":[{"group":"Kakebunn","items":["5 egg","150 g sukker","100 g hvetemel","50 g potetmel","25 g kakao","2 ts bakepulver (strøkne)","50 g revet sjokolade"]},{"group":"Glasur (smørkrem)","items":["1 1/2 ss hvetemel","1/2 liter melk","60–80 g sukker","1 egg","1–2 ts vaniljesukker","100 g smør","30–40 g melis"]},{"group":"Pynt","items":["100 g sjokolade (revet som spon eller smeltet til glasur)"]}],"instructions":["Pisk eggeplommene godt og tilsett sukkeret litt etter litt under stadig pisking.","Pisk eggehvitene stive og vend forsiktig inn i eggeplommeblandingen.","Bland hvetemel, potetmel, kakao, bakepulver og revet sjokolade. Sikt det tørre inn i røren og vend forsiktig sammen.","Hell røren i en smurt form (24 cm) og stek ved 175 °C i ca. 30–35 minutter, til kaken er gjennomstekt. Avkjøl helt.","Lag vaniljekrem (base til glasuren): Rør sammen hvetemel, melk og sukker i en kjele. Kok opp under omrøring. Tilsett vaniljesukker og egg, og rør til kremen tykner. Avkjøl helt.","Visp smør og melis hvitt. Rør inn den avkjølte vaniljekremen litt etter litt til en glatt smørkrem.","Del kaken i to eller tre lag. Bruk smørkremen både som fyll mellom lagene og som glasur på toppen og sidene.","Pynt kaken med 100 g sjokolade – enten ved å drysse over revet sjokolade eller ved å smelte sjokoladen og fordele den jevnt over glasuren.","La kaken trekke kjølig i minst 1 time før servering for å sette smakene."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755820690556_mdv2ac1xd","title":"Sandkake","servings":"Ca. 20 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":7,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Tradisjonelle sandkaker med potetmel for karakteristisk sprø-porøs konsistens. Stekes i små former som gir elegant presentasjon. Den milde vaniljesmaken og smeltende teksturen gjør dem uimotståelige. En kaffebordsklassiker.","image":"sandkaker.jpg","ingredients":["250 g smør","190 g sukker","2 egg","200 g hvetemel","90 g potetmel","2 ts bakepulver","1 ts vaniljesukker"],"instructions":["Rør smør og sukker hvitt.","Tilsett eggene ett om gangen.","Bland hvetemel, potetmel, bakepulver og vaniljesukker.","Vend melblandingen inn i røren.","Fordel røren i smurte sandkakeformer.","Stek ved 175 °C i 15–20 minutter til de er lett gyldne.","Avkjøl på rist og løsne forsiktig fra formene."],"createdAt":"2025-08-21"},
            {"id":"recipe_1755553770811_i0qwsu6dx","title":"Smørkake","servings":"1 form (ca. 12 stk.)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":7,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Luftig smørkake med melk og vaniljesukker for mild, behagelig smak. Den balanserte sødmen gjør den til en allsidig kake. Enkel oppskrift som alltid lykkes. Serveres naturell eller med lett melisdryss.","image":"smorkake.jpg","ingredients":["3 egg","250 g sukker (ca. 2,5 dl)","65 g smør","1,5 dl melk","250 g hvetemel (ca. 4 dl)","4 ts bakepulver","4 ts vaniljesukker"],"instructions":["Pisk smør og sukker hvitt og luftig.","Tilsett eggene ett om gangen og visp godt.","Rør inn melken.","Sikt sammen hvetemel, bakepulver og vaniljesukker og vend det inn.","Hell røren i en smurt form.","Stek ved ca. 175 °C i 40–50 minutter, til kaken er gyllen og gjennomstekt.","Avkjøl og server naturell eller med et lett dryss melis."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755822745224_a91e1v7f1","title":"Klaras kringler","servings":"20–24 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":8,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Myke småkringler med rosiner og valgfrie nøtter for ekstra smak. Den enkle deigen heves med bakepulver for rask tilberedning. Mild sødme og saftig konsistens gjør dem perfekte til kaffekos. Kan pyntes med egg eller perlesukker for festligere utseende.","image":"rosinkringler.jpg","ingredients":["500 g hvetemel","200 g sukker","250 g smør","2 egg","4 ts bakepulver","2 dl melk","100 g rosiner","50 g hakkede nøtter (valgfritt)"],"instructions":["Bland hvetemel og bakepulver i en bolle.","Smuldre inn smøret til blandingen ligner grovt smuldret deig.","Visp eggene lett og rør dem inn sammen med sukkeret.","Tilsett melk og bland til en jevn deig.","Vend inn rosiner og evt. nøtter.","Trill ut små emner, form til kringler og legg dem på bakepapirkledd stekebrett.","Stek midt i ovnen på 200 °C i ca. 10–12 minutter, til de er gyllenbrune.","Avkjøl på rist.","TIP: Strø perlesukker eller pensle med sammenpisket egg før steking for blanke kringler."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755524663629_mxj8jiua2","title":"Sjokolade- og mandelkake i langpanne","servings":"Ca. 20–25 ruter","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":9,"category":"Langpannekaker","meal":"Kake","cuisine":"Skandinavisk","description":"Saftig sjokoladekake med sitron og mandler for kompleks smaksprofil. Den smeltede sjokoladen gir fylde mens sitronskallet tilføyer uventet friskhet. Mandlene gir sprø overraskelser. Skjæres i firkanter som enkle, elegante servingsstykker.","image":"sjokoladeogmandelkake.jpg","ingredients":["250 g smør","250 g sukker","250 g hvetemel","4 egg (plommer og hviter skilles)","100 g mørk sjokolade (smeltet)","revet skall av 1 sitron","50 g hakkede mandler","melis til pynt (valgfritt)"],"instructions":["Visp smør og sukker til det er hvitt og luftig.","Tilsett eggeplommene én etter én under omrøring.","Smelt sjokoladen og rør den inn sammen med revet sitronskall.","Sikt hvetemelet og vend det vekselvis inn med stivpiskede eggehviter.","Vend til slutt inn de hakkede mandlene.","Hell røren i en smurt og bakepapirkledd langpanne.","Stek kaken midt i ovnen ved 175 °C i ca. 30–35 minutter, til den er gjennomstekt.","Avkjøl og skjær i firkanter.","Dryss gjerne melis over kaken før servering."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755525039501_v1gcazw3t","title":"Sjokoladesnitter","servings":"Ca. 30–40 snitter","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":9,"category":"Julekaker","meal":"Kaffe","cuisine":"Skandinavisk","description":"Enkle sjokoladesnitter med mørdeig som formes, stekes og skjæres diagonalt. Blir sprø i kantene og litt seige i midten for perfekt tekstur. Kakao og potetmel gir distinkt smak. Klassiske småkaker som forsvinner fort.","image":"sjokoladesnitter.jpg","ingredients":["200 g smør","200 g sukker","1 egg","3 ss kakao","250 g hvetemel","2 ts potetmel","2 ts bakepulver","1 ts vaniljesukker"],"instructions":["Visp smør og sukker hvitt og luftig.","Tilsett egget og rør godt inn.","Sikt sammen kakao, hvetemel, potetmel, bakepulver og vaniljesukker.","Rør det tørre inn i smørblandingen og arbeid deigen raskt sammen.","Del deigen i 3–4 deler og rull ut til lengder.","Legg lengdene på bakepapirkledd stekebrett og trykk dem litt flate med en gaffel eller baksiden av en skje.","Stek midt i ovnen ved 175 °C i ca. 12–15 minutter.","Skjær lengdene i skrå snitter mens de fortsatt er varme.","La sjokoladesnittene avkjøles helt på rist og oppbevar i tett kakeboks."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755525313393_x86s8trii","title":"Fru Meyers kaker","servings":"Ca. 40 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":10,"category":"Julekaker","meal":"Kaffe","cuisine":"Skandinavisk","description":"Lette småkaker med potetmel og hornsalt som gir karakteristisk sprø-porøs tekstur. Sitrondråpene gir en subtil friskhet som løfter den milde smaken. Formes enkelt med teskje til små topper. En tradisjonell favoritt som smelter på tungen.","image":"frumeyerskaker.jpg","ingredients":["125 g margarin","125 g sukker","125 g potetmel","140 g hvetemel","1 egg","3/4 ts hornsalt (hjortetakksalt)","5 dråper sitronessens"],"instructions":["Rør margarin og sukker hvitt.","Pisk egget lett sammen og ha det i.","Sikt på mel og hornsalt og rør godt.","Ha i sitrondråper.","Sett små topper av deigen på platen med en teskje, litt mellomrom imellom.","Stekes lys-gule i svak varme (ca. 160–170 °C) i 8–10 minutter.","Avkjøles på rist og oppbevares i tett kakeboks."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755525787550_591atv6ib","title":"Freia formkake","servings":"8–10 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":11,"category":"Formkaker","meal":"Kake","cuisine":"Skandinavisk","description":"Klassisk smørkake hvor potetmel gir ekstra lett og fin struktur. Den enkle smaken lar kvaliteten på smøret skinne gjennom. Saftig og holdbar, perfekt som basis for variasjon med sitron eller vanilje. En pålitelig hverdagskake som alltid blir vellykket.","image":"freiaformkake.jpg","ingredients":["125 g smør","125 g sukker","70 g hvetemel","70 g potetmel","2 egg","1/2 ts bakepulver","1 ts vaniljesukker eller revet skall av 1/2 sitron (valgfritt, for smak)","melis til pynt (valgfritt)"],"instructions":["Rør smør og sukker hvitt.","Tilsett eggene, ett om gangen, og visp godt mellom hver.","Bland hvetemel, potetmel og bakepulver sammen, og sikt det i røren.","Vend forsiktig til alt er godt blandet. Tilsett gjerne vaniljesukker eller revet sitronskall for ekstra smak.","Hell røren i en smurt form (ca. 1 liter).","Stek kaken i middels varm ovn (ca. 175 °C) i omtrent 45 minutter, til den er gjennomstekt og gyllen.","Avkjøl på rist før servering.","Dryss gjerne melis over kaken før servering."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755526142808_1e6hjyujv","title":"Brune snipper","servings":"Ca. 40–50 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":12,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Sprø julekaker med sirup og krydder, kuttet i karakteristiske diamantformer. En klype pepper gir en overraskende varmende smak som løfter de søte siruptonene. Deigen hviler over natten for optimal tekstur. Blir sprø og krydrede med en dyp, karamellisert smak. Halve mandler på toppen gir ekstra eleganse til julekakefatet.","image":"brunesnipper.jpg","ingredients":["65 g sukker","35 g margarin","125 g sirup","3/4 dl fløte","250 g hvetemel","1/2 ts pepper","1/4 ts ingefær","1/2 ts natron","Ev. halve mandler til pynt"],"instructions":["Ha sukker, sirup og fløte i en kjele og varm opp til margarinen er smeltet. Rør godt sammen.","Avkjøl blandingen litt, og sikt inn alt det tørre (hvetemel, krydder og natron). Elt til en jevn deig.","La deigen hvile til neste dag, gjerne kjølig.","Kjevle ut deigen tynt, ca. 2–3 mm. Skjær ut snipper ved å først skjære lange strimler på skrå (3–4 cm brede), og deretter skjære på skrå den andre veien slik at det dannes små diamanter (ca. 4–5 cm på langsiden).","Legg snippene på smurt plate eller bakepapir. Pynt gjerne med en halv mandel i midten av hver.","Stek kakene i lys gyllen farge ved middels varme (ca. 175 °C) i 8–10 minutter."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755476864587_2erpf8ln7","title":"Wienerbrød","servings":"Ca. 16–20 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":13,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Dansk","description":"Dansk wienerbrød med laminert deig som gir luftige lag. Fylles med mandelmasse, havregryn eller eggekrem etter ønske. Melisglasuren gir søt finish. Krever litt teknikk men resultatet er verdt innsatsen.","image":"wienerbrod.jpg","ingredients":[{"group":"Grunndeig","items":["500 g hvetemel","30 g sukker","50 g margarin (til deigen)","35 g gjær","1/2 ts kardemomme","3 dl melk","1 egg","150 g margarin (til innbaking, lagvis)"]},{"group":"Alternativ 1 – Mandelmassefyll","items":["50 g mandler (malte)","75 g sukker","1/2 eggehvite","3 ss mandeldråper"]},{"group":"Alternativ 2 – Havregrynsfyll","items":["50 g havregryn","75 g sukker","1/2 eggehvite","noen dråper vanilje eller mandelessens"]},{"group":"Alternativ 3 – Eggekremfyll","items":["20 g hvetemel","2 dl melk","1 eggeplomme","20 g sukker"]},{"group":"Melisglasur (valgfritt)","items":["75 g melis","1/2 eggehvite"]}],"instructions":["Lag deigen (Grunndeig): Bland mel og sukker i en bolle. Smuldre inn 50 g margarin.","Rør ut gjæren i lunken melk og tilsett sammen med egg og kardemomme. Elt deigen godt til den er smidig.","La deigen hvile i ca. 15 minutter. Kjevle deretter ut til et rektangel.","Fordel 150 g margarin i tynne skiver/klatter over deigen. Brett sammen og kjevle ut igjen. Gjenta 2–3 ganger for å få lagvis deig. La hvile mellom kjevlingene.","Velg fyll: Forbered ett av alternativene:","Alternativ 1 – Mandelmassefyll: Bland malte mandler, sukker, eggehvite og mandeldråper til en fast masse.","Alternativ 2 – Havregrynsfyll: Bland havregryn, sukker, eggehvite og noen dråper essens til en jevn masse.","Alternativ 3 – Eggekremfyll: Ha mel i en kjele, spe med melk og kok opp under omrøring. Tilsett sukker og eggeplomme. Rør til kremen tykner. Avkjøl.","Montering: Kjevle deigen ut til ca. 0,5 cm tykkelse. Skjær i firkanter, legg litt av valgt fyll i midten og brett hjørnene inn mot midten.","Legg brødene på bakepapirkledd stekebrett, dekk til og etterhev i 30–40 minutter.","Pensle med sammenvispet egg. Stek midt i ovnen ved 200 °C i ca. 10–12 minutter, til de er gyllenbrune.","Avkjøl på rist.","Glasur (Melisglasur, valgfritt): Bland melis og eggehvite til en glatt glasur. Ha den over de avkjølte vinabrødene.","Server nybakte eller oppbevar kjølig. Kan fryses uten glasur."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755477197309_jcux6iyx1","title":"Formkake","servings":"8–10 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":15,"category":"Formkaker","meal":"Kake","cuisine":"Skandinavisk","description":"Aromatisk formkake med sitron, korinter og kandisert frukt for kompleks sødme. Sukaten gir en distinkt, gammeldags smak med sine kandiserte sitrus-noter. Korintene tilføyer små, søte eksplosjon av fruktsmak. En tradisjonell kaffekake som vekker nostalgiske minner.","image":"formkake.jpg","ingredients":["100 g smør","100 g sukker","2 egg","200 g hvetemel","1 ts bakepulver","50 g korinter","50 g sukat","revet skall av 1/2 sitron eller 5–6 dråper sitronessens"],"instructions":["Visp smør og sukker hvitt og luftig.","Tilsett eggene, ett om gangen, og pisk godt mellom hver.","Sikt inn hvetemel og bakepulver, og vend forsiktig inn i røren.","Tilsett revet sitronskall eller sitrondråper.","Vend inn korinter og sukat til slutt.","Ha røren i en smurt form.","Stek i middels varm ovn (ca. 175–180 °C) i 35–45 minutter, til kaken er gjennomstekt og gyllen. Test med kakepinne.","Avkjøl på rist og server som den er eller med et lett dryss melis."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755483218975_n2vin9hoz","title":"Peppernøtter","servings":"Ca. 40–50 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":16,"category":"Julekaker","meal":"Kaffe","cuisine":"Skandinavisk","description":"Små krydrede julekaker med kanel, kardemomme og en snert pepper. Formes til runde kuler som blir myke inni og lett sprø utenpå. Den varme krydderblandingen gir julestemning. Perfekte som små, søte munnfuller gjennom adventstiden.","image":"peppernotter.jpg","ingredients":["125 g smør","125 g sukker","ca. 250 g hvetemel","1 dl kremfløte","1 ts kardemomme","1 ts kanel","1/3 ts pepper","1 ts natron","1/2 ts bakepulver"],"instructions":["Visp smør og sukker til det er hvitt og luftig.","Tilsett kremfløten og rør godt sammen.","Sikt hvetemel, kardemomme, kanel, pepper, natron og bakepulver i en bolle.","Vend det tørre inn i smørblandingen og arbeid deigen raskt sammen til en jevn deig.","Trill deigen til små kuler og legg dem på et bakepapirkledd stekebrett.","Stek peppernøttene midt i ovnen ved 175–180 °C i 8–10 minutter, til de er jevnt gyllenbrune.","Avkjøl på rist og oppbevar i en tett kakeboks."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755566518474_3zxd45n9l","title":"Bakepulverstenger","servings":"Ca. 30–40 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":17,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Luftige småkaker som hever uten gjær, med sprø overflate dekket av grovt sukker. Bakepulveret gir rask heving og gjør kakene enkle å lage på kort tid. De har en mild, søt smak med sprø skorpe og myk innside. Former som stenger gir en rustikk, hjemmelaget karakter. Serveres best samme dag, perfekt til spontan kaffekos.","image":"bakepulverstenger.jpg","ingredients":["500 g hvetemel","100 g margarin","100 g sukker","1 egg","2 1/2 dl melk","3 ts bakepulver","1 egg til pensling","Litt grovt sukker til topping"],"instructions":["Bland sammen hvetemel, sukker og bakepulver i en bolle.","Smuldre inn margarinen til det ligner grovt smuler.","Pisk egget lett og rør det inn sammen med melken. Arbeid deigen raskt sammen.","Del deigen i fire emner og trill ut til stenger.","Legg stengene på bakepapirkledd plate, pensle med sammenvispet egg og strø over grovt sukker.","Stek til de er lyse gylne ved ca. 200 °C i 10–12 minutter."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755530008601_5c9sko0oi","title":"Wienerring","servings":"1 stor ring","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":18,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Dansk","description":"Dekorativ wienerring med synlig kremfyll som bobler frem under steking. Den milde vaniljekremen komplimenterer den søte gjærdeigen. Klippingen skaper vakker presentasjon. Perfekt sentrum på festbordet.","image":"wienerring.jpg","ingredients":[{"group":"Deig","items":["250 g hvetemel","50 g sukker","ca. 1 ¼ dl melk (lunken)","1 egg","40 g gjær","100 g smør","1 egg til pensling","Litt hakkede mandler til pynt"]},{"group":"Fyll","items":["1 eggeplomme","1 ½ dl fløte","½ ts vaniljesukker","1 ss potetmel","1 ss sukker"]}],"instructions":["Sikt sammen hvetemel og sukker i en bolle.","Løs opp gjæren i lunken melk og pisk inn egget.","Bland væsken i det tørre og elt deigen til den er smidig. Arbeid inn smøret til slutt. La heve til dobbel størrelse.","Lag fyllet: Pisk sammen fløte, eggeplomme, sukker, potetmel og vaniljesukker. Kok forsiktig opp under omrøring til en tykk krem. Avkjøl.","Kjevle deigen ut til et stort rektangel og fordel fyllet jevnt utover.","Rull deigen sammen fra langsiden til en lang pølse og legg den på et stekebrett med bakepapir.","Form pølsen til en stor ring og klem endene godt sammen.","Klipp skrå snitt med ca. 3 cm mellomrom nesten helt igjennom, og vri hvert stykke litt utover så fyllet synes.","Pensle med egg og dryss over hakkede mandler.","Stek ved 180 °C (varmluft) eller 200 °C (over- og undervarme) i ca. 25–30 minutter til den er gyllenbrun."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755554972871_batotnjp9","title":"Kremarhus","servings":"Ca. 12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":19,"category":"Julekaker","meal":"Kake","cuisine":"Norsk","description":"Sprø kremarhus formet mens varme til elegante kjegler for dessert. Den lette røren av eggehviter blir sprø og delikat. Fylles med krem, bær eller is. Må brukes samme dag for optimal sprøhet.","image":"kremarhus.jpg","ingredients":["120 g smør eller margarin","120 g sukker","120 g hvetemel, siktet","4 eggehviter","½ ts vaniljeekstrakt"],"instructions":["Pisk smør og sukker hvitt og luftig.","Tilsett vanilje og sikt i hvetemelet. Rør forsiktig sammen.","Pisk eggehvitene stive og vend dem forsiktig inn.","Smør røren tynt utover bakepapir eller bruk krumkakejern.","Stek ved 160–170 °C til svakt gylne.","Form straks til kremarhus ved hjelp av kremarhusspiss.","Avkjøl og fyll med krem, bær eller is før servering.","Bør brukes samme dag, eller oppbevares i tett boks for å bevare sprøheten.","Tips: Passer utmerket til dessert med bær og krem."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755556074900_6qxxo2r5w","title":"Gjærkake med rosiner","servings":"1 stor kake (ca. 12–15 snitter)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":20,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Luftig gjærkake med rosiner og deilig kanel-sukkertopp som karamelliserer under steking. Sitronskallet gir en frisk undertone som balanserer sødmen. Saftig og aromatisk, perfekt som helgekos. Den tradisjonelle kanelstrøingen gjør kaken ekstra fristende.","image":"gjaerkakemedrosiner.jpg","ingredients":[{"group":"Deig","items":["500 g hvetemel","100 g sukker","170 g smør eller margarin","½ ts malt kardemomme","1 ts revet sitronskall (eller noen dråper sitronessens)","3,75 dl melk","40 g fersk gjær"]},{"group":"Fyll og topping","items":["80 g rosiner","40 g sukker","1–2 ts malt kanel","2 ss smeltet smør til pensling"]}],"instructions":["Sikt sammen mel, sukker og kardemomme i en stor bakebolle. Smuldre inn smøret.","Varm opp melken til ca. 37 °C og løs gjæren i melken. Hell dette i melblandingen og elt til en smidig deig.","Dekk til og la deigen heve til dobbel størrelse, ca. 45–60 minutter.","Elt inn rosiner (og evt. sukat). Kjevle deigen ut til et rektangel og legg den på et bakepapirkledd stekebrett.","La deigen etterheve i ca. 30 minutter.","Pensle overflaten med smeltet smør. Strø over sukker og kanel i et rutemønster.","Stek midt i ovnen ved 200 °C i 25–30 minutter, til kaken er gyllen og gjennomstekt.","Avkjøl litt, skjær i snitter og server lun eller avkjølt."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755556519322_xc1wy808f","title":"Eplefromasj","servings":"6-8 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":21,"category":"Dessert","meal":"Dessert","cuisine":"Norsk","description":"Luftig eplefromasj med lett, skummende konsistens og frisk smak av norske epler. Gelatinen stabiliserer den piskede kremen og eplemosen til en fast, men myk dessert. Syrlige epler gir best balanse mot den søte kremen. Serveres kald med småkaker som sprø kontrast til den kremete konsistensen.","image":"eplefromasje.jpg","ingredients":["1 kg epler (gjerne syrlige)","1 dl vann","200 g sukker (ca. 2 dl)","6 dl kremfløte","6 gelatinplater","0,5 dl kokende vann","Pynt: ekstra pisket krem og skiver av røde epler eller bær"],"instructions":["Skrell og rens eplene. Kok dem møre i vann og sukker, ca. 10–15 minutter.","Mos til glatt eplemos og avkjøl.","Legg gelatinplatene i kaldt vann i 5 minutter.","Smelt gelatinen i 0,5 dl kokende vann og rør til alt er oppløst.","Bland gelatinen inn i den avkjølte eplemosen.","Pisk kremfløten stiv og vend den forsiktig inn i eplemosen.","Fordel i en stor skål eller porsjonsglass og sett kaldt i minst 2–3 timer.","Pynt med ekstra krem og epleskiver eller bær før servering.","Server gjerne med småkaker."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755557799588_dlu14ce9v","title":"Fikenkake","servings":"8 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":22,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig kake med tørket fiken og hasselnøtter som gir dyp, nesten karamellisert sødme. Fikenen gir naturlig fuktighet og en tett, saftig konsistens, mens nøttene tilføyer sprøhet. Minner om mellomøstlige desserter med sin intense frukt- og nøttesmak. Bløtlegg gjerne fikenen i rom eller appelsinjuice for ekstra aroma.","image":"fikenkake.jpg","ingredients":["2 egg","100 g sukker","150 g tørkede fiken, finhakket","50 g hasselnøtter, grovhakket","100 g hvetemel","½ ts bakepulver"],"instructions":["Forvarm ovnen til 175 °C (over- og undervarme).","Smør en liten brødform eller springform (ca. 20 cm) og dryss lett med mel eller semulegryn.","Pisk egg og sukker til en lys og luftig eggedosis.","Vend inn finhakkede fiken.","Sikt sammen hvetemel og bakepulver, og vend dette forsiktig inn i røren sammen med hasselnøtter.","Hell røren i den smurte formen.","Stek i ca. 35–40 minutter, til kaken er gyllenbrun og en kakepinne kommer ut ren.","Avkjøl på rist.","TIP: Bløtlegg gjerne fiken i rom eller appelsinjuice for ekstra saftighet."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755557918514_hnluopgqs","title":"Frisk krydderkake","servings":"12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":23,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Aromatisk krydderkake med kardemomme, kanel og appelsin som gir varm, innbydende duft. Syrnet fløte gjør kaken ekstra saftig med en subtil tangy undertone. Mandlene gir sprø biter som kontrasterer den myke krummen. Blir merkbart bedre dagen etter når kryddersmakene modnes.","image":"krydderkake.jpg","ingredients":["2 egg","250 g sukker","160 g smør (smeltet)","1,25 dl syrnet fløte eller lettrømme","1 ts kardemomme","1 ts kanel","1 ss revet eller sukra appelsinskall","20 g hakkede mandler","225 g hvetemel","1 ts bakepulver"],"instructions":["Visp egg og sukker til lys eggedosis.","Smelt smøret og avkjøl litt.","Rør inn smør og syrnet fløte/rømme i eggedosisen.","Tilsett kardemomme, kanel, appelsinskall og hakkede mandler.","Sikt sammen mel og bakepulver, og vend det forsiktig inn.","Smør en brødform (ca. 1,5 liter) og strø med brødrasp eller mel.","Hell røren i formen.","Stek på 175 °C i 40–50 minutter til kaken er gjennomstekt.","Avkjøl i formen i 10 minutter før den hvelves på rist.","TIP: Kaken blir ekstra god dagen etter når kryddersmaken setter seg."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755558008707_dq4xcdrqf","title":"Havregrynsboller","servings":"20 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":24,"category":"Brød og rundstykker","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Lette boller med havregryn som gir nøtteaktig smak og saftig konsistens. Havregrynene kokes først i melk for optimal mykhet. Litt søte, men fungerer fortsatt som matbrød. Best nystekte når de er sprø utenpå og dampende myke inni.","image":"havregrynsboller.jpg","ingredients":["170 g havregryn","3–4 dl melk","300 g hvetemel","½ ts salt","2 ss sukker","50 g smør","6 ts bakepulver"],"instructions":["Kok opp melken og hell den over havregrynene. La blandingen avkjøle.","Sikt hvetemel sammen med bakepulver, og rør inn sukker og salt.","Smuldre inn smøret i melblandingen.","Bland de avkjølte havregrynene med melk inn i det tørre til en smidig, passe fast deig.","Trill ut til små boller og legg dem på stekebrett med bakepapir.","Stek midt i ovnen ved 200 °C i ca. 12–15 minutter, til bollene er gyldne.","TIP: Server bollene samme dag – da er de sprø utenpå og myke inni."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755558421198_xvg1go8ff","title":"Systerkaka","servings":"12-15 porsjoner (2–3 former)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":25,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Søt gjærkake med rosiner og sukat som gir saftig, aromatisk resultat. Kardemommen gir mild kryddersmak som komplimenterer frukten. Potetmelet gjør kaken ekstra myk. Holder seg godt og kan fryses.","image":"systerkake.jpg","ingredients":["550 g hvetemel","150 g potetmel","125 g sukker","150 g smør","½ ts kardemomme","ca. 4 dl melk (lunken)","1 egg","50 g gjær (eller 1 pose tørrgjær)","70 g rosiner","50 g sukat"],"instructions":["Sikt sammen hvetemel og potetmel i en bolle og smuldre inn smøret.","Tilsett sukker og kardemomme.","Rør gjæren ut i lunken melk.","Pisk egget lett og bland i sammen med melk og gjær.","Elt deigen godt og la heve ca. 1 time.","Elt inn rosiner og sukat.","Fordel deigen i 2–3 smurte former. Etterhev i ca. 30 min.","Stek ved 180 °C i 35–40 min til kaken er gyllen og gjennomstekt.","TIP: Server gjerne med smør eller brunost. Kan fryses."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755558505336_app0buc45","title":"Havregrynsknas","servings":"Ca. 20–25 ruter","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":26,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Sprø havregrynskake i ruter med perfekt balanse mellom søtt og salt. Den enkle blandingen av havregryn, sukker og smør transformeres i ovnen til gylne, sprø ruter. Vaniljesukker eller hakkede nøtter kan tilsettes for variasjon. En hverdagsfavoritt som alltid går hjem.","image":"havregrynsknas.jpg","ingredients":["4 dl havregryn","2 dl sukker","200 g smeltet smør","2 dl hvetemel"],"instructions":["Bland havregryn, sukker, smeltet smør og hvetemel godt sammen til en jevn deig.","Smør deigen utover en bakepapirkledd langpanne, ca. 0,5–1 cm tykk.","Stek midt i ovnen ved 180 °C til lys gyllenbrun, ca. 12–15 minutter.","Skjær opp i ruter mens kaken fremdeles er varm.","Avkjøl helt før servering.","TIP: Tilsett gjerne litt vaniljesukker eller hakkede nøtter for ekstra smak."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755558606095_2e6nu8ykg","title":"Frukt og brødfromasj","servings":"6 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":27,"category":"Dessert","meal":"Dessert","cuisine":"Norsk","description":"Nostalgisk fromasj med knust brød eller kavringer som gir rustikk karakter. Kombinasjonen av pisket krem, gelatin og syltetøy skaper en lett, skummende dessert. Kavringene tilføyer tekstur og en mild kornsmak. En dessert som vekker barndomsminner.","image":"fruktogbrodfromasj.jpg","ingredients":["6 dl kremfløte","1 ss vaniljeekstrakt eller vaniljesukker","3 dl knust brød, kavringer eller kjeks (f.eks. digestive)","50 g sukker","15 g gelatin (ca. 2 plater eller 1 pakke pulver)","0,5 dl kokende vann","3 ss syltetøy (bringebær, bjørnebær eller lignende)"],"instructions":["Pisk kremfløten stiv i en bolle.","Ha i vaniljen og bland inn sukkeret.","Vend inn det knuste brødet eller kjeksen sammen med syltetøyet.","Løs opp gelatinen i kokende vann og rør godt til den er helt oppløst.","Vend den oppløste gelatinen inn i fromasjblandingen.","Ha fromasjen i en glassbolle eller fordel i dessertskåler.","Sett kaldt til fromasjen stivner.","TIP: Pynt med litt ekstra pisket krem og en skje syltetøy ved servering."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755558760110_uwrhndrng","title":"Terteringar","servings":"Ca. 40 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":28,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Små smørkaker rullet i sukker for karamellisert, sprø overflate. Den kalde smørdeigen blir ekstra sprø under steking. Sukkeret gir søthet og crunch. Elegante småkaker som ser mer kompliserte ut enn de er.","image":"terteringer.jpg","ingredients":["250 g hvetemel","175 g smør (kaldt eller romtemperert)","1 eggeplomme","5 ss kremfløte","1 eggehvite (til pensling)","3–4 ss perlesukker eller grovt sukker (til rulling)"],"instructions":["Sikt melet og smuldre det sammen med smøret til en smuldrete masse.","Tilsett eggeplommen og fløten. Elt raskt sammen til en jevn deig.","Kjevle deigen ut til ca. 0,5 cm tykkelse.","Stikk ut små runde kaker (bruk et glass eller små former).","Dypp hver kake først i lett vispet eggehvite og deretter i grovt sukker.","Legg kakene på en bakepapirkledd stekeplate.","Stek midt i ovnen ved 180 °C i 8–12 minutter, til de er lys gyldne.","Avkjøl på rist og oppbevar i tett boks.","TIP: Bruk perlesukker for ekstra sprø og dekorative kaker."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755558862621_mmrlec5cm","title":"Rugkjeks","servings":"20–25 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":29,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Sprø rugkjeks med karve som gir distinkt, aromatisk smak. Rugmelet gir nøtteaktig dybde mens karven tilføyer en varm kryddertone. Perfekte til ost eller smør. Den kalde deigen blir ekstra sprø under steking.","image":"rugkjeks.jpg","ingredients":["125 g fint rugmel","125 g hvetemel","180 g smør (kaldt, i terninger)","½ ts karve","1 ss eddik (7%)","0,75 dl kaldt vann"],"instructions":["Sikt melene i en bolle og smuldre inn smøret til blandingen ligner grovt smuldret deig.","Tilsett karve, eddik og kaldt vann. Elt raskt sammen til en jevn deig.","La deigen hvile i kjøleskap i minst 30 minutter.","Kjevle ut deigen tynt på melet bord og prikk overflaten med en gaffel.","Skjær ut firkanter på ca. 8 × 8 cm og legg på bakepapirkledd stekebrett.","Stek midt i ovnen ved 200 °C i 8–12 minutter, til kjeksene er gylne og sprø.","Avkjøl på rist før servering.","TIP: Oppbevar i tett boks. Passer svært godt til ostefat."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755559016550_78flrd1r7","title":"Fylt kjeks","servings":"Ca. 25–30 fylte kjeks","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":30,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Sprø kjeks fylt med kremet sjokolade- eller bringebærfyll for dobbel nytelse. De hjemmelagde kjeksene er lettere og sprøere enn butikkvarianter. Fyllet gjør dem ekstra spesielle - best samme dag som de fylles. Perfekt til barn eller som nostalgisk kos.","image":"fyltkjeks.jpg","ingredients":[{"group":"Kjeksdeig","items":["2 små egg","150 g sukker","250 g hvetemel","150 g smør (romtemperert)","1 ts bakepulver"]},{"group":"Fyll (alternativer)","items":["125 g melis rørt med ca. 75 g delfiafett","eller 125 g melis blandet med litt bringebærsaft","eller 125 g melis rørt med kakao og litt vann til en krem"]}],"instructions":["Visp egg og sukker til en lys og luftig eggedosis.","Tilsett mykt smør og siktet mel blandet med bakepulver. Bland alt godt sammen til en jevn deig.","Kjevle deigen tynt ut på melet bord.","Stikk ut små firkantede eller runde kjeks.","Legg kjeksene på bakepapirkledd stekebrett og stek midt i ovnen på 180 °C i ca. 8–10 minutter, til de er lett gylne.","Avkjøl kjeksene helt på rist.","Lag ønsket fyll: rør sammen melis med enten smeltet delfiafett, bringebærsaft, eller kakao og vann, til en smørbar krem.","Smør fyll på undersiden av en kjeks og legg en annen oppå, slik at det blir små sandwich-kjeks.","TIP: Disse kjeksene er best samme dag de fylles, men kan oppbevares i tett boks i 2–3 dager. De uten fyll holder seg sprø i flere uker."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755556429373_md0pmu8kg","title":"Amies kake","servings":"12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":31,"category":"Langpannekaker","meal":"Kake","cuisine":"Norsk","description":"Saftig sjokoladekake med kaffesmak og luftig smørkrem som smelter på tungen. Den milde kaffeinnslaget løfter sjokoladesmaken uten å dominere, mens smørkremen gir en silkemyk tekstur. Perfekt balansert mellom søtt og lett bittert. Kan lages barnevennlig ved å erstatte kaffen med melk. Smørkremen bør brukes samme dag for best konsistens og smak.","image":"amieskake.jpg","ingredients":[{"group":"Kakebunn","items":["2 egg","2 dl sukker","1 dl sterk kaffe","300 g hvetemel","30 g kakao","1 ts bakepulver","200 g smør (smeltet)"]},{"group":"Smørkrem","items":["200 g smør (romtemperert)","125 g melis","1 eggeplomme","noen dråper vaniljeessens"]}],"instructions":["Sett ovnen på 180 °C over- og undervarme og smør eller dekk en liten langpanne (20×30 cm).","Pisk egg og sukker til lys og luftig eggedosis.","Smelt smøret og la det avkjøle litt.","Rør inn kaffen og smøret i eggedosisen.","Sikt sammen hvetemel, kakao og bakepulver og vend det forsiktig inn.","Hell røren i formen og stek midt i ovnen ved 180 °C i ca. 30–35 minutter, til gjennomstekt. Avkjøl kaken.","Pisk smør og melis til hvitt og luftig. Tilsett eggeplommen og vaniljeessens, og pisk til glatt krem.","Smør kremen oppå kaken eller mellom to lag. Server romtemperert."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755559275124_oarukiqz6","title":"Lett fruktkake med krem","servings":"1 kake (ca. 10-12 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":32,"category":"Lagkaker","meal":"Kake","cuisine":"Norsk","description":"Lett fruktkake basert på sukkerbrød, fylt med krem og frukt eller bær. Den luftige bunnen med sitron gir frisk base for fyllet. Hermetisk frukt gir retro-preg mens friske bær gjør den moderne. Må serveres samme dag for best resultat.","image":"fruktkake.jpg","ingredients":[{"group":"Kakebunn","items":["4 egg","100 g sukker","3 ss kaldt vann","15 g potetmel","95 g hvetemel","1 ½ ts bakepulver","1 ts sitronsaft"]},{"group":"Forslag til fyll","items":["3 dl kremfløte, pisket til krem","2 ss melis (til å søte kremen, valgfritt)","1 ts vaniljesukker (til kremen, valgfritt)","1 boks hermetiske pærer eller fersken i biter","eller 200 g friske bær (jordbær, bringebær eller blåbær)"]}],"instructions":["Pisk egg og sukker til luftig eggedosis.","Tilsett kaldt vann og sitronsaft, rør forsiktig inn.","Sikt sammen hvetemel, potetmel og bakepulver. Vend dette forsiktig inn i røren.","Hell røren i en smurt kakeform (ca. 22–24 cm).","Stek ved 180 °C i ca. 35–40 minutter til kaken er gyllen og gjennomstekt.","Avkjøl på rist.","Del kaken i to lag når den er helt avkjølt.","Fyll med pisket krem og frukt eller bær etter ønske.","Legg på toppen og pynt eventuelt med ekstra krem, bær, glasur, nøtter eller små marengstopper.","TIP: Hermetiske pærer eller fersken gir en klassisk smak fra 60–70-tallet, mens friske bær gjør kaken lettere og friskere."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755559527459_zsk3fc1zv","title":"Tradisjonelle bærsyltetøy","servings":"Ca. 4-6 glass per oppskrift","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":33,"category":"Tilbehør","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Samling tradisjonelle bærsyltetøy med ekstra høyt sukkerinnhold (1:1 eller mer) som sikrer holdbarhet 1-2 år uåpnet i romtemperatur. Etter åpning holder 4 uker kjølig. Lang koketid gir fyldig, karamellisert preg typisk for vinterforråd. Solbær, rips, stikkelsbær og plommer gir varierte, intense smaker.","image":"syltetoy.jpg","ingredients":[{"group":"Solbærsyltetøy","items":["1 kg solbær","1 liter vann","2 kg sukker"]},{"group":"Ripsbærsyltetøy","items":["2 kg rips","2,5 dl vann","2 kg sukker"]},{"group":"Stikkelsbærsyltetøy","items":["2 kg stikkelsbær","6 dl vann","1,8 kg sukker"]},{"group":"Plommesyltetøy","items":["1 kg plommer","2 dl vann","800 g sukker"]},{"group":"Stikkelsbærsyltetøy (variant)","items":["1 kg stikkelsbær","1 kg sukker","½ liter vann"]}],"instructions":["Solbærsyltetøy: Kok bær og vann i 15 minutter. Tilsett sukker og kok videre i ca. ½ time. Hell på varme glass.","Ripsbærsyltetøy: Kok bær og vann til bærene sprekker. Tilsett sukker og kok videre til passe konsistens. Hell på glass.","Stikkelsbærsyltetøy: Kok bær og vann til de er møre. Tilsett sukker og kok videre til syltetøyet er ferdig. Hell på glass.","Plommesyltetøy: Kok plommer og vann i ½ time. Tilsett sukker og kok videre i ½ time. Ta ut steinene. Hell på glass.","TIP: Til hermetisering brukes 1 kg sukker pr. 16 plommer.","Stikkelsbærsyltetøy (variant): Legg bær og sukker lagvis i en bolle, la stå til neste dag. Kok så med vann i ca. ½ time. Hell på glass."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755559637965_415q43ypc","title":"Sjokoladekake","servings":"1 langpanne (ca. 20–24 stk.)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":34,"category":"Langpannekaker","meal":"Kake","cuisine":"Norsk","description":"Saftig sjokoladekake med fyldig glasur hvor kaffe forsterker sjokoladesmaken. Den tradisjonelle langpannekaken er enkel å lage og alltid populær. Glasuren setter til en blank, fristende overflate. Blir enda bedre dagen etter.","image":"sjokoladekake.jpg","ingredients":[{"group":"Kakebunn","items":["150 g smør","3 dl sukker","2 1/2 dl melk","3 ts bakepulver","1/2 plate kokesjokolade (ca. 50 g)","2 egg","3 1/2 dl hvetemel"]},{"group":"Fyll / Glasur","items":["100 g smør","1/2 plate kokesjokolade (ca. 50 g)","2 ts vaniljesukker","3/4 dl sterk kaffe, varm","400 g melis"]}],"instructions":["Sett stekeovnen på 180 °C over- og undervarme.","Smelt smøret til kakebunnen. Rør smør og sukker hvitt.","Tilsett eggene, ett om gangen, og rør godt mellom hvert.","Smelt sjokoladen forsiktig i vannbad eller mikrobølgeovn og bland den i røren.","Rør inn melk og hvetemel blandet med bakepulver, vekselvis, til du får en jevn røre.","Hell røren i en smurt eller bakepapirkledd langpanne (ca. 20x30 cm).","Stek kaken midt i ovnen i ca. 30–35 minutter, til den er gjennomstekt. Avkjøl kaken helt før glasuren has på.","Til glasuren: Smelt smøret og sjokoladen sammen. Rør inn vaniljesukker.","Tilsett kaffe og siktet melis, og pisk til en glatt og smørbar glasur.","Bre glasuren over den avkjølte kaken og la den sette seg før servering.","TIP: Kaken blir ekstra saftig dagen etter. Oppbevares kjølig og tildekket."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755560023988_dskuqphf0","title":"Figurkrem","servings":"30-40 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":35,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Delikate småkaker med potetmel som gir unik, sprø-seig tekstur. Fløten og romessensen gir en luksuriøs smak som løfter de enkle ingrediensene. Formes med pepperkakeformer til festlige figurer. Sprøest samme dag de bakes, men holder seg godt i tett boks.","image":"figurkrem.jpg","ingredients":[{"group":"Deig","items":["2 egg","100 g sukker","200 g smør, romtemperert","100 g potetmel","40 g hvetemel","1 ½ ts bakepulver","2 ss fløte","50 g hvetemel ekstra til justering","½ ts romessens"]}],"instructions":["Pisk egg og sukker til eggedosis.","Tilsett smøret litt av gangen og rør godt.","Sikt sammen potetmel, hvetemel, bakepulver og kanel. Vend dette inn vekselvis med fløten.","Rør inn romessens og arbeid deigen til den blir jevn og smidig.","Pakk deigen i plast og la den hvile i kjøleskapet i ca. 30 minutter.","Kjevle ut deigen til ca. 3–4 mm tykkelse på et melet bakebord.","Stikk ut figurer med pepperkakeformer eller glass.","Legg figurene på stekebrett kledd med bakepapir.","Stek midt i ovnen ved 180 °C i 8–10 minutter, til de er lett gyllenbrune.","Avkjøl på rist.","TIP: Kakene kan oppbevares i tett boks i flere uker, men er sprøest samme dag de er bakt."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755560963597_u6hujnzsj","title":"Aprikosmos","servings":"4 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":36,"category":"Dessert","meal":"Dessert","cuisine":"Norsk","description":"Kremet aprikosmos med søt og fruktig smak, perfekt som dessert eller kakefyll. De tørkede aprikosene kokes møre og moses til en glatt puré som blandes med sukker og krem. Resultatet er en luftig og delikat dessert med intens aprikossmak. Kan pyntes med appelsinskiver for ekstra eleganse. Tilsett gjerne litt sitronsaft for å balansere sødmen.","image":"aprikosmos.jpg","ingredients":["250 g tørkede aprikoser","½ ts salt","3–4 aprikoskjerner (valgfritt)","1–2 dl kremfløte","125 g sukker"],"instructions":["Skyll aprikosene og legg dem i en kjele.","Kok i lettsaltet vann i 15–20 minutter til møre.","Sil av kokevannet (spar litt til justering).","Mos aprikosene fint, gjerne med stavmikser.","Rør inn sukker mens mosen er varm.","Avkjøl helt.","Vend inn lett pisket krem.","Server i dessertskåler og pynt med appelsinskiver.","TIP: Tilsett litt sitronsaft for friskere smak."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755560893492_1fold3rr2","title":"Franske vafler","servings":"Ca. 20–25 små kaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":36,"category":"Pannekaker og lefser","meal":"Kaffe","cuisine":"Europeisk","description":"Små, elegante vafler med sukkerkrystallisert overflate og kremet fyll. Den kalde smørdeigen blir ekstra sprø, mens sukkeret karamelliserer lett under steking. Fylles med pisket krem eller smørkrem for en luksuriøs munnfull. Må fylles samme dag for optimal sprøhet.","image":"franskevafler.jpg","ingredients":["125 g smør (kaldt, i terninger)","1,25 dl kremfløte","125 g sukker","Grovt sukker til dryss","1½ dl krem eller smørkrem til fyll"],"instructions":["Smuldre smør og mel sammen til en kornete masse.","Tilsett fløten og elt raskt til en jevn deig.","Kjevle deigen tynt ut og stikk ut små runde kaker.","Vend hver kake i sukker på den ene siden.","Legg kakene på stekebrett med sukkersiden opp.","Stek ved 190 °C i 7–10 minutter til gyldne.","Avkjøl på rist.","Legg kakene sammen to og to med krem eller smørkrem som fyll.","TIP: Kakene bør fylles samme dag de skal serveres."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755560809737_iki43pv6d","title":"Sigrunns kake","servings":"1 kake (ca. 10–12 porsjoner)","provider":"Sigrunn","reference":"Oppskriftsbok","pageNumber":36,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig formkake hvor potetmel gir lett, nesten svevende konsistens. Den enkle smaken lar de gode råvarene skinne. Holder seg saftig lenge og passer godt med bær eller krem. En pålitelig klassiker som alltid blir vellykket.","image":"sigrunnskake.jpg","ingredients":["300 g smør (romtemperert eller smeltet og avkjølt)","300 g sukker","3 egg","150 g potetmel","160 g hvetemel","1 ts bakepulver"],"instructions":["Pisk smør og sukker hvitt og luftig.","Tilsett eggene, ett om gangen, og pisk godt mellom hvert.","Bland potetmel, hvetemel og bakepulver, og sikt det inn i røren. Vend forsiktig sammen.","Hell røren i en smurt kakeform (ca. 24 cm springform).","Stek på 175 °C i ca. 1 time, til kaken er gyllen og gjennomstekt.","Avkjøl i formen noen minutter før den tas ut.","TIP: Server gjerne med bær og krem eller dryss melis over kaken før servering."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755561053234_vrosyv1oq","title":"Bondehavrekjeks","servings":"Ca. 40–50 kjeks","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":37,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Grove, rustikke kjeks med havregryn som gir nøtteaktig smak og sprø tekstur. Melken og smøret gjør dem mykere enn tradisjonelle havrekjeks, med en behagelig balanse mellom sprøhet og seighet. Perfekte som turmat, til melkeglass eller som en sunn snacks. Best når de ikke lages for tykke - da blir de sprø utenpå og litt seige inni.","image":"bondehavrekjeks.jpg","ingredients":["500 g havregryn","500 g margarin eller smør","500 g hvetemel","5 dl melk","150–200 g sukker (juster etter smak)","6 ts bakepulver"],"instructions":["Varm opp melken og smelt margarinen i den.","Bland havregryn og sukker i en stor bolle.","Hell melkeblandingen over og la det stå minst 30 minutter.","Bland hvetemelet med bakepulver og rør det inn i deigen.","Kjevle ut deigen til ca. 3–4 mm tykkelse. Stikk ut runde kjeks med et glass eller skjær ut firkanter.","Legg kjeksene på bakepapirkledd stekebrett.","Stek midt i ovnen ved 200 °C i 8–12 minutter, til de er gyldne.","Avkjøl på rist.","TIP: Kjeksene blir best hvis de ikke lages for tykke. Oppbevares i tett kakeboks."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755561481988_fwwrfd8pn","title":"Majas Kokos-sukkerkake","servings":"1 liten langpanne eller 12–14 kakestykker","provider":"Maja","reference":"Oppskriftsbok","pageNumber":38,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig kokoskake med intens kokossmak og myk konsistens. Den generøse mengden kokos gir både smak og tekstur. Holder seg saftig lenge og blir ofte bedre etter hvile. Kan serveres med bær og krem for ekstra luksus.","image":"kokossukkerkake.jpg","ingredients":["3 egg","200 g sukker","100 g smør, smeltet","1 dl kremfløte eller fløtemelk","180 g hvetemel","2 dl kokosmasse","1 ts bakepulver"],"instructions":["Pisk egg og sukker til luftig eggedosis.","Vend inn smeltet smør og fløte.","Bland mel og bakepulver, og sikt det inn i røren.","Tilsett kokosmasse og rør forsiktig sammen.","Hell røren i en smurt og strødd form.","Stek midt i ovnen ved 175 °C i 25–30 minutter.","Avkjøl på rist før servering.","TIP: Kaken holder seg saftig lenge og passer godt til kaffe eller med bær og krem."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755561559921_tq2e55vou","title":"Havremuffins","servings":"Ca. 15–20 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":39,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Saftige havremuffins toppet med rik sjokoladeglasur for uimotståelig kombinasjon. Havregrynene gir en nøtteaktig base som balanserer den søte glasuren perfekt. Mandler eller rosiner tilføyer ekstra tekstur. Enkle å lage og alltid populære.","image":"havremuffins.jpg","ingredients":[{"group":"Muffinsrøre","items":["2 egg","2 dl sukker","150 g smeltet margarin eller smør","90 g havregryn","180 g hvetemel","1 ts bakepulver","2–3 ss hakkede mandler eller rosiner"]},{"group":"Glasur","items":["120 g melis","1 ½ ss kakaopulver","2 ½ ss sterk kaffe","2 ss margarin eller smør"]}],"instructions":["Pisk egg og sukker til eggedosis.","Rør inn smeltet margarin.","Tilsett havregryn, hvetemel og bakepulver, bland godt.","Vend inn hakkede mandler eller rosiner.","Fordel røren i muffinsformer, ca. ¾ fulle.","Stek ved 175 °C i 15–20 minutter til de er gylne.","Lag glasur: Bland melis og kakao, tilsett kaffe og smeltet margarin. Rør til en glatt glasur.","Avkjøl muffinsene før du smører glasuren på.","TIP: Tilsett gjerne litt hakket mørk sjokolade i røren for ekstra smak."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755561648523_d51yw1y7u","title":"Honningkake","servings":"12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":40,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig honningkake med dyp kryddersmak og søt smørkremglasur. Sirupen gjør kaken ekstra saftig og holdbar. Ingefær, kanel og kardemomme gir varm, innbydende aroma. Glasuren med appelsinmarmelade tilføyer friskhet. Perfekt julekake som holder seg lenge.","image":"honningkake.jpg","ingredients":[{"group":"Deig","items":["500 g lys sirup (ca. 4 dl)","325 g hvetemel (ca. 5,5 dl)","1 ss smør","50 g sukker (ca. 0,5 dl)","1 ss malt ingefær","1 ts kanel","1 ts kardemomme","1 ts natron","2 egg","1,5 dl kulturmelk eller kefir"]},{"group":"Glasur","items":["200 g margarin","50 g melis (ca. 1 dl)","1 eggehvite","1 ts vaniljesukker eller 1 ss appelsinmarmelade"]}],"instructions":["Varm sirupen i vannbad til den blir flytende.","Rør inn sukker og smør til det smelter. Avkjøl litt.","Bland mel, krydder og natron i en bolle.","Tilsett sirupsblanding og kulturmelk vekselsvis i det tørre.","Visp eggene lett sammen og vend inn i røren.","Hell røren i en smurt form (22–24 cm springform eller liten langpanne).","Stek ved 175 °C i ca. 45–55 minutter, sjekk med kakepinne.","Avkjøl på rist.","Pisk margarin og melis til luftig krem.","Tilsett eggehvite og smak til med vaniljesukker eller appelsinmarmelade.","Bre glasuren over avkjølt kake.","TIP: La kaken hvile til neste dag for best smak. Kan fryses."],"createdAt":"2025-08-19"},
            {"id":"recipe_1755823341462_u7qwjljvv","title":"Trondheimspose (Bladkrans)","servings":"1 stor krans (ca. 12–16 skiver)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":41,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Imponerende flettet gjærkrans fylt med smør, sukker, kanel og frukt. Klippes og flettes til dekorativ form. Melisglasuren med sitron gir frisk finish. Ser komplisert ut men er overraskende enkel å lage.","image":"bladkrans.jpg","ingredients":[{"group":"Deig","items":["500 g hvetemel","1 ts salt","500 g margarin","60 g sukker","Skall av ½ sitron","1 egg","3 dl melk (lunken, ca. 37–40 °C)","50 g fersk gjær (eller 1 pose tørrgjær)"]},{"group":"Fyll","items":["35 g margarin (halvsmeltet eller mykt)","35 g sukker","1 ts kanel","70 g rosiner","70 g sukat"]},{"group":"Glasur","items":["150 g melis","Saft av ½ sitron","Litt vann"]}],"instructions":["Lag en vanlig gjærdeig: Smuldre gjæren i lunken melk. Bland inn smør, sukker, salt, sitronskall og egg. Tilsett melet og elt til en smidig deig. Hev til dobbel størrelse.","Kjevle deigen ut til et rektangel, ca. 35 × 65 cm.","Smør over halvsmeltet margarin og dryss jevnt over sukker, kanel, rosiner og sukat.","Rull deigen sammen fra langsiden til en fast pølse.","Klipp pølsen nesten helt igjennom på langs, og tvinn eller flett de to delene sammen. Form til en sirkel/krans og legg på bakepapirkledd stekebrett.","Etterhev i ca. 30 minutter.","Stek midt i ovnen ved 230 °C i 20–25 minutter, til kransen er gyllenbrun.","Lag glasuren: Rør sammen melis, sitronsaft og litt vann til en tykk, men rennende glasur.","Drypp glasuren over den avkjølte kransen før servering.","TIP: Spises helst samme dag, men kan fryses."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755823990254_g0n3lll4z","title":"Eplekake","servings":"1 kake (8–10 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":42,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig eplekake med smørdeig og eplebåter som karamelliserer lett under steking. Den enkle røren av smør, sukker og egg gir en myk bunn som fremhever eplenes friske syre. Sukkeret på toppen skaper en lett, sprø hinne. Server lun med vaniljesaus eller is for ultimate høstkos.","image":"eplekake.jpg","ingredients":[{"group":"Røre","items":["120 g smør (romtemperert)","150 g sukker","175 g hvetemel","2 ts bakepulver","2 egg"]},{"group":"Topping","items":["2–3 epler (syrlige, skrelte og i båter)","1 ss sukker til strø"]}],"instructions":["Rør smør og sukker hvitt og luftig.","Bland hvetemel og bakepulver, sikt inn i røren.","Tilsett eggene ett om gangen, rør godt.","Ha røren i en smurt form.","Legg eplebåtene i et pent mønster på toppen.","Strø over litt sukker.","Stek ved 180 °C i 20–30 minutter til gyllen og gjennomstekt.","TIP: Server gjerne lun med vaniljesaus, krem eller is."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755823861497_lx630v7qa","title":"Mandelfromasj","servings":"6–8 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":42,"category":"Dessert","meal":"Dessert","cuisine":"Norsk","description":"Elegant mandelfromasj med lett konsistens og sprø mandelstykker. Gelatinen stabiliserer kremen til perfekt fromasjkonsistens. De ristede mandlene gir nøtteaktig dybde. Serveres i glass toppet med krem eller frukt.","image":"mandelfromasj.jpg","ingredients":["150 g mandler (ristede, hakkede)","150 g sukker","4 eggeplommer","2 ss melis","8 dl kremfløte","12 plater gelatin (ev. 8–10 for mykere konsistens)","0,5 dl kokende vann"],"instructions":["Skåld, rist og hakk mandlene grovt.","Pisk eggeplommer og sukker til en lys og luftig eggedosis.","Pisk fløten til krem, tilsett melis mot slutten.","Legg gelatinplatene i kaldt vann 5 min, smelt dem i 0,5 dl kokende vann.","Bland eggedosisen med mandler, rør forsiktig inn krem.","Vend inn den oppløste gelatinen i en tynn stråle.","Fordel i glass eller bolle og sett kaldt til servering.","TIP: Server gjerne med et lag vispet krem eller frisk frukt på toppen."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755824362629_5nvukyn49","title":"Kokosmakroner","servings":"Ca. 30 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":43,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Saftige kokosmakroner med sprø kant og seig, myk kjerne. Den enkle blandingen av egg, sukker og kokos gir intens kokossmak. Populære hos både barn og voksne. En klassisk julekake som også passer hele året.","image":"kokosmakroner.jpg","ingredients":["3 egg","250 g sukker","125 g smeltet smør eller margarin","250 g kokosmasse","100 g hvetemel","½ ts bakepulver"],"instructions":["Pisk egg og sukker til en lys og luftig blanding.","Rør inn smeltet smør.","Vend inn kokosmasse, mel og bakepulver.","Sett små topper med skje på bakepapirkledd stekebrett.","Stek ved 200 °C i 8–10 minutter, til gyllenbrune i kantene."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755824413594_gh5xlrrn8","title":"Nøttepletter","servings":"Ca. 25 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":43,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Små sprø nøttekaker med hasselnøtter som gir delikat smak og gyllen farge. Den enkle deigen lar nøttesmaken skinne. Vaniljesukkeret gir en subtil aroma. Perfekte småkaker som forsvinner fort fra fatet.","image":"nøttepletter.jpg","ingredients":["100 g smør, romtemperert","150 g sukker","200 g hvetemel","40 g hakkede hasselnøtter","1 ts bakepulver","1 ts vaniljesukker","1 egg"],"instructions":["Rør smør og sukker hvitt og porøst.","Tilsett egget og bland godt.","Vend inn de hakkede nøttene.","Sikt sammen mel, bakepulver og vaniljesukker, og bland i deigen.","Sett små kaker på bakepapirkledd stekebrett.","Stek ved 190 °C i ca. 10 minutter, til de er gyllenbrune."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755824310285_18a0usvg3","title":"Tyske skiver","servings":"Ca. 40 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":43,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Enkle småkaker av mørdeig formet til pølser og skåret i skiver. Den rene smaken av smør og melis skinner gjennom. Blir sprø og delikate med lett søthet. Raske å lage og alltid vellykkede.","image":"tyskeskiver.jpg","ingredients":["375 g smør, romtemperert","250 g melis","500 g hvetemel"],"instructions":["Rør smør og melis hvitt og porøst.","Elt inn hvetemel til en jevn deig.","Del deigen i to og trill til pølser.","La pølsene hvile kaldt en stund.","TIP: Gjerne i kjøleskapet 1 time for lettere oppskjæring.","Skjær i skiver og legg på stekebrett.","Stek ved 180 °C i ca. 8–10 minutter til lett gylne kanter."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755825227921_4w2ssuko6","title":"Amerikansk fruktkake","servings":"12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":44,"category":"Formkaker","meal":"Kake","cuisine":"Amerikansk","description":"Mektig fruktkake med store mengder smør, sukker og tørket frukt som gir intens sødme. Aprikosene eller eplene tilføres direkte uten bløtlegging, noe som bevarer deres tekstur og skaper smakskontraster i kaken. Resultatet er en holdbar og rik kake med kraftig fruktsmak, perfekt som festkake eller når man ønsker noe ekstra søtt. Holder seg godt i flere dager og blir ofte bedre etter litt lagring.","image":"amerikanskfruktkake.jpg","ingredients":["4 egg","500 g sukker","2 dl kremfløte","250 g smør, smeltet","500 g hvetemel","2 ts bakepulver","200 g tørkede aprikoser eller eplebiter"],"instructions":["Forvarm ovnen til 175 °C.","Smør en stor brød- eller kakeform.","Pisk egg og sukker til en luftig eggedosis.","Rør inn smeltet smør og fløte.","Bland mel med bakepulver og sikt det inn.","Vend inn tørkede aprikoser eller eplebiter (uten bløtlegging).","Hell røren i formen og stek midt i ovnen i ca. 45 minutter.","Avkjøl i formen i noen minutter før kaken hvelves over på rist."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755825197412_oz9dzui1c","title":"Tradisjonell honningkake","servings":"12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":44,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Autentisk honningkake med ekte honning som gir dyp, kompleks sødme. Kraftig krydret med nellik og ingefær. Pommeransskallet og sukaten gir gammeldags julesmak. Heves med hjortesalt for tradisjonell aroma. En robust kake med karakter.","image":"tradisjonellhonningkake.jpg","ingredients":["8 egg","500 g sukker","¼ liter honning (ca. 334 g)","500 g hvetemel","1–2 ss tørket pommeransskall (evt. revet appelsinskall)","½ ts malt nellik","2 ts malt ingefær","1 toppet ts hjortesalt (evt. 2 ts bakepulver)","60 g sukat"],"instructions":["Forvarm ovnen til 160 °C.","Smør og strø en stor form godt.","Pisk egg og sukker til luftig eggedosis.","Rør inn honning, deretter mel, krydder, hjortesalt og sukat i rekkefølge.","Bland til en jevn røre.","Hell røren i formen og stek nederst i ovnen i 50–60 minutter.","Avkjøl på rist før servering."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755825405306_78u3sb7lq","title":"Svenske pepperkaker","servings":"Ca. 60–70 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":45,"category":"Julekaker","meal":"Kaffe","cuisine":"Svensk","description":"Svenske pepperkaker med sirup, mandler og sukat for kompleks julesmak. Formes til ruller som skjæres i tynne skiver før steking. Kanel og nellik gir varm kryddersmak. Blir sprø og holdbare - perfekte til jul.","image":"svenskepepperkaker.jpg","ingredients":["250 g smør","2 ½ dl sukker (ca. 225 g)","1 dl mørk sirup (ca. 140 g)","75 g finhakkede mandler","50 g sukat (eller hakket kandisert frukt)","1 ss kanel","½ ts malt nellik","½ ts natron","500 g hvetemel (ca. 8,5 dl, tilpass mengden etter deigen)"],"instructions":["Smelt smør, sukker og sirup i en kjele. Varm opp til sukkeret er oppløst, men la det ikke koke.","Ta kjelen av varmen. Tilsett mandler, sukat og krydder. Rør inn natron.","TIP: Dersom du ikke ønsker å bruke sukat, kan du erstatte det med rosiner, tørkede tranebær, hakket appelsinskall eller kandiserte kirsebær for variasjon.","Bland inn hvetemelet, litt etter litt, til en jevn men fast deig. Ikke arbeid for mye.","Del deigen i to. Form til ruller, ca. 4–5 cm i diameter.","Pakk hver rull godt inn i bakepapir eller plastfolie. Legg kaldt til neste dag.","Neste dag: skjær rullene i svært tynne skiver med en skarp kniv.","Legg skivene på smurt eller bakepapirkledd stekebrett.","Stek midt i ovnen ved 160–175 °C i 8–10 minutter, til gyllenbrune og sprø.","Avkjøl på rist. Oppbevar i tett boks."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755825559027_36yv0oaen","title":"Hjortetakk","servings":"Ca. 20-25 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":46,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Sprø julekaker formet som ringer og fritert til gyllen perfeksjon. Smaken av sitron og kardemomme gir en delikat aroma. Den tradisjonelle friteringen gir unik sprøhet som ikke kan oppnås i ovn. Kan dyppes i sukker for ekstra sødme.","image":"hjortetakk.jpg","ingredients":["2 egg","125 g sukker","65 g margarin (eller smør for mer smak)","½ ss revet sitronskall","ca. 250 g hvetemel","½ ts hornsalt (hjortetaksalt)","¼ ts kardemomme"],"instructions":["Visp egg og sukker til eggedosis.","Smelt margarinen (eller smøret), avkjøl og rør inn.","Tilsett revet sitronskall.","Bland hornsalt (hjortetaksalt), kardemomme og ¾ av melet. Sikt det inn og rør til en jevn deig.","Sett deigen kaldt til neste dag.","Trill ut små stenger av deigen og form til ringer.","Varm smult eller nøytral olje til ca. 170 °C og stek kakene til de er gyllenbrune.","Avkjøl på rist og oppbevar tørt i kakeboks.","TIP: Kakene kan dyppes lett i sukker etter steking for ekstra sprøhet og sødme."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755825687707_6yelvc9fd","title":"Konfektkake","servings":"12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":47,"category":"Lagkaker","meal":"Kake","cuisine":"Norsk","description":"Lagdelt konfektkake dynket med appelsinsaft og fylt med nøttekrem. Den friske appelsinen balanserer den rike sjokoladekremen perfekt. Valnøttene gir sprøhet og dybde. En elegant kake som kombinerer friskhet og fylde på mesterlig vis.","image":"konfektkake.jpg","ingredients":[{"group":"Kakebunn","items":["160 g smør (romtemperert)","200 g sukker","2 egg","200 g hvetemel","2 ts bakepulver","1 1/4 dl melk"]},{"group":"Sjokoladekrem","items":["125 g usaltet smør (romtemperert og mykt)","250 g melis (siktet)","4–5 ss kakao","1 toppet ts vaniljesukker"]},{"group":"Til montering og pynt","items":["Litt søtet appelsinsaft (til dynking)","12–15 valnøtter (grovhakket eller hele)"]}],"instructions":["Rør smør og sukker hvitt og luftig.","Tilsett eggene, ett om gangen, og pisk godt mellom hvert.","Bland mel og bakepulver, sikt sammen og rør inn vekselvis med melk.","Ha røren i en smurt rund form (ca. 25 cm i diameter).","Stek ved 175 °C i 30–40 minutter, til kaken er gjennomstekt.","Avkjøl kaken helt og del den i to lag.","Rør smøret mykt til sjokoladekremen.","Tilsett melis litt etter litt, deretter kakao og vaniljesukker. Pisk til en luftig krem.","TIP: Sjokoladekremen må ikke stå for kaldt, da blir den vanskelig å smøre ut.","Dynk begge kakebunnene med litt søtet appelsinsaft.","Smør halvparten av sjokoladekremen på den nederste bunnen.","Strø over grovhakkede valnøtter.","Legg den andre bunnen oppå.","Smør resten av kremen på toppen og rundt hele kaken slik at den dekkes.","Pynt med valnøtter på toppen."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755825995110_j1pvjeoo6","title":"Kringle","servings":"1 stor kringle (ca. 12 stk.)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":49,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"En klassisk norsk kringle med kardemomme og sukker. Kan fylles med syltetøy eller sukker/kanel. Deigen er luftig og myk, med sprø overflate når den pensles med eggehvite og sukker. Perfekt til kaffe eller festbord.","image":"kringle.jpg","ingredients":[{"group":"Deig","items":["500 g hvetemel","100 g smør eller margarin","125 g sukker","½ ts kardemomme","50 g gjær eller 1 pose tørrgjær (11 g)","3 dl melk (lunken)"]},{"group":"Pensling og fyll","items":["1 eggehvite","2 ss sukker eller kakaosukker","Evt. syltetøy eller sukker/kanel til fyll"]}],"instructions":["Smuldre smøret i melet.","Løs gjæren opp i litt av den lunkne melken.","Bland alt godt sammen med sukker og kardemomme, elt deigen til den er smidig.","La deigen heve til dobbel størrelse.","Form til kringle og fyll eventuelt med syltetøy eller sukker/kanel.","Pensle med eggehvite og dryss på sukker eller kakaosukker.","Stek ved 200 °C i ca. 20–25 minutter til gyllen."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755826013072_bvrwfpolb","title":"Sjokoladekake med kjeks","servings":"Ca. 12 biter","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":49,"category":"Konfekt","meal":"Kake","cuisine":"Norsk","description":"Kald sjokoladekake med kjeks og kaffe som settes uten steking. Lagvis oppbygging med kjeks og sjokolademasse gir interessant tekstur. Pyntes med frukt og nøtter for festlig utseende. Holder seg godt i kjøleskap.","image":"enkelsjokoladekakemedkjeks.jpg","ingredients":[{"group":"Hovedblanding","items":["100 g kokosfett (Delfiafett)","200 g kokesjokolade (eller 2 toppede ss kakao + 1–6 ss sukker, etter smak)","4 ss sterk kaffe","2 egg","1 ss sukker (ved bruk av sjokolade, justeres ved kakao)","200 g kjeks (Mariekjeks eller Digestive)"]},{"group":"Pynt","items":["Kandiserte frukter","Mandler","Valnøtter"]}],"instructions":["Smelt kokosfett og kokesjokolade sammen med kaffen på svak varme. Alternativt: bruk kakao og sukker.","Skill eggene. Pisk hvitene stive og plommene med sukker.","Rør eggene inn i sjokoladeblandingen litt etter litt.","Legg lagvis med sjokolademasse og kjeks i en form kledd med bakepapir.","Pynt toppen med kandiserte frukter, mandler eller valnøtter.","Sett kaken kjølig til den er stivnet.","Skjær i skiver og server.","TIP: Kaken er holdbar i kjøleskap og passer godt til jul eller selskap."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755869538227_fx98i3fdq","title":"Hardangerlapper","servings":"Ca. 20 lapper","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":50,"category":"Pannekaker og lefser","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Myke lapper med surmelk og natron som gir luftig konsistens og mild syrlig smak. Den tykke røren stekes til gylne, fluffy lapper som smaker fantastisk med smør og brunost. En vestlandsk spesialitet som passer til både frokost og kveldsmat.","image":"hardangerlapper.jpg","ingredients":["2 egg","½ dl sukker","½ liter kjernemelk eller sur fløte","½ ts vaniljesukker","1 ts natron","Ca. 300 g hvetemel (til røren får passe tykk konsistens)"],"instructions":["Pisk egg og sukker til en lys og luftig blanding.","Tilsett melk, natron og vaniljesukker.","Rør inn hvetemel til du får en røre som ligner en tykk vaffelrøre.","La røren hvile i ca. 15 minutter.","Stek små lapper på takke eller i stekepanne med litt smør.","Stek til de er gylne på begge sider.","Server varme med smør, brunost eller syltetøy."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755869626396_rm4t6uql5","title":"Mandelkake","servings":"12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":51,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Glutenfri mandelkake uten mel, saftig og nøttepreget. De malte mandlene gir tett, fuktig konsistens. Sjokoladeglasuren med delfiafett blir blank og holdbar. Perfekt for glutenintolerante eller mandelentusiaster.","image":"mandelkake.jpg","ingredients":[{"group":"Kakebunn","items":["3 egg","300 g sukker","300 g malte mandler"]},{"group":"Glasur","items":["½ plate mørk sjokolade (ca. 50 g)","4 biter delfiafett (ca. 40 g)"]}],"instructions":["Pisk egg og sukker til lys og luftig eggedosis.","Vend inn malte mandler forsiktig.","Hell røren i en smurt kakeform.","Stek midt i ovnen ved 175 °C i ca. 20 minutter.","Smelt sjokolade og delfiafett sammen.","Smør glasuren over kaken når den er avkjølt."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755869945385_cmkyoa80m","title":"Nordlandslefse","servings":"20–24 lefser","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":51,"category":"Pannekaker og lefser","meal":"Kaffe","cuisine":"Norsk","description":"Tradisjonelle nordlandslefser med surmelk og krydder som gir karakterfull smak. Kardemomme, kanel og nellik gir varm, aromatisk duft. Saftige og myke, perfekte med smør og sukker. En regional spesialitet med distinkt personlighet.","image":"nordlandslefser.jpg","ingredients":["3 kopper (ca. 7,5 dl) surmelk","3 ts sukker","1 ss smør, smeltet","1 ts kardemomme","1 ts kanel","1 ts nellik","2 ts hornsalt (hjortetaksalt)","Ca. 1–1,2 kg hvetemel"],"instructions":["Bland surmelk, sukker, smeltet smør og krydder i en stor bolle.","Rør inn hjortetaksalt og tilsett mel litt etter litt til du får en myk, smidig deig som kan kjevles.","La deigen hvile i minst 30 minutter.","Del i emner og kjevle ut til tynne lefser.","Stek på takke eller tørr panne til de er gyldne på begge sider.","TIP: Oppbevar under klede så lefsene holder seg myke."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755869894125_5c2pp0qg1","title":"Tradisjonell krydderkake","servings":"12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":51,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Mørk, kraftig krydderkake med nellik, kanel, rosiner og sukat. Mer robust enn moderne varianter med intens kryddersmak. Ekstra holdbar og blir bedre med tid. Perfekt julekake for de som liker tradisjonelle, kraftige smaker.","image":"tradisjonellkrydderkake.jpg","ingredients":["150 g smør","250 g sukker","2 egg","1,5 dl melk","250 g hvetemel","2 ts bakepulver","1 ts malt nellik","1 ts malt kanel","100 g rosiner","50 g sukat"],"instructions":["Pisk smør og sukker hvitt og luftig.","Tilsett eggene ett om gangen, pisk godt mellom hvert.","Bland mel, bakepulver og krydder og sikt inn vekselvis med melk.","Vend inn rosiner og sukat til slutt.","Hell røren i en smurt brødform.","Stek ved 175 °C i ca. 45 minutter, til kaken er gjennomstekt.","Avkjøl før servering.","TIP: Holder seg saftig i flere dager og passer fint i kakeboks."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755870232579_l6ih311dg","title":"Romkrans","servings":"1 kake (8–10 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":52,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Elegant romkrans med sukkerbrødsbunn og kremet romfyll for voksen smak. Den lette bunnen absorberer romkremen perfekt. Romsmaken er distinkt men ikke overveldende. Serveres kald som sofistikert dessert eller festkake.","image":"romkrans.jpg","ingredients":[{"group":"Sukkerbrød","items":["3 egg","Sukker tilsvarende eggenes vekt (ca. 150 g)","Mel tilsvarende halvparten av eggenes vekt (ca. 75 g hvetemel)"]},{"group":"Romkrem","items":["2 eggeplommer","¾ dl sukker (ca. 65 g)","2 dl melk","2 ss potetmel","100–150 g smør","2–3 ss rom (tilsettes når kremen er avkjølt)"]}],"instructions":["Pisk egg og sukker til stiv eggedosis.","Sikt inn melet og vend det forsiktig inn.","Hell røren i en smurt kakeform (20–22 cm) og stek ved 175 °C i ca. 30 minutter.","Lag romkremen: Visp sammen eggeplommer, sukker, melk og potetmel i en kjele.","Varm opp under omrøring til det tykner. Avkjøl helt.","Når kremen er kald, rør inn smøret og smak til med rom.","Del sukkerbrødet i to og fyll med romkremen. Bruk gjerne også krem som glasur på toppen.","Sett kaken kjølig før servering. Serveres kald."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755870202142_j7meflsr5","title":"Sigrids Vinabrød","servings":"Ca. 20–25 småbrød","provider":"Sigrid","reference":"Oppskriftsbok","pageNumber":52,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Saftige småbrød fra løs gjærdeig som gir ekstra myke og holdbare bakevarer. Den generøse mengden smør og melk skaper en rik, nesten brioche-aktig tekstur. Kan bakes med eller uten rosiner. Holder seg myke i flere dager.","image":"sigridsvinabrod.jpg","ingredients":["5 dl melk (lunken, ca. 37 °C)","500 g smør (smeltet eller mykt)","1 kg hvetemel (ca. 16–17 dl, justeres etter behov)","5 ss sukker","50 g gjær (fersk eller tørrgjær, ca. 1 pose tørrgjær)",{"group":"Tillegg","items":["Rosiner etter ønske"]}],"instructions":["Varm melken til lunken (ca. 37 °C for fersk gjær, 40 °C for tørrgjær).","Rør ut gjæren i melken.","Tilsett smeltet eller mykt smør, sukker og det meste av melet.","Elt til en løs deig som så vidt slipper bollen. TIP: Deigen skal være løs, dette gir saftigere småbrød.","La deigen heve under klede til dobbel størrelse, ca. 1 time.","Del i emner og trill ut små brød/boller. Sett på bakepapirkledd plate.","Etterhev 30 minutter.","Pensle med egg eller melk og stek ved 200 °C i ca. 12–15 minutter.","Avkjøl på rist. Server lune eller kalde."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755870623547_7wkoxz8hw","title":"Enkel sandkake","servings":"12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":53,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Lett sandkake med potetmel som gir unik, porøs konsistens og sitrus for friskhet. Kombinasjonen av sitron- og appelsinskall gir en aromatisk duft og balansert syrlig-søt smak. Glasuren med dobbel sitrus forsterker fruktsmaken og gir en glitrende finish. Potermelet gjør kaken ekstra luftig og myk.","image":"enkelsandkake.jpg","ingredients":[{"group":"Kake","items":["200 g smør","200 g sukker","4 egg","150 g hvetemel","100 g potetmel","2 ts bakepulver","Revet skall av 1 sitron","Revet skall av 1 appelsin"]},{"group":"Glasur","items":["75 g melis","Saft av 1 sitron","Saft av 1 appelsin"]}],"instructions":["Visp egg og sukker til luftig eggedosis.","Vend inn smeltet, avkjølt smør.","Sikt sammen hvetemel, potetmel og bakepulver, og vend forsiktig inn.","Tilsett revet skall av sitron og appelsin.","Hell røren i en smurt og melet form.","Stek ved 175 °C i 30–35 minutter, til kaken er gyllen og gjennomstekt.","Lag glasur ved å røre melis med sitron- og appelsinsaft til en tykk, rennende konsistens.","Hell glasuren over kaken når den er avkjølt."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755870364773_i5gfi7gyc","title":"Fru Enges kake","servings":"12 stk.","provider":"Fru Enge","reference":"Oppskriftsbok","pageNumber":53,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig appelsinkake med intens sitrussmak i både bunn og glasur. Den generøse mengden appelsinsaft og skall gir en frisk, aromatisk kake. Smørkremglasuren balanserer syrligheten med rik sødme. Kan også toppes med lettere appelsinglasur for mindre mektig variant.","image":"fruengeskake.jpg","ingredients":[{"group":"Kake","items":["120 g smør","315 g sukker","280 g hvetemel (ca. 4,5 dl)","1,2 dl appelsinsaft","0,6 dl vann","3 ts bakepulver","1 ts salt","2 egg","Revet skall av 1 appelsin"]},{"group":"Glasur","items":["120 g smør","200 g melis"]}],"instructions":["Visp smør og sukker luftig.","Tilsett eggene ett og ett, visp godt mellom hvert.","Bland mel, bakepulver og salt, og sikt det inn i røren.","Ha i appelsinsaft, vann og revet appelsinskall. Bland til en jevn røre.","Hell røren i en smurt og melet form.","Stek ved 175 °C i 30–35 minutter, til kaken er gjennomstekt.","Lag glasur ved å vispe mykt smør og melis til en luftig krem.","TIP: Kaken kan også glaseres med en enkel melisglasur med appelsinsaft for friskere smak."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755871189670_mjsekffo4","title":"Enkle småkaker med mandler","servings":"Ca. 40 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":54,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Elegante mandelkaker med rik nøttesmak og sprø tekstur som smelter på tungen. Smøret piskes luftig med sukker før mandlene tilsettes, noe som gir en lett og porøs konsistens. Den gylne fargen og mandelduften gjør dem uimotståelige. Perfekte som luksuskjeks til kaffe eller te.","image":"smakakermedmandler.jpg","ingredients":["350 g smør (romtemperert)","300 g sukker","350 g malte eller finhakkede mandler","250 g hvetemel"],"instructions":["Pisk smør og sukker hvitt og luftig.","Rør inn malte eller finhakkede mandler.","Sikt inn hvetemelet og arbeid sammen til en jevn deig.","La deigen hvile i kjøleskap i minst 30 minutter.","Form små kaker og legg på en smurt eller bakepapirkledd plate.","Stek ved 175 °C i 10–12 minutter, til de er lett gyllenbrune.","Avkjøl på rist før servering."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755871261622_ah5byg7u3","title":"Havregrynskake","servings":"1 langpanne (ca. 20 stk.)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":54,"category":"Langpannekaker","meal":"Kake","cuisine":"Norsk","description":"Enkel havregrynskake med bare tre ingredienser som gir seig, karamellisert godbit. Smøret og sukkeret smelter sammen med havregrynene til en uimotståelig blanding. Kuttes i ruter og serveres som rustikk kaffekos. Overraskende god for så få ingredienser.","image":"havregrynskake.jpg","ingredients":["200 g smør","200 g sukker","400 g havregryn"],"instructions":["Smelt smøret i en kjele.","Rør inn sukker og havregryn til en jevn masse.","Hell røren i en smurt langpanne og trykk den jevnt utover.","Stek ved 175 °C i ca. 15–20 minutter til lett gyllen.","Avkjøl og skjær i firkanter."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755871881274_ede8dvphq","title":"Sjokoladeboller","servings":"Ca. 25 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":54,"category":"Konfekt","meal":"Kaffe","cuisine":"Norsk","description":"Rike sjokoladeboller med kokosfett, kakao og romessens for intens smak. Hakkede nøtter og kokos gir tekstur og dybde. Settes kalde uten steking for enkel tilberedelse. Perfekt konfekt til kaffe eller som hjemmelaget gave.","image":"sjokoladeboller.jpg","ingredients":["250 g kokosfett (Delfiafett)","250 g melis","1 egg (vispet)","1–2 ss kakao","1–2 ss sterk kaffe","Noen dråper romessens","100 g hasselnøtter (hvetenøtter), hakkede","50 g kokosmasse"],"instructions":["Smelt kokosfett i vannbad.","Rør inn melis, vispet egg, kakao og kaffe.","Tilsett noen dråper romessens etter smak.","Bland inn hakkede nøtter og kokosmasse.","Sett små boller på bakepapir med en skje.","La bollene stivne i kjøleskap før servering."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755872233137_oy68eqarf","title":"Fruktkrans","servings":"1 krans (ca. 12 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":55,"category":"Formkaker","meal":"Kaffe","cuisine":"Norsk","description":"Rask kaffekrans med rosiner, sukat og kardemomme, hevet med bakepulver. Den søte, krydrede deigen formes til dekorativ krans og toppes med frisk sitronglasur. Minner om julekake men er mye raskere å lage. Perfekt når man ønsker noe festlig uten lang hevetid.","image":"fruktkrans.jpg","ingredients":[{"group":"Deig","items":["300 g hvetemel","100 g smør, romtemperert","5 ts bakepulver","5 ss sukker","1 ts malt kardemomme","2 ss hakket sukat","2 ss rosiner","2 ss korinter","1 egg","1 ½ dl melk"]},{"group":"Glasur","items":["6 ss melis","1 ss frisk sitronsaft"]}],"instructions":["Smuldre smøret i melet.","Tilsett bakepulver, sukker, kardemomme, sukat, rosiner og korinter.","Rør inn egg og melk til en jevn, litt fast deig.","Form deigen til en rund krans på bakepapirkledd stekebrett.","Stek midt i ovnen ved 200–210 °C i ca. 25 min (originalt: 225 °C).","Glasér kransen mens den ennå er varm med melisglasur rørt ut med sitronsaft."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755872275099_rdlbnwk65","title":"Kaffekjeks med havre","servings":"Ca. 40 kjeks","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":55,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Sprø havrekjeks med smørduft og nøtteaktig aroma som fyller kjøkkenet. Den generøse mengden havregryn gir distinkt smak og tekstur. Passer like godt til ostefat som til kaffe. En allsidig kjeks som alltid forsvinner fort.","image":"kaffekjeksmedhavre.jpg","ingredients":["250 g finvalsede havregryn","250 g hvetemel","½ ts hjortetaksalt (eller natron)","200 g sukker","230 g smør, romtemperert","1 dl melk"],"instructions":["Bland havregryn, mel, hjortetaksalt og sukker.","Smuldre inn smøret.","Tilsett melk og arbeid sammen til en fast deig.","La deigen hvile ca. 1 time i kjøleskap.","Kjevle ut til 3–4 mm tykkelse og stikk ut runde kjeks.","Stek ved 200 °C i 8–10 min til gylne og sprø.","Avkjøl på rist og oppbevar tørt."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755872432161_lbq3aegtg","title":"Kaffekake med kokos","servings":"12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":56,"category":"Langpannekaker","meal":"Kake","cuisine":"Norsk","description":"Enkel kaffekake med nøtter i bunnen og seig kokosglasur på toppen. Kombinasjonen av nøtter og sjokolade-kokos skaper en kompleks, tilfredsstillende smak. Glasuren setter til et deilig, seigt lokk. Holder seg saftig i flere dager.","image":"kaffekakemedkokos.jpg","ingredients":[{"group":"Kakebunn","items":["2 egg","0,5 dl sukker","2 dl hvetemel","1 ts bakepulver","50 g nøttekjerner (hakket)","0,75 dl melk","50 g smør (smeltet)"]},{"group":"Glasur","items":["2 dl melis","2–3 ss vann","1 ss kakao","2 ss kokosmasse"]}],"instructions":["Pisk egg og sukker til en lett eggedosis.","Bland hvetemel med bakepulver og hakkede nøtter.","Rør inn mel- og nøtteblandingen vekselvis med melk.","Vend inn smeltet smør til slutt.","Ha røren i en smurt og strødd form.","Stek ved 180 °C i ca. 25–30 minutter.","Glasur: Kok opp vann og rør ut melis og kakao til en glasur. Avkjøl.","Bre glasuren over kaken og strø kokosmasse oppå.","TIP: Kaken blir ekstra god om den får stå kaldt en stund før servering."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755872511750_k0c037zl1","title":"Mandelkake med frukt","servings":"1 kake (8–10 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":56,"category":"Lagkaker","meal":"Kake","cuisine":"Norsk","description":"Festlig mandelkake fylt med krem og hermetisk frukt for retro-eleganse. Den saftige mandelbunnen absorberer kremen perfekt. Fersken eller aprikos gir søt friskhet. Pyntes med hele mandler for visuell appell.","image":"mandelkakemedfrukt.jpg","ingredients":[{"group":"Bunn","items":["4 egg (skill plommer og hviter)","0,5 dl sukker","150 g mandler (skoldede og malte)","Smør og semulegryn til formen"]},{"group":"Fyll","items":["4 dl kremfløte (pisket til krem)","Hermetiske fersken eller aprikos (i skiver)","Hele skoldede mandler til pynt"]}],"instructions":["Pisk eggeplommer med sukker til en lys eggedosis.","Vend inn malte mandler.","Pisk eggehvitene stive og vend dem forsiktig inn i røren.","Smør en rund form og strø med semulegryn.","Hell røren i formen og stek ved 200 °C i ca. 20 minutter.","Avkjøl kaken helt.","Del bunnen i to lag hvis mulig, ellers legg fyll oppå bunnen.","Bre på pisket krem og legg skiver av fersken eller aprikos oppå.","Pynt med halve skoldede mandler.","TIP: Kaken blir best om den får stå kjølig i minst 1 time før servering."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755872535103_a90h8d4l2","title":"Fastelavnsboller","servings":"12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":57,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Tradisjonelle fastelavnsboller med kardemomme og søt makronfyll eller rosiner. Den luftige gjærdeigen har en mild kryddersmak som komplimenterer det søte fyllet perfekt. Makronfyllet gir en nøtteaktig sødme, mens rosinvarianten er fruktig. Kan også fylles med krem og syltetøy for moderne fastelavnstradisjoner.","image":"fastelavensboller.jpg","ingredients":[{"group":"Deig","items":["250 g hvetemel","2 ss sukker","0,5 ts kardemomme","30 g gjær","1 ss smør","1,5 dl melk (lunken)"]},{"group":"Til pensling","items":["1 egg"]},{"group":"Makronfyll","items":["100 g malte mandler","100 g melis","1 eggehvite"]}],"instructions":["Smuldre gjæren i lunken melk.","Tilsett smør, sukker, kardemomme og hvetemel.","Elt deigen til den er smidig.","Hev deigen til dobbel størrelse.","Del deigen i 12 emner og trill til boller.","La bollene etterheve ca. 25 minutter.","Pensle med egg.","Stek ved 200 °C i ca. 15 minutter.","Avkjøl og fyll med makronfyll eller rosiner og sukat.","TIP: Kan også deles og fylles med krem og syltetøy for moderne fastelavnsboller.",{"group":"Makronfyll","steps":["Mal mandlene fint (eller bruk ferdig mandelmel).","Bland med melis.","Rør inn eggehviten litt etter litt til en jevn masse.","Den skal være ganske fast, ikke flytende, som kan smøres eller legges som klatter i bollene."]}],"createdAt":"2025-08-22"},
            {"id":"recipe_1755872552308_tm2b2fagg","title":"Fyrstekake med kokos","servings":"1 kake (8–10 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":57,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Eksotisk fyrstekake hvor kokos erstatter mandler for tropisk twist. Kokosfyllet er søtere og mer teksturert enn tradisjonelt mandelfyll. Kardemommen og kanelen komplimenterer kokosen perfekt. En spennende variant av den klassiske fyrstekaken.","image":"fyrstekakemedkokos.jpg","ingredients":[{"group":"Deig","items":["175 g smør","125 g sukker","250 g hvetemel","2 ts bakepulver","2 eggeplommer"]},{"group":"Fyll","items":["200 g kokosmasse","200 g melis","2 eggehviter","0,25 ts kardemomme","Litt kanel"]}],"instructions":["Smuldre sammen smør, sukker, mel og bakepulver.","Tilsett eggeplommer og arbeid raskt til en deig.","Kjevle ut deigen og legg i en smurt kakeform.","Rør sammen kokos, melis, eggehviter, kardemomme og litt kanel til et fyll.","Fordel fyllet i formen.","Stek ved 180 °C i ca. 30 minutter, til kaken er gyllen og gjennomstekt.","Avkjøl og server."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755872660421_pgc4hn6dh","title":"Herr Jonsens kake","servings":"1 langpanne (ca. 20-25 stykker)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":58,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Luftig kake med sitron, mandler og korinter som gir elegant, balansert smak. Eggehvitene piskes separat for ekstra letthet. Sitronens friskhet, mandlenes sprøhet og korintenes sødme skaper perfekt harmoni. En sofistikert kaffekake.","image":"hrjonsenskake.jpg","ingredients":["200 g smør","150 g sukker","4 egg (separert i plommer og hviter)","250 g hvetemel","1 ts bakepulver","Revet skall av 1 sitron","Saft av ½ sitron","30 g hakkede mandler","25 g korinter (små rosiner)"],"instructions":["Pisk smør og sukker hvitt.","Tilsett eggeplommene én og én under omrøring.","Bland inn hvetemel, bakepulver, sitronskall og sitronsaft.","Vend inn mandler og korinter.","Pisk eggehvitene stive og vend forsiktig inn i røren.","Hell røren i en smurt langpanne.","Stek ved 175 °C i ca. 25 minutter.","Avkjøl før servering."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755872734771_m05o0r4d5","title":"Syltetøy på glass","servings":"Gir ca. 6-8 glass per porsjon (avhengig av størrelse)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":58,"category":"Tilbehør","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Moderne syltetøy med syltepulver som bevarer frisk bærsmak med bare minutters koketid. Holder 6-12 måneder uåpnet på steriliserte glass, 2-3 uker kjølig etter åpning. Mindre sukker enn tradisjonelle oppskrifter gir friskere, lettere smak. Jordbær og bringebær gir sommerlig syltetøy med perfekt balanse.","image":"syltetoypaglass.jpg","ingredients":[{"group":"Jordbærsyltetøy","items":["1 kg jordbær","850 g sukker","1 pose syltepulver"]},{"group":"Bringebærsyltetøy","items":["2 325 g bringebær","1 500 g sukker","1 pose syltepulver"]}],"instructions":["Rens og skyll bærene.","Bland bærene med sukker i en stor kjele.","Tilsett syltepulver og kok opp under omrøring.","La syltetøyet småkoke et par minutter.","Hell syltetøyet på rene, varme glass og sett på tett lokk.","Avkjøl og oppbevar mørkt og kjølig.","TIP: Oppskriften kan lages både med jordbær og bringebær. Følg mengdeforholdene for den bærsorten du bruker."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755873005244_5p0naba0c","title":"Ettermiddagskake","servings":"1 form (ca. 12 stykker)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":59,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Smørmyk kake med hakket sjokolade, mandler og frisk sitron for kompleks smak. Sjokoladen smelter delvis under steking og skaper lommer av intens kakaofylde. Sitronskallet gir en uventet friskhet som løfter sjokoladesmaken. Blir enda bedre dagen etter når smakene har smeltet sammen.","image":"ettermiddagskake.jpg","ingredients":["200 g smør, romtemperert","250 g sukker","3 egg","150 g hvetemel","1 ts bakepulver","100 g kokesjokolade (grovhakket)","50 g mandler (hakkede)","Finrevet skall av 1 sitron","3 ss melis til glasur","Sjokoladesmuler til pynt"],"instructions":["Forvarm ovnen til 180 °C. Smør en liten springform eller brødform.","Rør smør og sukker hvitt og luftig.","Tilsett eggene, ett om gangen, mens du pisker godt.","Sikt sammen mel og bakepulver, og vend det inn i røren.","Tilsett hakket sjokolade, mandler og sitronskall, rør forsiktig.","Hell røren i formen og jevn til.","Stek midt i ovnen i ca. 35–40 minutter, til kaken er gyllen og gjennomstekt.","Avkjøl kaken. Glasér med melis og dryss sjokoladesmuler over.","TIP: Kaken blir enda bedre om den får stå til dagen etter."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755873288048_os3hu5uha","title":"Deilig fruktkake","servings":"1 stor kake (ca. 12 porsjoner)","provider":"Ukeblad","reference":"Oppskriftsbok","pageNumber":60,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Tung, saftig fruktkake fullpakket med rosiner, svisker, aprikoser og mandler. Frukten vendes i mel for å hindre synking, og kaken blir mørkere og mer intens jo lenger den lagres. Den høye frukt- og nøttemengden gir en tett, fuktig konsistens. Perfekt til jul eller når man ønsker en holdbar kake med dyp, moden fruktsmak.","image":"deiligfruktkake.jpg","ingredients":["4 egg","170 g sukker","170 g margarin (eller smør for rikere smak)","225 g hvetemel","2 ts bakepulver","100 g sukker til frukten","170 g rosiner","20 g svisker, hakket","20 g tørkede aprikoser, hakket","70 g mandler, hakket"],"instructions":["Rør smør og sukker hvitt.","Tilsett eggene, ett om gangen, og pisk godt mellom hvert.","Bland mel og bakepulver sammen.","Vask og skjær frukten i små biter. Vend frukten i halvparten av melet for å unngå at den synker.","Bland resten av melet inn i røren, og rør så forsiktig inn frukten og mandlene.","Hell deigen i en smurt form (1 stor eller 2 små).","Stek ved 175–180 °C i ca. 55–65 minutter. TIP: Legg bakepapir over kaken etter 15 minutter for å hindre at toppen blir brent.","Avkjøl kaken i formen. Oppbevares kjølig, og kan gjerne modnes et par dager for fyldigere smak."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755874440324_k3zjgdsow","title":"Aftenbladets Sjokoladekake","servings":"12 porsjoner","provider":"Aftenbladet","reference":"Oppskriftsbok","pageNumber":61,"category":"Lagkaker","meal":"Kake","cuisine":"Norsk","description":"Luftig sjokoladelagkake med tre lag og fyldig sjokoladekrem av melk, sukker og eggeplommer. Den lyse bunnen deles opp og fylles med en rik, hjemmelaget krem som gir en perfekt balanse mellom lett kakebunn og kremete fyll. Mandlene på toppen tilfører sprøhet og en nøtteaktig kontrast. Kaken har en dyp sjokoladesmak uten å være for søt, og egner seg utmerket til festlige anledninger eller søndagskos.","image":"aftenbladetssjokoladekake.jpg","ingredients":[{"group":"Kakebunn","items":["4 egg","200 g sukker","200 g hvetemel","2 ts bakepulver","100 g smør eller margarin (smeltet)"]},{"group":"Sjokoladekrem","items":["200 g sukker","6 ss melk","1 plate mørk kokesjokolade (ca. 100 g)","2 eggeplommer"]},{"group":"Pynt","items":["Høvlede mandler"]}],"instructions":["Pisk egg og sukker til en luftig eggedosis.","Sikt sammen mel og bakepulver og vend forsiktig inn i eggedosisen.","Rør inn smeltet smør.","Hell røren i en smurt kakeform (ca. 24 cm).","Stek ved 180–190 °C i ca. 35–40 minutter.","Avkjøl kaken helt og del den i tre lag.","Lag kremen: Pisk sukker og melk til hvitt og luftig. Rør inn smeltet kokesjokolade og tilsett eggeplommene.","Fyll kaken lagvis med kremen og dekk toppen.","Pynt med høvlede mandler."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755874108156_3jz7uqkoq","title":"Enkle kromkaker","servings":"Ca. 20–25 kromkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":61,"category":"Julekaker","meal":"Kake","cuisine":"Norsk","description":"Tynne, sprø kromkaker laget av enkel eggedosisrøre, perfekt til jul eller kaffekos. Stekes i spesielt jern og formes til kremmerhus mens de er varme. Den enkle røren av egg, sukker, smør og mel gir en delikat, lett søt smak. Fylles tradisjonelt med krem eller multekrem for en uimotståelig dessert.","image":"enklekromkaker.jpg","ingredients":["5 egg","200 g sukker","120 g smør eller margarin (smeltet)","175 g hvetemel"],"instructions":["Visp egg og sukker til en luftig eggedosis.","Rør inn avkjølt, smeltet smør.","Sikt inn melet og rør til en jevn røre.","Stek små porsjoner i kromkakejern til de er gylne.","Form til kremmerhus eller rull mens de er varme.","Avkjøl og oppbevar tørt i tett boks."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755881153574_bfiokwrpl","title":"Sandkaker – finspesier","servings":"Ca. 50 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":62,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Fine sandkaker med valg mellom mandler eller kokos for variert smak. Potetermelet gir den klassiske sandkaketeksturen. Stekes i tradisjonelle former for autentisk utseende. Holder seg sprø i kakeboks.","image":"sandkakerfinspesier.jpg","ingredients":["250 g margarin (eller smør)","250 g sukker","250 g potetmel","1 egg","50 g mandler (skoldet og malt) eller kokosmasse"],"instructions":["Skold og mal mandlene dersom de brukes.","Pisk margarin og sukker hvitt og luftig.","Visp inn egget.","Sikt i potetmel og bland forsiktig sammen.","Vend inn malte mandler eller kokosmasse til slutt.","Trykk deigen ut i smurte sandkakeformer (ca. 50 stk.).","Stek ved 180 °C i 10–15 minutter, til kakene er svakt gylne.","Avkjøl i formene før de løsnes forsiktig.","TIP: Kakene holder seg best i tett kakeboks og kan fryses."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755881655718_gk80vwpb1","title":"Konglekake","servings":"1 avlang form (ca. 12 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":63,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Festlig formkake med sukat, mandler og elegante pistasjnøtter som pynt. Sukaten gir gammeldags sødme mens mandlene tilføyer fylde. Melisglasuren og pistasjene gjør kaken visuelt imponerende. Perfekt til jul eller andre høytider.","image":"konglekake.jpg","ingredients":[{"group":"Kake","items":["200 g smør","200 g sukker","4 egg","1 pose oppskåret sukat (ca. 100 g)","150 g hakkede mandler","200 g hvetemel"]},{"group":"Glasur","items":["200 g melis (ca. 3,5 dl)","2–3 ss væske (vann eller sitronsaft)"]},{"group":"Pynt","items":["Hakkede mandler","Grovhakkede pistasjnøtter"]}],"instructions":["Rør smør og sukker hvitt.","Tilsett eggene ett om gangen mens du pisker godt.","Bland sukat og hakkede mandler inn i melet, og vend dette forsiktig inn i røren.","Ha deigen i en smurt avlang form (evt. kledd med bakepapir).","Stek ved 175 °C i ca. 1 time og 15 minutter. TIP: Dekk kaken med bakepapir etter ca. 30 minutter hvis den begynner å bli for mørk.","Avkjøl kaken i formen.","Sikt melis i en bolle. Tilsett væsken litt etter litt og rør til en jevn glasur. Juster tykkelsen med mer melis eller væske etter behov.","Bre eller ringle glasuren over den avkjølte kaken.","Pynt straks med hakkede mandler og grovhakkede pistasjnøtter før glasuren stivner."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755882112169_0ze363blu","title":"Festfruktkake","servings":"1 kake (ca. 10–12 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":64,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Lett fruktkake med ananas, cocktailbær og sitron som gir tropisk, festlig smak. De finskårne fruktbitene fordeler seg jevnt og gir saftige overraskelser i hver bit. Mindre tung enn tradisjonelle fruktkaker, men fortsatt holdbar. De fargerike cocktailbærene gjør kaken visuelt tiltalende på kakebordet.","image":"festfruktkake.jpg","ingredients":[{"group":"Deig","items":["170 g smør","2 dl sukker","3 egg","5 dl hvetemel","2 ½ ts bakepulver","Revet skall av 1 sitron"]},{"group":"Frukt og nøtter","items":["2 dl finskåret ananas (helst hermetisk, avrent)","10 hvite cocktailbær, grovhakket","10 grønne cocktailbær, grovhakket","100 g mandler, grovhakket"]}],"instructions":["Forvarm ovnen til 175 °C. Smør og strø en rund form (ca. 22–24 cm).","Rør smør og sukker hvitt.","Tilsett eggene ett om gangen og pisk godt mellom hvert.","Sikt mel og bakepulver og vend det forsiktig inn i røren.","Vend inn sitronskall, finskåret ananas, cocktailbær og hakkede mandler.","Hell røren i formen og jevn toppen.","Stek i 50–60 minutter ved 175 °C til kaken er gjennomstekt (prøv med kakepinne).","Avkjøl i formen 10 minutter før den hvelves på rist.","TIP: Pakk kaken godt inn når den er avkjølt – den er like god dagen etter og holder seg saftig."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755881897846_d81s32xtz","title":"Tigerkake (marmorkake)","servings":"1 rund kake (ca. 12 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":64,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Vakker marmorkake med appelsinsmak og marmorert mønster av lys og mørk deig. Appelsinen gir friskhet som balanserer kakaoen perfekt. Det dekorative mønsteret gjør hver skive unik. En visuelt imponerende kake.","image":"tigerkake.jpg","ingredients":[{"group":"Deig","items":["250 g smør","2 ½ dl sukker","6 egg","5 dl hvetemel","Saft og revet skall av 1 appelsin"]},{"group":"Til mørk deig","items":["3 ss kakao"]}],"instructions":["Rør smør og sukker hvitt.","Tilsett eggene ett om gangen mens du rører godt.","Bland inn appelsinsaft og revet skall.","Sikt inn hvetemelet og vend forsiktig inn.","Del deigen i to like deler.","Rør kakao inn i den ene halvdelen av deigen slik at du får en mørk og en lys røre.","Legg lys og mørk deig vekselvis i en godt smurt rund form.","Stek kaken ved 175 °C i 50–60 minutter.","Avkjøl kaken i formen noen minutter før den hvelves ut.","TIP: Server gjerne med melisdryss eller litt pisket krem ved siden av."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755882768378_r33mndnyu","title":"Appelsinkrydderkake","servings":"1 form (ca. 12 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":65,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig krydderkake med appelsin, kanel, ingefær, nellik og kardemomme som gir varm, aromatisk smak. Kulturmelken gjør kaken ekstra saftig med en lett syrlig undertone som balanserer sødmen perfekt. Appelsinskallet gir friskhet som løfter de tunge kryddertonene. Smaker best dagen etter når kryddersmakene har satt seg. Kan serveres med melisglasur eller lett pisket krem.","image":"appelsinkrydderkake.jpg","ingredients":[{"group":"Grunnrøre","items":["3 egg","100 g sukker","100 g brunt sukker","150 g hvetemel","2 ts bakepulver","3 ss revet appelsinskall (ca. 1,5 appelsin)","2 ts kanel","2 ts malt ingefær","1 ts malt nellik","¾ ts malt kardemomme","1 dl kulturmelk eller kefir","100 g smør, smeltet"]}],"instructions":["Pisk egg, sukker og brunt sukker til luftig eggedosis.","Bland mel, bakepulver og krydder i en egen bolle.","Vend melblandingen vekselvis inn med kulturmelken.","Rør til slutt inn smeltet smør og revet appelsinskall.","Hell røren i en smurt form.","Stek ved 175–200 °C i ca. 30 minutter.","Avkjøl i formen. TIP: Smaker ekstra godt med melisglasur eller kandisert appelsinskall som pynt."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755883803865_wjtsbh56r","title":"Sjokoladekake til fest","servings":"1 kake (ca. 12 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":66,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Luksuriøs sjokoladekake med fløte, appelsinskall og mandler for konfektpreg. Den kokte sjokoladeblandingen gir intens, fuktig konsistens. Syltet appelsinskall tilføyer eleganse. En kake for spesielle anledninger.","image":"sjokoladekaketilfest.jpg","ingredients":["2 dl kremfløte","4 ss kakao","200 g sukker","100 g smør","1 ss vaniljesukker","2 egg","1 dl syltet appelsinskall (evt. bland ferskt og kandisert)","2 ss hakkede mandler","2 ts bakepulver","200 g hvetemel"],"instructions":["Kok opp fløte, kakao og 1 dl av sukkeret i en kasserolle. La blandingen avkjøles.","Rør smør, resten av sukkeret og vaniljesukkeret hvitt.","Tilsett eggene, ett om gangen, mens du pisker godt.","Sikt inn mel og bakepulver, og bland forsiktig inn.","Rør inn syltet appelsinskall og hakkede mandler.","Vend inn den avkjølte sjokoladeblandingen.","Hell røren i en smurt rundform (ca. 24 cm).","Stek midt i ovnen på 175 °C i ca. 50 minutter.","TIP: Sjekk kaken med en kakepinne etter 45 min – den skal være fuktig, men ikke rå."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755883910123_otj2p71mb","title":"Formkake med epler og nøtteglasur","servings":"1 rund kake (ca. 10–12 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":67,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig eplekake kronet med karamellisert nøtteglasur som gir sprø kontrast. Eplene holder kaken fuktig mens nøttene i glasuren blir sprø og søte under steking. Kombinasjonen av myk kake og knaprig topping er uimotståelig. Server gjerne med pisket krem eller vaniljeis.","image":"formkakemedepler.jpg","ingredients":[{"group":"Kakebunn","items":["3 egg","2 ½ dl sukker","2 ½ ts bakepulver","2 ts vaniljesukker","4 ½ dl hvetemel","1 ½ dl helmelk eller blanding av melk og fløte","1 dl smeltet smør","2 middels store epler (skrelt og delt i små biter)"]},{"group":"Nøtteglasur","items":["5 ss smeltet smør","3 ss brunt sukker (farin)","1 dl hakkede nøtter (valnøtter eller hasselnøtter)"]}],"instructions":["Pisk egg og sukker til en luftig eggedosis.","Bland mel med bakepulver og vaniljesukker.","Vend det tørre inn i eggedosisen, vekselvis med melk og smeltet smør.","Skrell og skjær eplene i små biter, bland dem forsiktig inn i røren.","Hell røren i en smurt, rund form (ca. 24 cm).","Bland ingrediensene til nøtteglasuren og fordel den jevnt over deigen.","Stek kaken midt i ovnen ved 175–200 °C i ca. 50 minutter.","Avkjøl i formen før servering. TIP: Server gjerne med pisket krem eller vaniljeis for en ekstra dessertvariant."],"createdAt":"2025-08-22"},
            {"id":"recipe_1755909829676_ymqb1zcai","title":"Fyldige Sandkaker","servings":"Ca. 20 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":68,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Klassiske sandkaker med smør og potetmel som gir den karakteristiske sprø-porøse teksturen. Stekes i tradisjonelle sandkakeformer for elegant presentasjon. Den milde smaken og smeltende konsistensen gjør dem perfekte til jul og fest.","image":"fyldigesandkaker.jpg","ingredients":["225 g smør (romtemperert)","250 g sukker","150 g potetmel","100 g hvetemel","2 ts vaniljesukker","1 ts bakepulver","3 egg"],"instructions":["Rør smør og sukker hvitt.","Tilsett eggene ett om gangen.","Bland sammen potetmel, hvetemel, vaniljesukker og bakepulver.","Vend melblandingen inn i røren og arbeid til en jevn deig.","Press deigen ut i små sandkakeformer.","Stek ved 180 °C i ca. 10–12 minutter til svakt gyldne.","Løsne kakene forsiktig fra formene mens de fortsatt er varme.","Avkjøl helt på rist."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755909670858_5xf4n9vc9","title":"Litt enklere vinabrød","servings":"1 stor flette eller 12 stykker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":68,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Enkel vinabrød uten fyll, fokus på den søte, myke gjærdeigen. Egget gir fylde og gyllen farge mens deigen holder seg saftig. Kan toppes med melisglasur eller perlesukker. Litt enklere enn tradisjonell versjon men like god.","image":"enklerevinabrod.jpg","ingredients":[{"group":"Deig","items":["400 g hvetemel","200 g smør (kaldt, i terninger)","2 ss sukker","2 egg","0,5 dl vann (lunkent, kan justeres opp til 1 dl ved behov)","15 g fersk gjær (kan økes til 25 g for kortere hevetid)"]},{"group":"Til pensling og glasur","items":["1 egg til pensling","Melisglasur eller perlesukker (valgfritt)"]}],"instructions":["Smuldre smøret i melet.","Pisk sammen egg, lunken vann og gjær.","Ha i sukker og bland alt godt til en smidig deig.","TIP: Juster med litt ekstra vann/melk om deigen virker for tørr.","Dekk til og la heve i 30–45 minutter til dobbel størrelse.","Form deigen til en flette eller rund loff og legg på bakepapirkledd stekebrett.","Etterhev i 20–30 minutter.","Pensle med sammenvispet egg.","Stek ved 200 °C i ca. 20–25 minutter til gyllen.","Avkjøl på rist og pynt eventuelt med melisglasur eller perlesukker."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755918134745_mbei6bzn0","title":"Hjemmelaget saft","servings":"Ca. 4–5 liter saft","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":69,"category":"Drikke","meal":"Drikke","cuisine":"Norsk","description":"Hjemmelaget saft av bær eller hylleblomst med valg mellom kokt eller råsaftet metode. Kokt saft holder seg flere måneder mørkt og kjølig på sterile flasker, mens råsaft har friskere smak men kortere holdbarhet (1-2 uker kjølig, eller frys for lengre lagring). Perfekt måte å ta vare på sesongens bær. Fortynnes med vann ved servering.","image":"hjemmelagetsaft.jpg","ingredients":[{"group":"Bær eller blomster (velg én)","items":["2 kg solbær","2 kg rips","2 kg bringebær","2 kg jordbær","2 kg blåbær","2 kg epler","2 kg pærer","30 hylleblomstklaser"]},{"group":"For saftkoking","items":["6–8 dl vann","600–800 g sukker per liter ferdig silt saft"]},{"group":"For råsafting","items":["2 sitroner i skiver (valgfritt)","30 g sitronsyre (ca. 2 ss)","1,5 liter vann","600–800 g sukker per liter ferdig silt saft"]}],"instructions":[{"group":"Koking","steps":["Skyll bær, frukt eller hylleblomster godt og fjern alt som er råttent.","Ha bær/frukt/blomster og vann i en stor kjele. Kok forsiktig til de er bleke og saften har trukket ut.","Hell massen over i et saftklede (eller et tynt kjøkkenhåndkle) lagt i et dørslag over en bolle. La saften renne sakte gjennom kledet uten å presse. For best resultat bør det stå i 6–12 timer, gjerne over natten.","Mål opp saften og tilsett 600–800 g sukker per liter silt saft.","Kok opp til sukkeret er oppløst.","Hell den varme saften på sterile flasker, skru til korkene og avkjøl.","Oppbevar mørkt og kjølig."]},{"group":"Råsafting","steps":["Skyll bær, frukt eller hylleblomster godt og fjern alt som er råttent.","Legg råvarene i en stor bolle sammen med sitronskiver og sitronsyre.","Kok opp vann, hell over blandingen og dekk til.","La stå kaldt i 2–3 døgn, rør om av og til.","Sil blandingen gjennom et saftklede (eller et tynt kjøkkenhåndkle) lagt i et dørslag over en bolle. La saften renne sakte gjennom uten å klemme. Dette tar gjerne 6–12 timer.","Mål opp væsken og tilsett 600–800 g sukker per liter silt saft.","Rør til sukkeret er helt oppløst.","Hell på rene flasker og oppbevar kjølig eller frys ned.","TIP: Råsaft egner seg godt som sommerdrikk, i cocktails eller som base til gelé."]},"Bruk alltid rene redskaper og sterile flasker eller glass for best holdbarhet.","Oppbevar saften mørkt og kjølig, og merk flaskene med innhold og dato."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755910062649_7shbe56cy","title":"Sitronpai","servings":"1 pai (8 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":69,"category":"Dessert","meal":"Dessert","cuisine":"Norsk","description":"Frisk sitronpai med syrlig krem balansert av søt, luftig marengs. Den sprø mørdeigsbunnen gir perfekt kontrast til den kremete fyllingen. Marengsen blir gyllen og lett karamellisert. En elegant dessert som balanserer søtt og surt mesterlig.","image":"sitronpai.jpg","ingredients":[{"group":"Mørdeigsbunn","items":["150 g hvetemel","100 g smør (kaldt, i terninger)","50 g sukker","1 eggeplomme","1–2 ss kaldt vann"]},{"group":"Fyll","items":["3 eggeplommer","1 sitron (saft og revet skall)","200 g sukker","2 dl vann","2 ss potetmel","1 ts smør"]},{"group":"Marengs","items":["3 eggehviter","60 g melis"]}],"instructions":["Smuldre smør i hvetemel til en kornete masse. Tilsett sukker og eggeplomme, arbeid raskt sammen til en deig. Tilsett kaldt vann hvis nødvendig.","Pakk deigen i plast og la den hvile i kjøleskap i minst 30 minutter.","Kjevle ut deigen og kle en paiform (ca. 24 cm). Prikk bunnen med gaffel og forstek i 10 minutter ved 180 °C.","Kok opp vann og sukker til en lys sirup.","Rør ut potetmel i sitronsaft og tilsett revet sitronskall.","Ha sitronblandingen og smør i kjelen, kok opp under omrøring til kremen tykner.","Rør inn eggeplommene til slutt, ta kjelen av varmen, og hell fyllet i den forstekte paibunnen.","Pisk eggehvitene stive, tilsett melis litt etter litt til du får en blank marengs.","Bre marengsen over fyllet og stek videre i ca. 20 minutter på 160–170 °C til marengsen er lett gyllen.","Avkjøl og server."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755979373897_j1k1xuo2k","title":"Konfektkaker","servings":"Ca. 25–30 småkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":70,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Smakfulle småkaker med to typer sukker, mandler og sjokoladebiter. Demerarasukkeret gir en dyp, karamellaktig smak. Kakene flyter ut under steking og får deilige, sprø kanter. Kombinasjonen av nøtter og sjokolade er uimotståelig.","image":"konfektkaker.jpg","ingredients":["200 g smør","150 g sukker","150 g demerarasukker (eller brun farin)","2 egg","275 g hvetemel","1 ts bakepulver","50 g hakkede mandler","100 g mørk kokesjokolade (hakket)"],"instructions":["Rør smør, sukker og demerarasukker hvitt til smørkrem.","Tilsett eggene, ett om gangen.","Sikt sammen hvetemel og bakepulver, og rør inn i deigen.","Bland inn hakkede mandler og sjokoladebiter til slutt.","Sett deigen med teskje på bakepapirkledd stekebrett, med god avstand.","Stek midt i ovnen ved 200 °C i 10–12 minutter.","Avkjøl på rist."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755979594759_iyehyfkd2","title":"Påskekonfekt","servings":"Ca. 20–25 kuler","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":70,"category":"Konfekt","meal":"Kaffe","cuisine":"Norsk","description":"Enkel påskekonfekt med havregryn, kakao og kaffe som smelter sammen til nydelig godteri. Rulles til små kuler som kan pyntes med kokos eller nøtter. Mandelessensen gir en subtil, elegant smak. Perfekt påskegodteri som ikke krever steking.","image":"paskekonfekt.jpg","ingredients":["125 g havregryn","100 g smør (romtemperert)","100 g sukker","30 g kakao","2 dråper mandelessens","2–3 ss sterk kaffe"],"instructions":["Bland havregryn, sukker og kakao i en bolle.","Rør inn mykt smør til det blir en jevn masse.","Tilsett mandelessens og kaffe, og arbeid sammen til en smidig deig.","Trill små kuler mellom hendene.","TIP: Rull kulene i kokos, nøtter eller perlesukker for ekstra pynt.","Sett kjølig til de stivner."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755980346114_a00mvc6fl","title":"Kromkaker","servings":"Ca. 25–30 kromkaker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":71,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Klassiske norske kromkaker, sprø og delikate, stekt i jern og formet til kremmerhus eller servert flate. Den balanserte blandingen av potetmel og hvetemel gir både sprøhet og styrke. Passer godt til jul eller kaffekos, gjerne fylt med multekrem eller annen dessertkrem. Oppskriften er en revidert variant av Farmors notat, justert for bedre balanse.","image":"kromkaker.jpg","ingredients":["4 egg","200 g sukker","200 g smør (smeltet og avkjølt)","100 g hvetemel","100 g potetmel","1 ts vaniljesukker (valgfritt)"],"instructions":["Pisk egg og sukker til lys og luftig eggedosis.","Tilsett smeltet og avkjølt smør i en tynn stråle mens du rører.","Sikt inn hvetemel, potetmel og eventuelt vaniljesukker. Vend forsiktig til en jevn røre.","La røren hvile i minst 30 minutter for best resultat.","TIP: Dersom røren virker for tykk, spe på med 1–2 ss melk eller fløte for å justere konsistensen.","Stek små porsjoner i et kromkakejern til de er gyldne.","Form kakene raskt til kremmerhus mens de er varme, eller la dem avkjøles flate.","TIP: Server gjerne fylt med pisket krem eller multekrem."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755980907769_u0oqmfcka","title":"Mandelkake med sjokolade","servings":"1 kake (8–10 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":71,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Melfri mandelkake med mørk sjokolade for intens, rik smak. Eggedosisen gir letthet mens mandler og sjokolade gir fylde. Semulegryn i formen tilføyer sprøhet. Serveres med pisket krem og bær.","image":"mandelkakemedsjokolade.jpg","ingredients":[{"group":"Kake","items":["4 egg","125 g sukker","125 g mandler (malte)","125 g mørk sjokolade (revet eller smeltet)","Smør til formen","2 ss semulegryn (til å strø formen)"]},{"group":"Til servering","items":["½ liter kremfløte (piskes til krem)"]}],"instructions":["Forvarm ovnen til 150 °C (over- og undervarme).","Pisk egg og sukker til lys eggedosis, ca. 5–10 minutter.","Mal mandlene og riv eller smelt sjokoladen.","Vend mandler og sjokolade forsiktig inn i eggedosisen.","Smør en rund form (ca. 24 cm) og strø med semulegryn.","Hell røren i formen og stek på nederste rille i 50–60 minutter, til kaken er fast.","Avkjøl i formen før servering.","Server kaken med pisket krem, og gjerne friske bær.","TIP: Semulegryn i formen gir en ekstra nøtteaktig tekstur som passer godt til mandler."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755981233876_ig01xbp9m","title":"Lettvinte rundstykker","servings":"Ca. 16 rundstykker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":72,"category":"Brød og rundstykker","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Enkle rundstykker med melk og egg som gir saftig, gyllen bakst. Den klassiske oppskriften gir myke rundstykker med fin skorpe. Passer til alle måltider og som tilbehør til suppe. Alltid like populære hos store og små.","image":"letterundstykker.jpg","ingredients":["500 g hvetemel","60 g smør","½ ts salt","1 ts sukker","25 g fersk gjær (eller ½ pose tørrgjær)","2,5 dl melk (kald eller lunken)","1 egg"],"instructions":["Smuldre smør og mel sammen til en smuldrete masse.","Tilsett salt, sukker og gjær.","Visp sammen melk og egg, og rør det inn i melblandingen.","Elt deigen godt til den blir smidig (ca. 8–10 min).","Hev deigen til dobbel størrelse, ca. 1 time.","Del deigen i 16 emner og form til rundstykker.","Legg på stekebrett, dekk med klede og etterhev i ca. 30 min.","Pensle med sammenpisket egg.","Stek ved 225°C i 10–12 minutter, til de er gylne."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755981304907_fngfaduv7","title":"Rosinboller","servings":"Ca. 12–15 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":72,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Raske rosinboller hevet med bakepulver, mer som scones enn tradisjonelle boller. Den enkle deigen gir myke, litt tette boller fulle av rosiner. Perfekte som rask kaffekos eller turmat. Stekes direkte uten hevetid.","image":"rosinboller.jpg","ingredients":["100 g smør (romtemperert eller lett smeltet)","1 dl sukker","1 egg","3,5 dl hvetemel (ca. 200 g)","2 ts bakepulver","2 dl rosiner"],"instructions":["Forvarm ovnen til 225°C og kle en stekeplate med bakepapir.","Rør smør og sukker hvitt, tilsett egget og visp godt.","Bland hvetemel og bakepulver, og rør det inn i røren.","Vend inn rosinene.","Sett deigen i små topper med skje på bakepapiret.","Stek midt i ovnen i ca. 10–12 minutter, til bollene er gyllenbrune."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755484726501_29ubmpget","title":"Rundstykker","servings":"Ca. 20 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":73,"category":"Brød og rundstykker","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Klassiske rundstykker med melk og smør for saftig, myk konsistens. Den enkle oppskriften gir pålitelige resultater hver gang. Gyldne og innbydende, perfekte til alle måltider. Pensles med egg for blank, fristende overflate.","image":"rundstykker.jpg","ingredients":["500 g hvetemel","50 g smør","50 g fersk gjær (eller 1 pose tørrgjær)","2 dl melk","1,5 dl vann","1,5 ts salt","1 ts sukker"],"instructions":["Smuldre smøret i melet.","Tilsett gjær, salt og sukker.","Varm melk og vann til fingervarmt (ca. 37°C) og rør det inn i melet.","Elt deigen smidig i ca. 8–10 minutter.","Hev til dobbel størrelse, ca. 1 time.","Form 20 rundstykker og legg på stekebrett.","Etterhev i ca. 30 minutter, pensle eventuelt med melk eller egg.","Stek ved 225°C i 10–12 minutter til gyllenbrune."],"createdAt":"2025-08-18"},
            {"id":"recipe_1755981589690_q2y9t093c","title":"Svelebrød","servings":"Ca. 10–12 leiver","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":73,"category":"Pannekaker og lefser","meal":"Kaffe","cuisine":"Norsk","description":"Rikt svelebrød med mye margarin som gir smørholdig, myk tekstur. Leivene smøres og legges lagvis før de deles. Serveres tradisjonelt med sukker eller sirup. En nostalgisk bygdekos som metter godt.","image":"svelebrod.jpg","ingredients":["750 g hvetemel","500 g margarin","0,5 l melk (søt, hel eller lettmelk)","2 ts hjortetakksalt (bakehjort)"],"instructions":["Elt alle ingrediensene lett sammen til en jevn deig.","Kjevle ut til tynne leiver, ønsket størrelse.","Stek på takke eller stekepanne på svak varme til gyllenbrune.","Smør med smør og legg to og to leiver sammen.","Skjær hver i 3–4 biter og server lunkne med sirup eller sukker."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755982043088_haa6r7wst","title":"Horn","servings":"Ca. 16 horn","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":74,"category":"Brød og rundstykker","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Klassiske lyse horn med mild, søt smak og myk konsistens. Den enkle hvetedeigen med melk og egg gir saftige horn som passer til alt pålegg. Kan også fylles med ost, skinke eller syltetøy for variasjon. En allsidig favoritt til alle måltider.","image":"horn.jpg","ingredients":["400 g hvetemel","100 g margarin eller smør","40 g sukker","32 g fersk gjær (ca. ½ pakke)","1 egg","2 dl melk (lunken)","1 eggeplomme til pensling"],"instructions":["Varm melken til fingervarm (ca. 37 °C).","Smuldre gjæren i melken og rør til den løser seg opp.","Tilsett sukker, smeltet og avkjølt smør, egg og mesteparten av melet.","Elt deigen smidig og tilsett resten av melet etter behov.","Dekk med klede og hev i ca. 1 time til dobbel størrelse.","Del deigen i to emner og kjevle ut til sirkler.","Skjær hver sirkel i 8 trekanter.","Rull trekantene fra bredsiden mot spissen og form til horn.","Legg på bakepapirkledd stekebrett og etterhev ca. 30 min.","Pensle med eggeplomme.","Stek ved 220 °C i 10–12 min til gyldne.","Avkjøl på rist."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755982528573_3h189kp9k","title":"Jorunns Nøttekake med fyll","servings":"1 kake (ca. 10–12 porsjoner)","provider":"Jorunn","reference":"Oppskriftsbok","pageNumber":74,"category":"Lagkaker","meal":"Kake","cuisine":"Norsk","description":"Fyldig nøttekake med valg mellom pisket krem eller rik sjokoladekrem som fyll. Den luftige nøttebunnen absorberer fyllet og blir saftig og mektig. Sjokoladeglasuren på toppen fullfører denne festkaken. Blir ofte bedre dagen etter.","image":"nottekakemedfyll.jpg","ingredients":[{"group":"Kakebunn","items":["250 g sukker","4 små egg (eller 3 store)","125 g mandler, skoldet og hakket","125 g valnøtter eller hasselnøtter, hakket","½ ts bakepulver"]},{"group":"Fyll (alternativ 1: krem)","items":["3 dl kremfløte, pisket"]},{"group":"Fyll (alternativ 2: sjokoladekrem)","items":["250 g smør, romtemperert","250 g melis","½ plate mørk sjokolade (smeltet)","1 egg"]},{"group":"Glasur","items":["½ plate mørk sjokolade","2 ss melis","2 ss vann"]}],"instructions":[{"group":"Kakebunn","steps":["Forvarm ovnen til 165 °C. Smør en springform (24 cm).","Pisk egg og sukker til en luftig eggedosis.","Skold mandlene (fjern skallet med kokende vann) og hakk dem grovt.","Hakk valnøtter eller hasselnøtter grovt.","Vend nøtter og bakepulver forsiktig inn i eggedosisen.","Hell røren i formen og stek ca. 35–40 minutter. Avkjøl helt.","Del kaken i to lag."]},{"group":"Fyll (alternativ 1: krem)","steps":["Pisk kremfløten til luftig krem.","Fyll kaken med den piskede kremen mellom lagene."]},{"group":"Fyll (alternativ 2: sjokoladekrem)","steps":["Pisk smør og melis lyst og luftig.","Smelt sjokoladen over vannbad og avkjøl litt.","Rør inn smeltet sjokolade i smørkremen.","Tilsett egget og pisk godt til en jevn og luftig krem.","Bruk kremen som fyll mellom lagene i kaken."]},{"group":"Glasur","steps":["Smelt sjokoladen sammen med vannet over svak varme.","Rør inn melis til glasuren blir jevn.","Hell glasuren over kaken og fordel jevnt.","La glasuren stivne før servering."]},"TIP: Kaken blir ekstra saftig og god hvis den får stå kjølig til neste dag slik at nøttebunnen trekker til seg fuktighet fra fyllet."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755982888704_vb3xvy7h3","title":"Gunnbjørgs kringle","servings":"1 stor kringle (ca. 12–14 porsjoner)","provider":"Gunnbjørg","reference":"Oppskriftsbok","pageNumber":75,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Imponerende gjærkringle fylt med mandelmasse og rosiner for festlig preg. Den rike fyllingen av malte mandler og stivpiskede eggehviter smelter sammen med den luftige deigen. Pyntet med mandler eller perlesukker blir den uimotståelig. En stolt sentrum på kaffebordet.","image":"gunnbjorgskringle.jpg","ingredients":[{"group":"Deig","items":["500 g hvetemel","150 g smør","150 g sukker","2 egg","50 g gjær","3 dl melk","1 ½ ts kardemomme"]},{"group":"Fyll","items":["200 g mandler, malte","200 g sukker","2 eggehviter","100 g rosiner"]},{"group":"Pynt","items":["1 egg til pensling","Hakkede mandler eller perlesukker"]}],"instructions":["Smuldre smøret i melet. Tilsett sukker og kardemomme.","TIP: Du kan også smelte smøret og blande det inn med melken – dette gjør deigen enklere å arbeide med, men gir litt annen konsistens.","Varm melken lunken og rør ut gjæren i litt av melken.","Bland gjærblandingen med resten av melken, egg og melblanding til en smidig deig.","Dekk til og la heve i ca. 1 time.","Lag fyllet: Mal mandler og bland med sukker og stivpiskede eggehviter. Vend inn rosiner.","Kjevle deigen ut til et rektangel. Form til kringle på stekebrett og trykk litt flat.","Legg fyllet langs midten, brett deigen godt over.","Etterhev kringlen i ca. 30 minutter.","Pensle med sammenpisket egg og strø over hakkede mandler eller perlesukker.","Stek ved 225°C i ca. 20 minutter til gyllenbrun.","TIP: Dekk til med bakepapir mot slutten hvis kringlen blir for mørk."],"createdAt":"2025-08-23"},
            {"id":"recipe_1755983016887_294difx3m","title":"Rike smultringer","servings":"Ca. 40–50 smultringer","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":75,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Luksuriøse smultringer med mange egg og kremfløte for ekstra rikdom. Blir saftigere og mer kakeaktige enn vanlige smultringer. Kardemommen gir en delikat aroma. Frityrstekt til gyllen perfeksjon for uimotståelig sprøhet.","image":"rikesmultringer.jpg","ingredients":["8 eggeplommer","4 eggehviter","500 g sukker","2 ½ dl kremfløte, pisket","150 g smør, smeltet","½ ts kardemomme","1 ts hornsalt","ca. 1 kg hvetemel","Smult til steking"],"instructions":["Pisk eggeplommer, eggehviter og sukker til en luftig eggedosis.","Vend inn pisket kremfløte og avkjølt, smeltet smør.","Bland inn kardemomme, hornsalt og hvetemel til en fast, men smidig deig.","Trill ut til fingertykke pølser og form til ringer eller små fingre.","Varm smult til ca. 170–180 °C.","Stek smultringene til gyllenbrune på begge sider.","La renne av på kjøkkenpapir før servering.","TIP: Test smulten med en liten deigbit – den skal bruse og stige rolig opp til overflaten."],"createdAt":"2025-08-23"},
            {"id":"recipe_1756145261673_5ibs3xq4c","title":"Fru Salomonsens Kake","servings":"8-10 porsjoner","provider":"Fru Salomonsen","reference":"Oppskriftsbok","pageNumber":78,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Lett nøttekake med knuste sukkerkavringer som gir unik tekstur og smak. Kombinasjonen av malte mandler og kavringer skaper en sprø-myk konsistens. Toppes tradisjonelt med pisket krem for perfekt balanse. En enkel, men elegant kake som alltid imponerer.","image":"frusalomonsenskake.jpg","ingredients":["2 egg","200 g sukker","100 g mandler, malte","4 sukkerkavringer, knust","Litt hvetemel (til å drysse over)","2,5 dl kremfløte (til pisket krem på toppen)"],"instructions":["Pisk egg og sukker til stiv eggedosis.","Vend inn malte mandler og knuste sukkerkavringer.","Hell røren i en smurt kakeform.","Dryss litt hvetemel over toppen.","Stek ved 175°C i ca. 30–35 minutter, til kaken er gyllen og fast.","Avkjøl og topp med stivpisket krem før servering."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756145377678_hq1ys49cn","title":"Solskinnskake","servings":"12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":78,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Lys, luftig kake med potetmel som gir ekstraordinær letthet. Den milde vaniljesmaken og porøse konsistensen gjør den perfekt med kaffe. Navnet reflekterer den lyse, glade karakteren. Pyntes enkelt med melis.","image":"solskinnskake.jpg","ingredients":["3 egg","3 dl sukker","125 g smør, smeltet","2 dl hvetemel","1 dl potetmel","1 ts bakepulver","1 ts vaniljesukker","Melis til pynt"],"instructions":["Pisk egg og sukker til stiv eggedosis.","Smelt smøret og la det avkjøles litt.","Sikt sammen hvetemel, potetmel, bakepulver og vaniljesukker.","Vend det tørre inn i eggedosisen sammen med smøret.","Hell røren i en smurt og strødd form.","Stek ved 175°C i ca. 35–40 minutter, til kaken er gyllen og gjennomstekt.","Avkjøl kaken og sikt melis over før servering."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756145571081_f09smqysq","title":"Lovises Saft","servings":"Ca. 4-5 liter ferdig saft","provider":"Lovise","reference":"Oppskriftsbok","pageNumber":79,"category":"Drikke","meal":"Drikke","cuisine":"Norsk","description":"Praktisk husholdningssaft med essens og sitronsyre som holder seg flere måneder i romtemperatur på sterile flasker. Den høye sukker- og syrekonsentrasjonen sikrer lang holdbarhet uten kjøling. Fortynnes kraftig ved servering (1:4-5). En økonomisk måte å ha saft tilgjengelig hele året.","image":"lovisessaft.jpg","ingredients":["3 l vann","3 kg sukker","60 g sitronsyre","25 g appelsinessens","25 dråper gul konditorfarge (kan sløyfes)"],"instructions":["Kok opp vann og sukker til sukkeret er oppløst.","Rør inn sitronsyre, appelsinessens og konditorfarge.","Hell saften på sterile flasker.","Server blandet ut med vann (1 del saft til 4–5 deler vann).","TIP: Konditorfargen kan utelates for en mer naturlig drikk."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756145586432_iopwsyh87","title":"Surkake","servings":"12-16 stykker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":79,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig kake med brun farin, kanel og rosiner for dyp, karamellisert smak. Natron gir lett syrlighet som balanserer sødmen. Den tette konsistensen gjør den mettende. Serveres gjerne med rømme eller melis.","image":"surkake.jpg","ingredients":["4 dl sukker","4 dl brun farin","3,5 dl hvetemel","1 dl smør, smeltet","2,5 dl rosiner","4 ts malt kanel","1,5 ts natron"],"instructions":["Forvarm ovnen til 180°C.","Bland sukker, brun farin og mel i en bolle.","Rør inn smeltet smør, rosiner, kanel og natron.","Ha røren i en smurt rund kakeform (22–24 cm).","Stek i 35–40 minutter til kaken er fast og gyllen.","Avkjøl på rist.","TIP: Server gjerne med melisdryss eller litt rømme ved siden av."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756145952899_lsw9z6puz","title":"Lovises kake","servings":"8-10 porsjoner","provider":"Lovise","reference":"Oppskriftsbok","pageNumber":80,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Festkake med marengsbase, gelatin og delfiafett for fast konsistens. Toppes med mørk sjokoladeglasur for kontrast. Den søte, lette smaken balanseres av sjokoladen. En retrokake som serveres kald.","image":"loviseskake.jpg","ingredients":["6 plater gelatin (ca. 10 g)","1 dl kokende vann","4 eggehviter","4 dl sukker","125 g delfiafett (smeltet og avkjølt)","50 g kokesjokolade (½ plate)","0,5 dl kremfløte"],"instructions":["Bløtlegg gelatinplatene i kaldt vann i 5 minutter. Smelt dem deretter i 1 dl kokende vann.","Visp eggehviter og sukker til en tykk marengs. Sett bollen over vannbad og pisk videre i ca. 15 minutter til massen er blank og seig.","Smelt delfiafettet over svak varme og avkjøl til det er lunkent.","Rør inn det smeltede gelatinet i marengsen, og vend deretter inn det smeltede delfiafettet i en tynn stråle under forsiktig omrøring.","Hell blandingen i en serveringsbolle eller springform. Sett kjølig til den begynner å stivne.","Smelt kokesjokolade sammen med fløte til en jevn glasur.","Fordel glasuren over kaken når den har satt seg. Pynt gjerne med strøssel eller nøtter.","TIP: La kaken stå minst 3 timer i kjøleskap før servering, gjerne natten over, for å få best konsistens."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756154779495_iu0n9ulcv","title":"Glorias Sandnøtter","servings":"Ca. 50 stk.","provider":"Gloria","reference":"Oppskriftsbok","pageNumber":81,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Små, smørmøre småkaker med potetmel som gir delikat, smeltende konsistens. Den enkle deigen av smør, sukker og potetmel skaper perfekt sprøhet. Vaniljesukkeret gir en mild, behagelig smak. Lette å lage og alltid populære på kakebordet.","image":"sandnotter.jpg","ingredients":["250 g sukker","250 g smør (romtemperert)","500 g potetmel","125 g hvetemel","1 egg","2 ts vaniljesukker"],"instructions":["Pisk smør og sukker lyst og luftig.","Tilsett egg og vaniljesukker.","Bland inn potetmel og hvetemel, arbeid deigen lett sammen.","Trill små kuler og sett på bakepapirkledd plate.","Stek ved 175 °C i ca. 10–12 minutter, til de er svakt gylne."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756155541120_971qqcvgc","title":"Krispi kake","servings":"1 form (ca. 25 biter)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":81,"category":"Konfekt","meal":"Kaffe","cuisine":"Norsk","description":"Enkel konfektkake med puffet ris og sjokolade for sprø, søt godbit. Delfiafettet binder og gir rik konsistens. Settes kald og skjæres i biter. Populært hos barn og perfekt som enkelt partygodteri.","image":"krispikake.jpg","ingredients":["1 pakke puffet ris (ca. 100 g Rice Krispies)","200 g melis","250 g delfiafett","2–3 ss kakao","1 ts vaniljesukker"],"instructions":["Smelt delfiafett i kjele på svak varme.","Rør inn melis, kakao og vaniljesukker.","Bland forsiktig inn puffet ris.","Hell blandingen i en bakepapirkledd form.","Sett kjølig til den stivner og skjær i biter."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756155447629_ehle29540","title":"Skoleboller","servings":"16 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":81,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Luftige skoleboller fylt med vaniljekrem og toppet med glasur og kokos. Den hjemmelagde vaniljekremen løfter disse bollene til nye høyder. Glasuren og kokosen gir søthet og tekstur. En norsk kaffebordsklassiker i sin beste form.","image":"skoleboller.jpg","ingredients":[{"group":"Deig","items":["2 dl melk (lunken)","50 g smør","50 g sukker","30 g fersk gjær (eller ½ pakke tørrgjær)","300 g hvetemel"]},{"group":"Vaniljekrem (fyll)","items":["2 dl melk","2 eggeplommer","50 g sukker","1 ½ ss maisenna","½ ts vaniljesukker eller frø fra ¼ vaniljestang"]},{"group":"Pynt","items":["2 dl melis","2–3 ss vann","1 dl kokosmasse"]}],"instructions":[{"group":"Deig","steps":["Smelt smøret og rør det inn i lunken melk.","Løs opp gjæren i melkeblandingen.","Tilsett sukker og hvetemel, elt til en smidig deig.","Hev i ca. 45 minutter."]},{"group":"Vaniljekrem","steps":["Visp sammen eggeplommer, sukker, maisenna og vaniljesukker i en bolle.","Kok opp melken i en kjele, ta kjelen av platen.","Hell ca. 0,5–1 dl av den varme melken i eggeblandingen under kraftig visping (temprer eggene).","Hell eggeblandingen tilbake i kjelen med resten av melken.","Varm forsiktig opp under konstant røring til kremen tykner (82–85 °C). Den skal ikke koke.","Avkjøl raskt og dekk med plastfolie direkte på kremen for å unngå snerk."]},{"group":"Forming","steps":["Trill ut 16 boller og sett dem på bakepapirkledd stekebrett.","La bollene etterheve i 20–30 minutter.","Trykk en dyp grop i hver bolle.","TIP: Lag gropen etter etterheving, ellers hever den seg opp igjen.","Fyll hver grop med en spiseskje vaniljekrem."]},{"group":"Steking og pynt","steps":["Stek bollene ved 225 °C i ca. 10 minutter til de er gyldne.","Avkjøl bollene helt.","Rør sammen melis og vann til en tykk glasur, pensle kantene på bollene.","Dryss kokosmasse over glasuren."]}],"createdAt":"2025-08-25"},
            {"id":"recipe_1756155691069_ny8finz0t","title":"Kakemenn","servings":"Ca. 40 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":82,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Lyse, sprø julekaker med hornsalt som gir karakteristisk smak og tekstur. Den milde sødmen og luftige konsistensen gjør dem til en lettere variant av pepperkaker. Formes til festlige figurer som sprer julestemning. Må lages og stekes raskt for best resultat.","image":"kakemenn.jpg","ingredients":["375 g sukker","15 g hornsalt","50 g margarin eller smør","500 g hvetemel","3 dl vann"],"instructions":["Forvarm ovnen til 200 °C.","Smuldre margarinen/smøret i det tørre.","Bland alt sammen og bruk nok mel til at deigen kan kjevles ut.","Kjevle til ca. 3–5 mm tykkelse.","Stikk ut figurer og legg på bakepapirkledd plate.","Stek midt i ovnen i ca. 8–10 minutter.","TIP: Ikke la deigen stå for lenge, da blir den seig. Ikke kjevle deigen for tynn."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756155722383_i9r90nv1y","title":"Kremboller","servings":"12–15 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":82,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Klassiske kremboller som kan fylles med pisket krem eller vaniljekrem. Den luftige gjærdeigen med kardemomme gir mild kryddersmak. Fylles etter steking for best resultat. Uimotståelige når de er ferske.","image":"kremboller.jpg","ingredients":["500 g hvetemel","100 g smør","2 ss sukker","50 g fersk gjær (evt. 25 g fersk gjær eller 1 pose tørrgjær med lengre hevetid)","3 dl melk","1 ts malt kardemomme","1 egg til pensling"],"instructions":["Smelt smøret og bland med melken. Avkjøl til fingervarmt.","Rør ut gjæren i væsken.","Tilsett sukker, kardemomme og hvetemel, og elt til en smidig deig.","Hev deigen til dobbel størrelse, ca. 45–60 minutter.","Del deigen i 12–15 emner og trill til boller.","Legg bollene på bakepapirkledd stekebrett, og hev videre i ca. 30 minutter.","Pensle med sammenvispet egg.","Stek ved 225 °C i 8–10 minutter til gylne.","TIP: Når bollene er avkjølt, kan de fylles med pisket krem eller vaniljekrem."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756155957858_zvw4c81ww","title":"Mørk hemmelighet","servings":"8 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":83,"category":"Dessert","meal":"Dessert","cuisine":"Norsk","description":"Rik sjokoladedessert med gelatin, krem, nøtter og frukt for kompleks nytelse. Kan serveres som fromasj eller lages som lagkake med sukkerbrød. Kombinasjonen av sjokolade, nøtter og ananas gir spennende smakskontraster. Best når den får stå over natten.","image":"morkhemmelighet.jpg","ingredients":[{"group":"Sjokoladeblanding","items":["100 g mørk kokesjokolade","3 dl helmelk","5 plater gelatin (ca. 10 g)"]},{"group":"Kremblanding","items":["5 dl kremfløte","0,5 dl hakket hermetisk ananas","1 dl rosiner","1 dl hakkede hasselnøtter (ristede)","5 plater gelatin (ca. 10 g)"]},{"group":"Eventuelt","items":["1 ferdig sukkerbrødbunn (kan sløyfes, brukes om man vil lage kakevariant)"]}],"instructions":[{"group":"Sjokoladeblanding","steps":["Legg 5 gelatinplater i kaldt vann i 5 minutter.","Varm opp melk til nær kokepunktet, ta av platen.","Tilsett hakket sjokolade og rør til den er smeltet.","Klem vannet ut av gelatinen og rør den inn i den varme sjokolademelken.","Avkjøl blandingen til romtemperatur."]},{"group":"Kremblanding","steps":["Legg de resterende 5 gelatinplatene i kaldt vann.","Pisk kremfløten til myke topper.","Vend inn hakket ananas, rosiner og nøtter.","Smelt gelatinen forsiktig i 2 ss varmt vann og rør inn i kremblandingen."]},{"group":"Sammensetting","steps":["Vend sjokoladeblandingen forsiktig inn i kremblandingen.","Ha blandingen i en stor glassbolle eller fordel i porsjonsglass.","TIP: Ønsker du kakevariant, legg fromasjen lagvis med sukkerbrødbunner.","La stå kaldt minst 4–6 timer, helst natten over, til den har stivnet.","Server med friske bær eller et dryss revet sjokolade på toppen."]}],"createdAt":"2025-08-25"},
            {"id":"recipe_1756156293404_rqagv8szr","title":"Kvikk-lunsj-kake","servings":"ca. 20-24 ruter (langpanne)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":84,"category":"Langpannekaker","meal":"Kake","cuisine":"Norsk","description":"Myk sjokoladekake i langpanne med søt glasur tilsatt kaffe og kakao. Den enkle oppskriften gir saftig kake hver gang. Glasuren med egg eller smør holder seg blank og fristende. Perfekt til dugnad eller skoleavslutning.","image":"kvikklunsjkake.jpg","ingredients":[{"group":"Kakebunn","items":["3 egg","4,5 dl sukker","225 g smør (eller margarin, smeltet)","2 ts bakepulver","3 ss kakao","2,25 dl melk","6 dl hvetemel"]},{"group":"Glasur","items":["3 egg","10 ss melis (ca. 150 g)","1,5 ss kakao","2 ts vaniljesukker","2 ss sterk kaffe"]}],"instructions":[{"group":"Kakebunn","steps":["Visp egg og sukker til luftig eggedosis.","Smelt smøret og bland det med melken.","Sikt sammen hvetemel, bakepulver og kakao.","Vend det tørre og det våte vekselvis inn i eggedosisen.","Hell røren i en smurt langpanne.","Stek midt i ovnen ved 200 °C i ca. 25–30 minutter."]},{"group":"Glasur","steps":["Visp sammen egg, melis, kakao, vaniljesukker og kaffe.","TIP: For bedre holdbarhet kan du bruke 100 g smør i stedet for egg, og piske inn med melis, kakao, vaniljesukker og kaffe.","Bre glasuren over kaken mens den fortsatt er varm."]}],"createdAt":"2025-08-25"},
            {"id":"recipe_1756234964414_pfzu7v38g","title":"Firkløverkake med mandelbunn","servings":"10-12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":85,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Nøttepreget kake med saftig mandelbunn og kremet Firkløverfyll for ultimate sødme. Mandelbunnen har en seig, marengsaktig konsistens som absorberer fyllet perfekt. Firkløversjokoladen gir en karakteristisk melkesjokoladesmak. En mektig kake som må stå kaldt for at fyllet skal sette seg ordentlig.","image":"firkloverkakemedmandelbunn.jpg","ingredients":[{"group":"Bunn","items":["4 egg","4 dl sukker","200 g mandler, malte","1 ts bakepulver"]},{"group":"Fyll","items":["2 dl kremfløte, pisket til krem","100 g meierismør","2 dl sukker","2 plater Firkløver-sjokolade (á 190 g)"]}],"instructions":[{"group":"Bunn","steps":["Forvarm ovnen til 175 °C.","Visp eggene lett sammen med sukker.","Bland bakepulveret inn i de malte mandlene og rør dette inn i eggeblandingen.","Hell røren i en smurt springform (ca. 24 cm).","Stek midt i ovnen i ca. 40–45 minutter til kaken er gjennomstekt."]},{"group":"Fyll","steps":["Smelt smøret sammen med Firkløver-sjokoladen over svak varme.","Visp sukker inn i blandingen til det er oppløst.","La blandingen avkjøle litt før den vendes forsiktig inn i pisket krem.","Fordel fyllet jevnt over den avkjølte kaken."]},{"group":"Servering","steps":["Sett kaken kjølig i minst 2 timer før servering slik at fyllet setter seg.","TIP: Pynt gjerne med revet sjokolade eller hakkede mandler på toppen."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756235372035_9g5zf866v","title":"Sigrids skoleboller","servings":"14–16 stk.","provider":"Sigrid","reference":"Oppskriftsbok","pageNumber":86,"category":"Gjærbakst","meal":"Kaffe","cuisine":"Norsk","description":"Dekadente skoleboller fylt med hjemmelaget vaniljekrem og toppet med glasur og kokos. Den rike deigen med kardemomme gir dybde, mens vaniljekremen tilføyer luksus. Melisglasuren og kokosen fullfører disse uimotståelige bollene.","image":"sigridsskoleboller.jpg","ingredients":[{"group":"Deig","items":["500 g hvetemel","100 g smør, romtemperert","100 g sukker","1 ts malt kardemomme","2,25 dl melk, lunken","50 g fersk gjær (eller 12 g tørrgjær)","1 egg"]},{"group":"Vaniljekrem","items":["2 dl melk","2 eggeplommer","50 g sukker","1 ½ ss maisenna","½ ts vaniljesukker eller frø fra ¼ vaniljestang"]},{"group":"Pynt","items":["150 g melis","2–3 ss vann","1 dl kokosmasse"]}],"instructions":[{"group":"Deig","steps":["Smuldre gjæren i lunken melk. Tilsett sukker, egg og kardemomme.","Elt inn hvetemel og smør til deigen er smidig og slipper bollen (8–10 minutter).","Dekk med klede og hev til dobbel størrelse, ca. 45–60 minutter."]},{"group":"Vaniljekrem","steps":["Visp sammen eggeplommer, sukker, maisenna og vaniljesukker.","Kok opp melken og trekk kjelen av platen.","Spe litt av den varme melken inn i eggeblandingen under visping.","Hell blandingen tilbake i kjelen med resten av melken.","Varm opp under konstant røring til kremen tykner (82–85 °C). Den må ikke koke.","Avkjøl raskt og dekk med plastfolie direkte på overflaten."]},{"group":"Forming og steking","steps":["Del deigen i 14–16 emner, trill til boller og legg på bakepapirkledd brett.","La bollene etterheve i ca. 30 minutter.","Lag en fordypning i midten og fyll med vaniljekrem.","Stek ved 220–225 °C i 10–12 minutter til gyldne.","Avkjøl på rist."]},{"group":"Pynt","steps":["Rør melis og vann til en tykk glasur.","Pensle glasur rundt vaniljekremen.","Dryss kokosmasse over glasuren."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756235605234_62eyzfzym","title":"Magnhilds Gryterett","servings":"2-3 porsjoner","provider":"Magnhild","reference":"Oppskriftsbok","pageNumber":87,"category":"Hovedretter","meal":"Middag","cuisine":"Norsk","description":"Komplett kjøttdeigform med grønnsaker for enkel og smakfull middag. Purre, gulrot og blomkål gir farge og næring. Serveres tradisjonelt med ris og pyntes festlig. En praktisk rett som ser mer komplisert ut enn den er.","image":"magnhildsgryterett.jpg","ingredients":[{"group":"Kjøttfarse","items":["400 g kjøttdeig","1 egg","1 ss potetmel","1 ts salt","1/4 ts pepper","1/2 løk, hakket","4 dl vann","Smør eller margarin til å smøre formen"]},{"group":"Fyll","items":["1 liten purreløk, i skiver","1–2 gulrøtter, i terninger","1/2 lite blomkål (ca. 150 g), delt i små buketter","100 g hermetiske erter (ca. 1/2 boks)","1–2 ss ketchup","Evt. litt sjysaus"]},{"group":"Pynt og tilbehør","items":["Salat","1 tomat i skiver","1 hardkokt egg, i båter","Frisk persille","Kokt ris (ca. 2 porsjoner)","2 ss rømme eller dressing"]}],"instructions":[{"group":"Forberedelse","steps":["Forvarm ovnen til 200 °C (180 °C varmluft).","Smør en liten ildfast form."]},{"group":"Kjøttfarse","steps":["Bland kjøttdeig, egg, potetmel, salt, pepper, hakket løk og vann til en jevn farse.","Fordel farsen slik at den dekker bunn og kanter i formen."]},{"group":"Fyll","steps":["Forvell gulrøtter og blomkål i 2–3 minutter.","Bland med purreløk, erter og ketchup (evt. sjysaus).","Ha fyllet i formen."]},{"group":"Steking","steps":["Stek midt i ovnen i ca. 35–40 minutter til farsen er gjennomstekt og lett gyllen.","La retten hvile i 5 minutter før servering."]},{"group":"Servering","steps":["Pynt med tomat, hardkokt egg og persille.","Server med ris og en skje rømme eller dressing."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756235804418_h469xpukg","title":"Fruktsalat","servings":"4 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":88,"category":"Tilbehør","meal":"Middag","cuisine":"Norsk","description":"Frisk råkostsalat med kål, gulrot og svisker i søt appelsindressing. Den sprø kålen og gulroten kontrasteres av de myke, søte sviskene. Nøtter tilføyer crunch og fylde. En sunn og fargerik salat som passer både som tilbehør og lett rett.","image":"fruktsalat.jpg","ingredients":["Saften av 1 appelsin","0,5 dl vann","1 ss sukker (justeres etter smak)","200 g hodekål, finsnittet","1 gulrot, revet","6–8 svisker, hakket","En neve valnøtter eller andre nøtter (valgfritt)"],"instructions":["Press saften av en appelsin og bland med litt vann og sukker.","Finsnitt kål, riv gulrot og hakk svisker.","Bland alt i en bolle og hell sukkerlaken over.","Vend inn nøtter hvis ønsket.","La salaten trekke i kjøleskap i minst 15 minutter før servering."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756235764735_8ugmch79s","title":"Korn-karbonader","servings":"4 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":88,"category":"Tilbehør","meal":"Middag","cuisine":"Norsk","description":"Vegetarkarbonader av bygg, poteter og løk med mild, mettende smak. Den grove teksturen og nøtteaktige byggen gir god tyggemotstand. Pyntes med appelsinskiver for friskhet og farge. En sunn og smakfull erstatning for kjøttkarbonader.","image":"kornkarbonader.jpg","ingredients":["2 middels store løk, finhakket","4 rå poteter, revet","1 egg","2 ts salt","4 dl byggryn (kokte eller bløtlagte)","½ ts pepper (evt. paprika eller annet krydder)","Appelsinskiver til pynt","Olje eller margarin til steking"],"instructions":["Finhakk løken og riv potetene.","Bland sammen løk, poteter, egg, salt, krydder og byggryn til en fast deig.","Form til små karbonader.","Stek på middels varme i litt olje eller margarin til de er gylne og gjennomstekte.","Pynt med appelsinskiver før servering.","TIP: Server gjerne med en frisk salat eller kokte grønnsaker."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756235893200_2ac0qeeas","title":"Kyllingsalat","servings":"4 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":89,"category":"Tilbehør","meal":"Middag","cuisine":"Norsk","description":"Klassisk blandingssalat med kylling, skinke, ost og kremet rømmedressing. Isbergsalaten gir sprøhet mens proteinet gjør den mettende. Den milde ostedressingen binder alt sammen. En komplett lunsjrett som serveres med brød.","image":"kyllingsalat.jpg","ingredients":[{"group":"Dressing","items":["2 dl lettrømme (20 % fett)","50 g finrevet Norvegia eller annen mild gulost","1 ts sukker","1–2 ts presset sitronsaft"]},{"group":"Salat","items":["½ hode isbergsalat","½ grillet kylling (ca. 300 g renset kjøtt)","200 g kokt skinke i terninger","200 g Norvegia eller Cheddar i terninger","2 stilker selleri i skiver","4 tomater i båter"]},{"group":"Til servering","items":["1 pariserloff eller baguette"]}],"instructions":["Riv isbergsalat i biter og legg i en stor bolle.","Del kyllingkjøttet i strimler og tilsett sammen med skinke, ost, selleri og tomater.","Rør sammen rømmen med ost, sukker og sitronsaft til en jevn dressing.","Vend salaten lett sammen med dressingen, eller server dressingen ved siden av.","Server med ferskt pariserloff ved siden av."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756156765700_21w885ar2","title":"Loff","servings":"2–3 brød","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":90,"category":"Brød og rundstykker","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Klassisk norsk loff med lys, luftig konsistens og mild smak. Den fine krummen og myke skorpen gjør den perfekt til toast og smørbrød. Holder seg myk i flere dager. En allsidig brødtype for hele familien.","image":"loff.jpg","ingredients":["1 kg hvetemel","50 g fersk gjær (eller 1 pose tørrgjær, 12 g)","2 ss sukker","7 dl melk (lunken)","1 ½ ts salt","3 ss margarin eller smør"],"instructions":["Løs gjæren i lunken melk med sukker.","Tilsett mel, salt og smeltet margarin. Elt godt i 10 min.","Hev deigen til dobbel størrelse (ca. 1 time).","Form til 2–3 brød, legg i smurte former. Etterhev 30–40 min.","Stek ved 200 °C i 30–35 min."],"createdAt":"2025-08-25"},
            {"id":"recipe_1756156781205_hbxbb1b56","title":"Pizza","servings":"4 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":90,"category":"Hovedretter","meal":"Middag","cuisine":"Italiensk","description":"Hjemmelaget pizza med kjøttdeig og cheddarost for kraftig, mettende smak. Den hjemmelagde gjærbunnen er myk og luftig. Tomatpurén og oreganoen gir italiensk preg på norsk vis. Serveres rett fra pannen for ultimate helgekos.","image":"pizza.jpg","ingredients":[{"group":"Deig","items":["4 ½ dl hvetemel","25 g fersk gjær (eller ½ pose tørrgjær, 6 g)","½ ts salt","1 ½ ss smeltet smør","1 ½ dl lunkent vann"]},{"group":"Fyll","items":["150 g kjøttdeig","2 løk, finhakket","2 ss smør","5 ss tomatpuré","1 ½ ts salt","½ ts pepper","1 dl vann","150 g revet cheddar","1 ts tørket oregano"]}],"instructions":[{"group":"Deig","steps":["Rør gjæren ut i lunkent vann, tilsett smør, salt og mel.","Elt deigen smidig og la den heve i ca. 30 min."]},{"group":"Fyll","steps":["Stek kjøttdeig og løk i smør til det er gyllenbrunt.","Tilsett tomatpuré, vann, salt og pepper. La småkoke i 5–10 min."]},{"group":"Steking","steps":["Kjevle ut deigen til en rund eller firkantet bunn.","Fordel fyllet jevnt over bunnen.","Dryss over ost og oregano.","Stek ved 225 °C i 12–15 min til osten er gyllen."]}],"createdAt":"2025-08-25"},
            {"id":"recipe_1756236330536_b3nwm8ujp","title":"Festkake med glasur","servings":"12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":91,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Mektig sjokoladekake med blank glasur som holder seg perfekt i flere dager. Den kompakte konsistensen og dype sjokoladesmaken gjør den til en ekte festkake. Glasuren av kakao, kaffe og smør gir en profesjonell, skinnende overflate. Kokos eller nøtter på toppen tilføyer tekstur og visuell appell.","image":"festkakemedglasur.jpg","ingredients":[{"group":"Kakebunn","items":["200 g smør (romtemperert)","200 g sukker","200 g hvetemel","1 ½ ts bakepulver","200 g kokesjokolade (smeltet eller revet)","4 egg"]},{"group":"Glasur","items":["200 g melis","2 ss kakao","2 ss sterk kaffe","60 g smør (evt. 50 g delfiafett for klassisk variant)","1 egg (lett sammenvispet)"]},{"group":"Topping (valgfritt)","items":["Kokosmasse eller hakkede nøtter"]}],"instructions":[{"group":"Forberedelse","steps":["Sett ovnen på 180 °C.","Smør en rund form (24 cm) eller liten langpanne (20x30 cm)."]},{"group":"Kakebunn","steps":["Rør smør og sukker hvitt.","Tilsett mel og bakepulver.","Rør inn smeltet eller revet sjokolade og egg.","Hell røren i formen og stek i 30–35 minutter midt i ovnen.","Avkjøl på rist til kaken er lunken."]},{"group":"Glasur","steps":["Bland melis, kakao og kaffe.","Rør inn smør eller delfiafett.","Tilsett lett sammenvispet egg og rør til glasuren er jevn.","Smør glasuren over den lunkne kaken.","Dryss evt. med kokos eller nøtter."]},{"group":"Tips","steps":["TIP: La kaken stå kjølig noen timer før servering for best konsistens og smak."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756236463221_ugzydwig2","title":"Dagmars fruktkake","servings":"10-12 porsjoner","provider":"Dagmar","reference":"Oppskriftsbok","pageNumber":92,"category":"Formkaker","meal":"Kake","cuisine":"Norsk","description":"Saftig fruktkake med nøtter, sjokolade og sitrusglasur som balanserer rikdommen perfekt. Kombinasjonen av rosiner, aprikoser, cocktailbær og sjokolade gir kompleks sødme med ulike teksturer. Den friske glasuren av appelsin- og sitronsaft trekker inn i kaken og skaper en saftig, aromatisk opplevelse. Holder seg godt og blir ofte bedre etter et døgns hvile.","image":"dagmarsfruktkake.jpg","ingredients":[{"group":"Grunnmasse","items":["250 g hvetemel","250 g sukker","250 g smør eller margarin","4 egg","1 ts bakepulver"]},{"group":"Tilsetninger","items":["50 g rosiner","50 g hakkede nøtter eller mandler","50 g tørkede aprikoser (hakket)","50 g cocktailbær (hakket)","50 g mørk sjokolade (½ plate, hakket)"]},{"group":"Glasur","items":["Saften av 1 appelsin","Saften av 1 sitron","100 g melis"]}],"instructions":[{"group":"Forberedelse","steps":["Forvarm ovnen til 180 °C.","Smør og kle en rund kakeform (24 cm) med bakepapir."]},{"group":"Tilberedning","steps":["Pisk smør og sukker hvitt.","Tilsett ett og ett egg under pisking.","Sikt inn hvetemel og bakepulver, bland forsiktig.","Vend inn rosiner, nøtter, aprikoser, cocktailbær og hakket sjokolade.","Hell røren i kakeformen."]},{"group":"Steking","steps":["Stek kaken midt i ovnen ved 180 °C i 40–50 minutter.","Sjekk med kakepinne – den skal komme ren ut."]},{"group":"Glasur","steps":["Bland sitron- og appelsinsaft med melis til en tynn glasur.","Hell glasuren over den varme kaken rett etter steking.","TIP: Stikk små hull i kaken med en gaffel før glasuren helles over, så trekker den bedre inn."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756236698625_rrrhyudgb","title":"Fyrstekake","servings":"10-12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":93,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Elegant fyrstekake med mørdeigsbunn, luftig mandelfyll og vakre deigstrimler. Den søte mandelmassen med kardemomme og vanilje gir en nøttepreget, aromatisk smak. Holder seg saftig i flere dager og blir ofte bedre etter hvile. En klassisk festkake med imponerende utseende.","image":"fyrstekake.jpg","ingredients":[{"group":"Bunn","items":["165 g smør (romtemperert)","125 g sukker","2 eggeplommer","2 ss kremfløte","250 g hvetemel","2 ts bakepulver"]},{"group":"Fyll","items":["250 g malte mandler","250 g melis","½ ts malt kardemomme","½ ts vaniljesukker","½ ts bakepulver","5 eggehviter"]}],"instructions":[{"group":"Forberedelse","steps":["Forvarm ovnen til 180 °C","Smør en springform (24 cm)"]},{"group":"Bunn","steps":["Pisk smør og sukker hvitt og luftig","Tilsett eggeplommer og fløte, rør godt","Bland inn hvetemel og bakepulver til en mørdeig","Kjevle ut deigen og kle bunnen og kantene av formen","Spar litt deig til strimler til pynt"]},{"group":"Fyll","steps":["Mal mandlene fint","Stivpisk eggehvitene","Vend inn melis, malte mandler, kardemomme, vaniljesukker og bakepulver","Hell fyllet i formen"]},{"group":"Topping","steps":["Kjevle ut resten av deigen","Skjær strimler og legg i rutemønster over fyllet"]},{"group":"Steking","steps":["Stek midt i ovnen i ca. 35–40 minutter","Avkjøl i formen før servering"]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756236897513_ynga7qqbn","title":"Dagmars havrekjeks","servings":"Ca. 50–60 stk.","provider":"Dagmar","reference":"Oppskriftsbok","pageNumber":94,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Rike havrekjeks med smør og egg som gir en deilig, hjemmelaget smak. Hornsalt og natron sørger for lett heving og sprø konsistens. De har en mild, nøtteaktig smak som passer både til kaffe og som del av kakeboksen. Enkle å lage og holder seg sprø i tett boks i flere uker.","image":"dagmarshavrekjeks.jpg","ingredients":["2–3 egg (2 store eller 3 små)","250 g sukker","250 g smør (smeltet)","250 g hvetemel","250 g havregryn","1 ts natron","1 ts hornsalt"],"instructions":["Pisk egg og sukker til en luftig eggedosis.","Smelt smøret og avkjøl lett.","Bland inn smør, hvetemel, havregryn, natron og hornsalt.","Rør sammen til en jevn deig.","Sett små topper på stekebrett kledd med bakepapir.","Stek ved 180 °C i ca. 10–12 minutter til kjeksene er gyllenbrune.","Avkjøl på rist og oppbevar i tett boks."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756236917384_nhy9qn56v","title":"Klaras havrekjeks","servings":"Ca. 50–60 stk.","provider":"Klara","reference":"Oppskriftsbok","pageNumber":94,"category":"Småkaker","meal":"Kaffe","cuisine":"Norsk","description":"Milde havrekjeks med melk som gir mykere tekstur enn tradisjonelle varianter. Den nøytrale smaken gjør dem allsidige - like gode med pålegg som alene. Gyllen farge og jevn tekstur gjør dem innbydende. En pålitelig oppskrift som alltid lykkes.","image":"klarashavrekjeks.jpg","ingredients":["250 g smør","150 g sukker","500 g store havregryn","2,5 dl melk","250 g hvetemel","15 g hornsalt (ca. 1,5 ss)","1 ts natron"],"instructions":["Pisk smør og sukker hvitt og luftig.","Tilsett melk og rør inn havregryn, hvetemel, hornsalt og natron.","Arbeid deigen raskt sammen.","Trill små kuler og trykk lett flate på stekebrett med bakepapir.","Stek ved 180 °C i ca. 10–12 minutter til gyllen farge.","Avkjøl på rist og oppbevar i tett boks."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756236980181_9msn9roci","title":"Sissels peppernøtter","servings":"Ca. 60–80 stk.","provider":"Sissel","reference":"Oppskriftsbok","pageNumber":95,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Aromatiske peppernøtter med fem forskjellige krydder inkludert anis for unik smak. Sirupen gir en seig-sprø tekstur som er karakteristisk. Små og vanedannende, perfekte til jul. Oppbevares best i tett boks for å bevare sprøheten.","image":"sisselspeppernotter.jpg","ingredients":["250 g smør","190 g sukker (2 ¼ dl)","1 egg","1 ss lys sirup","2 ts malt kanel","1 ts malt nellik","1 ts malt kardemomme","¼ ts malt ingefær","½ ts malt anis","2 ts bakepulver","375–400 g hvetemel"],"instructions":["Pisk smør og sukker hvitt og luftig.","Tilsett egg og sirup, rør godt.","Bland krydder og bakepulver med det meste av melet, og rør inn.","Spe med resten av melet til deigen er smidig.","Rull små kuler og legg på bakepapirkledd stekebrett.","Stek ved 150–160 °C i 12–15 minutter til lett gylne.","Avkjøl på rist. TIP: Oppbevar i tett boks for best smak."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756237358130_o8nq2erx0","title":"Kuvertbrød","servings":"12 stk.","provider":"I. Espelid","reference":"Oppskriftsbok","pageNumber":96,"category":"Brød og rundstykker","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Små luftige gjærbrød bakt raskt ved høy temperatur for sprø skorpe. Den korte steketiden bevarer fuktigheten. Perfekte til koldtbord eller som tilbehør til festmåltider. Elegante og profesjonelle.","image":"kuvertbrod.jpg","ingredients":[{"group":"Deig","items":["500 g hvetemel","25 g fersk gjær (eller ½ pose tørrgjær)","50 g smør (romtemperert eller smeltet)","1 ss sukker","2 dl melk eller vann","1 ts salt"]}],"instructions":[{"group":"Forberedelse","steps":["Smuldre gjær i lunken melk eller vann (ca. 37 °C).","Tilsett sukker, smeltet smør og salt.","Elt inn melet til en smidig deig."]},{"group":"Heving","steps":["La deigen heve under klede i ca. 1 time.","Del i 12 emner, trill små brød, legg på bakepapirkledd stekebrett.","Etterhev i ca. 20 minutter."]},{"group":"Steking","steps":["Forvarm ovn til 250 °C (evt. 220 °C varmluft).","Stek i 7–10 minutter til gyllenbrune.","Avkjøl på rist."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756238217695_jbpbqb6ig","title":"Fiskepudding med hvit saus servert i terteskjell","servings":"4 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":97,"category":"Hovedretter","meal":"Middag","cuisine":"Norsk","description":"Elegant selskaprett hvor terteskjell fylles med fiskepudding i kremet hvit saus. Den milde sausen fremhever den delikate fiskesmaken, mens reker og asparges tilføyer luksus. Dillen gir en frisk, nordisk touch. En visuelt imponerende rett som smaker like godt som den ser ut.","image":"fiskepuddingiterteskjell.jpg","ingredients":[{"group":"Hvit saus","items":["3 ss smør (ca. 45 g)","3 ss hvetemel (ca. 45 g)","5 dl melk (helmelk for fylde)","½ ts salt","¼ ts hvit pepper","TIP: 1 klype muskat eller ½ buljongterning fisk/kjøttkraft kan tilsettes for ekstra smak"]},{"group":"Fiskefyll i saus","items":["500 g fiskepudding, i terninger eller skiver","200 g reker, renset","8 asparges, lettkokte og delt i biter","3 ss frisk dill, hakket","Variasjon: Bytt ut fiskepudding med 400 g kokt/dampet hvit fisk (f.eks. torsk eller sei) eller med lettstekt laks i terninger"]},{"group":"Servering","items":["4 store terteskjell (kjøpt, ferdigstekte butterdeigsskåler)","4 store salatblader til pynt"]}],"instructions":[{"group":"Hvit saus","steps":["Smelt smøret i en kjele på middels varme.","Rør inn melet og la det surre i 1–2 minutter for å fjerne rå melsmak.","Spe gradvis med melken under kraftig visping til sausen er jevn.","La sausen småkoke i 5 minutter under omrøring til den tykner.","Smak til med salt, hvit pepper og eventuelt muskat/buljong."]},{"group":"Fiskefyll i saus","steps":["Legg fiskepuddingen i terninger i den varme hvite sausen og la den trekke i ca. 5 minutter på svak varme.","Tilsett de lettkokte aspargesbitene de siste 2 minuttene av koketiden.","Rør inn rekene helt til slutt og varm dem forsiktig opp i 1 minutt, uten å koke.","Bland inn hakket dill rett før servering."]},{"group":"Servering","steps":["Varm terteskjellene etter instruksjonene på pakken.","Legg et stort salatblad på hvert serveringsfat og plasser et varmt terteskjell oppå.","Fyll terteskjellene rikelig med fiskefyllet i saus.","Server straks slik at terteskjellene holder seg sprø. TIP: Fyll rett før servering for best resultat."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756238260544_dmoqicyup","title":"Potetskaker","servings":"7–8 stk.","provider":"I. Espelid","reference":"Oppskriftsbok","pageNumber":97,"category":"Tilbehør","meal":"Middag","cuisine":"Norsk","description":"Enkle potetskaker av rå poteter og løk, sprø utenpå og myke inni. Byggmelet binder og gir en lett nøtteaktig smak. Perfekte som tilbehør til kjøtt og fisk, eller som vegetarrett. Stekes gylne i panne for beste resultat.","image":"potetskaker.jpg","ingredients":["500 g poteter, nyskrelte","1 middels stor løk (ca. 100 g)","1 ss byggmel (ca. 10 g)","1 egg","Salt og pepper","Smør eller olje til steking"],"instructions":["Riv potetene grovt og press ut litt væske.","Riv eller finhakk løken.","Bland poteter, løk, byggmel og egg. Smak til med salt og pepper.","Form til flate kaker.","Stek i smør eller olje på middels varme, ca. 2–3 minutter på hver side, til gylne og gjennomstekte."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756238383056_1e5ojuvi0","title":"Olympiakake","servings":"12–14 stykker","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":98,"category":"Lagkaker","meal":"Kake","cuisine":"Norsk","description":"Mektig mandelkake med tre lag - bunn, mandelfyll og smørkrem for ultimate fylde. Det kokte mandelfyllet gir intens nøttesmak som absorberes av smørkremen. Kan toppes med sjokolade eller melis. En virkelig festkake for spesielle anledninger.","image":"olympiakake.jpg","ingredients":[{"group":"Kakebunn","items":["125 g smør","3 dl sukker","3 eggeplommer","4 ½ dl hvetemel","2 ts bakepulver","1 ts vaniljesukker","1 ½ dl melk","50 g malte mandler","3 eggehviter (stivpiskede)"]},{"group":"Fyll","items":["100 g hakkede mandler","3 ss sukker","1 ¼ dl melk"]},{"group":"Smørkrem","items":["100 g smør","2 ss sukker","1 ½ ts vaniljesukker","1 egg (valgfritt)"]},{"group":"Topping (valgfritt)","items":["Smeltet sjokoladeglasur eller melisglasur"]}],"instructions":[{"group":"Kakebunn","steps":["Rør smør og sukker hvitt.","Tilsett eggeplommene én om gangen.","Bland mel, bakepulver og vaniljesukker, og rør inn vekselvis med melk.","Tilsett malte mandler.","Vend forsiktig inn stivpiskede eggehviter.","Hell i smurt springform (ca. 24 cm) og stek på 175 °C i 40–45 minutter.","Avkjøl helt."]},{"group":"Fyll","steps":["Kok opp melk, sukker og hakkede mandler.","La det småkoke til blandingen tykner.","Avkjøl helt."]},{"group":"Smørkrem","steps":["Pisk smør, sukker og vaniljesukker hvitt.","Tilsett evt. egg for en lettere konsistens.","Bland inn det avkjølte mandelfyllet."]},{"group":"Montering","steps":["Del kakebunnen i to.","Fordel fyllet mellom lagene og evt. litt på toppen.","Avslutt med glasur (sjokolade eller melis).","TIP: Pynt med mandelflak eller sjokolade for ekstra festpreg."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756238483719_r1gv80ygf","title":"Brasiliansk Karrirett","servings":"4 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":99,"category":"Hovedretter","meal":"Middag","cuisine":"Brasiliansk","description":"Eksotisk karrirett med svinekjøtt, serveres med fargerike tilbehør som skaper en festlig opplevelse. Karrisausen er mild og kremet med fløte og tomatpuré, mens frukten, nøttene og grønnsakene tilføyer tekstur og sødme. Hver person komponerer sin egen smakskombinasjon ved bordet. En sosial rett som inviterer til eksperimentering og samtale rundt matbordet.","image":"brasilianskkarrirett.jpg","ingredients":["750 g svinekjøtt (eller kylling) i terninger","2 ss smør eller margarin","1 ½ ts karri","1 ½ ts salt","3 dl vann","1 ss tomatpuré","2 dl kremfløte eller matfløte",{"group":"Tilbehør","items":["Kokt ris","Peanøtter","Rosiner","Ananasbiter","Bananbiter","Epleterninger","Persille","Hakket løk"]}],"instructions":["Skjær kjøttet i terninger og brun det i smør/margarin sammen med karri.","Ha kjøttet i en gryte, tilsett kokende vann, tomatpuré og salt.","La småkoke under lokk i ca. 1 time, til kjøttet er mørt.","Rør inn fløte og jevn eventuelt med litt hvetemel utrørt i vann for tykkere saus.","Server rykende varm med kokt ris og små skåler med tilbehør.","TIP: La gjestene selv velge tilbehør for en rikere smakskombinasjon."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756238629295_qw5n0wohc","title":"Gomme","servings":"Ca. 1 liter ferdig gomme","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":100,"category":"Tilbehør","meal":"Kaffe","cuisine":"Norsk","description":"Tradisjonell melkegomme kokt i timer til søt, karamellisert krem. Den lange koketiden transformerer melken til en tykk, brun masse med dyp, karamellaktig smak. Perfekt på lefser, flatbrød eller som søtt pålegg. En tidkrevende, men verdt det for den unike smaken.","image":"gomme.jpg","ingredients":["3 l helmelk","3 l kulturmelk","1 egg","3 ss kremfløte","¾ kg sukker (gjerne delvis kandissukker for ekstra smak)"],"instructions":["Hell melken i en stor tykkbunnet kjele.","Kok opp på svak varme og la småkoke i 6–7 timer. Rør jevnlig for å unngå at det brenner seg.","Når melken har kokt inn til en tykk brun masse, tilsett sukker gradvis. Rør godt.","Pisk egget lett sammen og rør inn sammen med fløten.","Fortsett å koke til konsistensen blir som en tykk krem.","Avkjøl og oppbevar i rene glass. TIP: Smaker best når den får stå kaldt natten over."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756238599987_vq48oxc01","title":"Josteins flettebrød","servings":"1 stort brød","provider":"Jostein","reference":"Oppskriftsbok","pageNumber":100,"category":"Brød og rundstykker","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Vakkert flettet brød med mild loffkarakter og gyllen skorpe. Flettingen gjør brødet ekstra dekorativt og festlig. Den lette sødmen og smørmyke konsistensen gjør det perfekt til både pålegg og syltetøy. Imponerer alltid på festbordet.","image":"josteinsflettebrod.jpg","ingredients":["2 ½ dl vann (lunkent)","8 dl hvetemel","2 ts salt","2 ss sukker","50 g fersk gjær (eller 1 pose tørrgjær, 12 g)","2 ss smør (smeltet)"],"instructions":["Løs opp gjæren i lunkent vann.","Tilsett sukker, salt og smeltet smør.","Elt inn hvetemel til en smidig deig.","La deigen heve under klede i ca. 1–1,5 time.","Del deigen i tre like emner og rull til lengder.","Flett lengdene sammen til et brød og legg på bakepapirkledd plate.","Etterhev i ca. 30 minutter.","Pensle med sammenvispet egg eller melk for blank overflate. TIP: Strø gjerne på litt valmuefrø eller sesam.","Stek midt i ovnen på 200 °C i ca. 25–30 minutter til brødet er gyllent."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756238840329_hi90dhw2g","title":"Eplekake med mye godt i","servings":"1 kake (8–10 porsjoner)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":101,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Rik eplekake fylt med saftige epleskiver, rosiner og toppet med sjokolade og mandler. Fyllet av epler og rosiner gir naturlig sødme og fuktighet, mens sjokoladeglasuren og mandlene tilføyer luksus. En fyldig kake som kombinerer frukt og sjokolade på en harmonisk måte. Server med krem eller vaniljeis.","image":"eplekakemedmyegodti.jpg","ingredients":[{"group":"Deig","items":["400 g hvetemel","2 ½ ts bakepulver","200 g smør","200 g sukker","3 egg"]},{"group":"Fyll","items":["6 epler, skrelt og skåret i skiver","2 ss sukker","125 g rosiner","125 g sukker"]},{"group":"Topping","items":["½ plate kokesjokolade (ca. 50 g), smeltet","50 g hakkede mandler"]}],"instructions":["Lag deigen ved å smuldre smør i mel, bakepulver og sukker.","Rør inn eggene til en jevn deig.","Kjevle ut halvparten av deigen til en leiv på ca. 35 × 35 cm og legg den i en smurt langpanne.","Legg epleskiver, rosiner og sukker oppå.","Dekk til med resten av deigen (kjevlet til ca. 1 cm tykk).","Stek kaken midt i ovnen ved 200–225 °C i ca. 30 minutter, til gyllen og gjennomstekt.","Avkjøl litt før du topper med smeltet sjokolade og hakkede mandler.","TIP: Server gjerne med en klatt krem eller vaniljeis."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756238812575_zshudyem5","title":"Kålsalat","servings":"4 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":101,"category":"Tilbehør","meal":"Middag","cuisine":"Norsk","description":"Kremet kålsalat inspirert av coleslaw med majones og rømme. Den finskårne kålen og paprikaen gir sprø tekstur. Dressingen er mild og kremet med en lett syrlighet. Perfekt tilbehør til grillmat eller stekt kjøtt.","image":"kalsalat.jpg","ingredients":["7 ½ dl kål, finsnittet","1 liten grønn paprika, hakket","¾ dl majones","¾ dl lettrømme (20 %)","1 liten løk, finhakket"],"instructions":["Finhakk kål, paprika og løk.","Bland majones og rømme til en dressing.","Vend inn grønnsakene og smak til med litt salt og pepper.","La salaten trekke i minst 30 minutter i kjøleskapet før servering for å få frem smakene. TIP: Passer ekstra godt sammen med stekt kjøtt eller grillmat."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756243822443_pwp7ztdwd","title":"Kransekake","servings":"1 kake (ca. 18 ringer)","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":102,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Norsk kransekake av mandler og melis, sprø utenpå og seig inni. De tradisjonelle ringene stables til imponerende tårn. Den intense mandelsmaken og elegante presentasjonen gjør den perfekt til bryllup og store feiringer. Holder seg saftig lenge og kan fryses.","image":"kransekake.jpg","ingredients":["500 g mandler (skoldet og malt)","500 g melis","3 eggehviter","Smør (til former)","Semulegryn (til former)"],"instructions":["Forvarm ovnen til 175 °C.","Mal mandlene fint og bland med siktet melis.","Tilsett eggehvitene og elt til en fast deig.","Smør kransekakeformene og dryss med semulegryn.","Form deigen i ringer og legg i formene.","Stek midt i ovnen i 12–15 minutter til de er lett gyldne.","La stå i formene noen minutter før de tas ut.","TIP: Kan fryses og holder seg saftig lenge."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756243904531_8cwddvhqw","title":"Biff Stroganoff","servings":"4 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":103,"category":"Hovedretter","meal":"Middag","cuisine":"Russisk","description":"Kremet stroganoff med mørt oksekjøtt i fyldig saus av tomatpuré og fløte. Sitronsaften gir en frisk syrlighet som løfter den rike sausen og hindrer at retten blir for tung. Kjøttet blir mørt av langsom koking og absorberer smakene fra sausen. Serveres med ris eller potetmos som suger opp den deilige sausen. Kan utvides med paprika eller champignon for ekstra dybde.","image":"biffstroganoff.jpg","ingredients":["800 g oksekjøtt (mørbrad, flatbiff eller bankekjøtt), i terninger","2 store løk, hakket","4 ss olje eller smør","2 ts salt","1 ts nykvernet pepper","4 ss tomatpuré","saft av 1/2 sitron","3 dl kremfløte"],"instructions":["Varm opp olje i en gryte og brun kjøttet godt på alle kanter.","Tilsett hakket løk og la det surre til løken er blank.","Ha i salt, pepper, tomatpuré og sitronsaft. Bland godt.","Hell over fløte og la gryten småkoke under lokk i ca. 30 minutter, til kjøttet er mørt.","Serveres rykende varm med ris eller potetmos.","TIP: Tilsett paprika eller champignon for en mer klassisk variant."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756243947097_urw2t9dz6","title":"Helgas kake","servings":"10–12 stk.","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":103,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Festkake med kakao-marengsbunn, eggekrem og kokte svisker for kompleks smak. Den sprø-seige marengsbunnen kontrasteres av den kremete fyllingen. Sviskene gir en uventet, fruktig sødme. En nostalgisk kake med overraskende smakskombinasjon.","image":"helgaskake.jpg","ingredients":[{"group":"Bunn","items":["4 eggehviter","4 dl sukker","2 ts kakao","2 ss potetmel","1 ts bakepulver"]},{"group":"Kremfyll","items":["4 eggeplommer","100 g sukker","1 dl kremfløte","1 ts vaniljesukker","1 pk svisker (ca. 200 g), bløtlagt i litt vann og kokt","2,5 dl pisket krem til topping"]}],"instructions":[{"group":"Bunn","steps":["Forvarm ovnen til 160°C.","Pisk eggehvitene til stivt skum.","Tilsett sukker litt etter litt og pisk til en blank marengs.","Vend forsiktig inn kakao, potetmel og bakepulver.","Ha røren i en smurt eller bakepapirkledd springform (24 cm).","Stek i ca. 40 minutter. Avkjøl helt."]},{"group":"Kremfyll","steps":["Visp sammen eggeplommer, sukker, fløte og vaniljesukker i en kjele.","Varm forsiktig opp under omrøring til kremen tykner (skal ikke koke).","Avkjøl kremen.","Fordel kremen over bunnen og topp med kokte, avkjølte svisker.","Pynt med pisket krem på toppen."]},{"group":"Servering","steps":["La kaken stå kaldt minst 1 time før servering.","TIP: Kan pyntes med raspet sjokolade eller hakkede nøtter for ekstra smak."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756244045309_s4m0wsslt","title":"Fruktsalat med nøtter","servings":"4–6 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":105,"category":"Dessert","meal":"Dessert","cuisine":"Norsk","description":"Fargerik fruktsalat med både fersk og hermetisk frukt for variert tekstur og smak. Melisen og sitronsaften balanserer sødmen perfekt. Nøttene på toppen gir en velkommen sprøhet. En frisk avslutning på måltidet eller lett dessert.","image":"fruktsalatmednotter.jpg","ingredients":["½ honningmelon","1 banan","250 g jordbær","250 g moreller eller kirsebær","1 boks hermetiske fersken (ca. 420 g avrent vekt)","1 boks hermetiske mandariner (ca. 300 g avrent vekt)","En liten neve nøttekjerner (valnøtter, mandler eller hasselnøtter)","2 ss melis","Saften av ½ sitron"],"instructions":["Skjær frukten i passende biter og legg i en stor bolle.","Dryss over melis og press sitronsaft over frukten. Vend forsiktig.","Topp med grovhakkede nøttekjerner.","Server fruktsalaten avkjølt, gjerne alene eller med vaniljeis, pisket krem eller yoghurt.","TIP: For ekstra friskhet kan du tilsette litt appelsinsaft i dressingen."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756244113051_t42jwkigd","title":"Opp-ned kake","servings":"10–12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":106,"category":"Lagkaker","meal":"Kake","cuisine":"Norsk","description":"Spektakulær kake hvor nøttebunnen karamelliseres i formen før røren helles over. Når kaken snus får man en glitrende nøttetopping. Sjokoladerøren med kaffe er myk og fyldig. Vaniljekremen og pisket krem fullfører denne dekadente desserten.","image":"oppnedkake.jpg","ingredients":[{"group":"Nøttefyll","items":["100 g hakkede nøtter (valnøtter eller hasselnøtter)","100 g smør","100 g sukker"]},{"group":"Kakerøre","items":["3 egg","2 eggehviter","3 dl sukker","1 ss kakao","½ dl sterk, kald kaffe","3 dl hvetemel","1 ½ ts bakepulver"]},{"group":"Topping","items":["1 pk vaniljekrem","½ l kremfløte","Ekstra krem til pynt"]}],"instructions":[{"group":"Forberedelse","steps":["Forvarm ovnen til 170 °C.","Kle en ildfast form med bakepapir eller folie."]},{"group":"Nøttefyll","steps":["Smelt smør, sukker og nøtter sammen i en kjele.","Hell blandingen i formen."]},{"group":"Kakerøre","steps":["Pisk egg, eggehviter og sukker til eggedosis.","Bland kakao ut i kaffen og vend inn.","Sikt i hvetemel og bakepulver, vend forsiktig inn.","Hell røren over nøtteblandingen."]},{"group":"Steking","steps":["Stek midt i ovnen i ca. 45 minutter.","Sjekk med kakepinne at den er ferdig.","La avkjøle, ta av folien og hvelv kaken på fat."]},{"group":"Topping","steps":["Pisk kremfløten stiv.","Bland forsiktig med vaniljekrem.","Smør over kaken og pynt med litt ekstra krem."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756244190519_9jebycq4l","title":"Astrids Rekesalat","servings":"6 porsjoner","provider":"Astrid","reference":"Oppskriftsbok","pageNumber":107,"category":"Tilbehør","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Elegant rekesalat med makaroni og majones, perfekt til koldtbord og festlige anledninger. Kombinasjonen av søte reker, myk pasta og kremet majones skaper en mild og behagelig smak. Hvelves på fat og pyntes med sitron, egg og tomat for et imponerende visuelt uttrykk. For en lettere variant kan halvparten av majonesen erstattes med lettrømme eller crème fraîche.","image":"astridsrekesalat.jpg","ingredients":["500 g rensede reker","1 liten løk, finhakket","200–250 g makaroni","200 g majones","Pynt: sitronskiver, hardkokte egg i båter, tomat i skiver, salatblader"],"instructions":["Kok makaroni i lettsaltet vann. Skyll godt i kaldt vann og la renne av.","Bland makaroni med reker og finhakket løk.","Rør inn majones til en kremet blanding.","Ha alt i en form og press lett ned. Dekk til og la stå kaldt minst 2 timer.","Hvelv salaten på et serveringsfat.","Pynt med sitron, egg, tomat og salatblader.","TIP: For friskere smak kan du erstatte halvparten av majonesen med lettrømme eller crème fraîche."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756244331879_yw70gwi22","title":"Daimkake","servings":"10–12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":108,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Festlig marengskake med kaffe, krem og hakket Daim-sjokolade for uimotståelig smak. Den seige, sprø marengsbunnen laget med hornsalt og potetmel gir en unik tekstur. Kremen med kaffe og Daim skaper en perfekt balanse mellom søtt, salt og lett bittert. Må stå kaldt før servering for at smakene skal smelte sammen.","image":"daimkake.jpg","ingredients":[{"group":"Bunn","items":["2 eggehviter","2 dl sukker","0,25 ts hornsalt (hjortetaksalt)","2 ss potetmel"]},{"group":"Krem","items":["3 eggeplommer","120 g sukker","3,5 dl kremfløte","2 store Daim-sjokolader, hakket","0,5 dl sterk, avkjølt kaffe"]}],"instructions":[{"group":"Bunn","steps":["Pisk eggehvitene stive.","Tilsett sukker litt etter litt, og pisk til en blank og stiv marengs.","Vend forsiktig inn potetmel og hornsalt.","Fordel røren i en smurt springform (22–24 cm) eller på bakepapir.","Stek ved 100 °C i 1,5 time.","Avkjøl helt."]},{"group":"Krem","steps":["Pisk eggeplommer og sukker til eggedosis.","Pisk kremfløten til myk krem og vend den inn i eggedosisen.","Rør inn hakket Daim og kaffe.","Fordel kremen over den avkjølte bunnen.","Sett kaken kaldt i minst 2 timer før servering.","TIP: Dryss gjerne ekstra hakket Daim på toppen som pynt."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756244423944_p9zyu5fom","title":"Toves havregrynskake","servings":"1 langpanne (ca. 20–24 ruter)","provider":"Tove","reference":"Oppskriftsbok","pageNumber":109,"category":"Langpannekaker","meal":"Kake","cuisine":"Norsk","description":"Enkel havregrynskake med vaniljekrem, pisket krem og melisglasur. Den smuldrete havrebunnen absorberer kremene perfekt. Serveres kald i firkanter for enkel servering. Mild og søt med nøtteaktig undertone.","image":"toveshavregrynskake.jpg","ingredients":[{"group":"Bunn","items":["200 g smør, smeltet eller mykt","200 g sukker","200 g hvetemel","200 g havregryn"]},{"group":"Fyll og topping","items":["1 porsjon vaniljekrem (ca. 3 dl)","1/2 porsjon pisket krem (ca. 1,5 dl kremfløte)","Melisglasur (ca. 100 g melis rørt ut med 2 ss vann eller melk)"]}],"instructions":[{"group":"Forberedelse","steps":["Forvarm ovnen til 200°C over- og undervarme.","Kle en liten langpanne (ca. 20x30 cm) med bakepapir."]},{"group":"Bunn","steps":["Rør sammen smør og sukker.","Tilsett mel og havregryn, og rør til en jevn deig.","Press deigen jevnt ut i langpannen. TIP: Deigen er smuldrete, bruk fuktede hender eller baksiden av en skje for å trykke den flat."]},{"group":"Steking","steps":["Stek bunnen midt i ovnen i ca. 20 minutter, til den er lett gyllen.","Avkjøl helt før videre fylling."]},{"group":"Montering","steps":["Bre vaniljekrem jevnt over den avkjølte bunnen.","Legg på et tynt lag pisket krem.","Sikt over melis eller lag en tynn glasur med melis og vann/melk, og drypp på toppen.","Sett kaken kaldt til servering. Skjær i ruter før servering."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756245100668_ha58bmp2e","title":"Grove Horn","servings":"ca. 12 horn","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":110,"category":"Brød og rundstykker","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Saftige grove horn med rug og grovt hvete som gir fyldig kornsmak. Den balanserte blandingen av mel gir perfekt tekstur - myk innside med lett sprø skorpe. Horns karakteristiske fasong gjør dem ekstra innbydende. Utmerket til frokost, matpakke eller suppe.","image":"grovehorn.jpg","ingredients":["25 g fersk gjær (eller ½ pose tørrgjær)","5 dl lunken melk eller vann (eller en blanding)","7 dl hvetemel","2 dl grovt hvetemel","3 dl grovt rugmel","1 ss sukker","1 ts salt","1 egg","½ ts bakepulver","25 g smør, smeltet","Litt ekstra hvetemel til utbaking"],"instructions":["Løs opp gjæren i lunken melk eller vann.","Tilsett egg, smeltet smør, sukker og salt.","Rør inn rugmel, grovt hvetemel, bakepulver og mesteparten av hvetemelet.","Elt deigen godt i ca. 8–10 minutter til den blir smidig. Juster med litt ekstra hvetemel om nødvendig.","Dekk til og la heve i ca. 1 time, til dobbel størrelse.","Del deigen i 2 emner. Kjevle hvert emne til en rund leiv og del i 6 trekanter.","Rull sammen trekantene fra den brede enden til horn.","Legg hornene på stekebrett med bakepapir, og la dem etterheve i 30 minutter.","Pensle med sammenvispet egg eller melk.","Stek midt i ovnen ved 220°C i 12–15 minutter, til de er gyldne og gjennomstekte."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756245166545_nbvm52fy1","title":"Veslas smultringer","servings":"ca. 25–30 smultringer","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":110,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Luftige smultringer med eggedosis og pisket krem for ekstra letthet. Kardemommen gir delikat aroma mens friteringen sikrer perfekt sprøhet. Blir gyldne og uimotståelige. En oppgradert versjon av klassiske smultringer.","image":"veslassmultringer.jpg","ingredients":["4 egg","250 g sukker","1.5 dl kremfløte, pisket","60 g smør eller margarin, smeltet","540 g hvetemel (ca. 9 dl)","1 ts bakepulver","1 ts hornsalt (hjortetaksalt)","1 ts malt kardemomme","Smult eller nøytral frityrolje til fritering"],"instructions":["Pisk egg og sukker til luftig eggedosis.","Visp kremfløten stiv, og vend den inn i eggedosisen.","Rør inn smeltet og avkjølt smør.","Sikt sammen hvetemel, bakepulver, hornsalt og kardemomme, og vend det inn i deigen.","La deigen hvile kjølig i minst 30 minutter.","Kjevle ut deigen til ca. 1 cm tykkelse. Stikk ut runde smultringer med smultringutstikker.","Varm smult eller olje til 170–175°C.","Friter noen smultringer av gangen, ca. 2–3 minutter per side, til de er gyldne.","La renne av på rist eller kjøkkenpapir."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756245336290_pap6rfyee","title":"Slottskake (Sitronfromasjkake)","servings":"8–10 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":111,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"En lett og frisk kake laget av sitronfromasj med krem og gelatin. Kaken er luftig og syrlig, pyntet med krem og bringebærsyltetøy. Perfekt til kaffeselskap eller festlige anledninger.","image":"slottskake.jpg","ingredients":["2 eggeplommer","1 helt egg","Saft og skall av ½ sitron","5 ss sukker","3 plater gelatin (ca. 6 g)","3 dl kremfløte","1 ss vaniljesukker","2–3 ss bringebærsyltetøy","Ekstra krem til pynt"],"instructions":["Bløtlegg gelatinplatene i kaldt vann i 5 minutter.","Pisk egg, eggeplommer, sukker og sitron til luftig eggedosis.","Smelt gelatinen i 2 ss varmt vann og rør inn i eggedosisen.","Pisk kremfløten med vaniljesukker til myk krem.","Vend forsiktig kremen inn i eggedosisen.","Hell i en springform (22 cm) og sett kaldt minst 4 timer.","Pynt med bringebærsyltetøy og pisket krem.","TIP: Friske bær kan brukes som ekstra pynt."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756245258439_1xue4vpr2","title":"Firkløverkake","servings":"10-12 porsjoner","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":112,"category":"Rundkaker","meal":"Kake","cuisine":"Norsk","description":"Luksuriøs konfektkake med vaniljekrem og to hele Firkløverplater i glasuren. Den luftige bunnen med revet melkesjokolade gir en lett base for den rike vaniljekremen. Glasuren er ekstraordinært mektig og søt, perfekt for sjokoladeelskere. En virkelig festkake som imponerer både visuelt og smakmessig.","image":"firkloverkake.jpg","ingredients":[{"group":"Bunn","items":["5 egg","175 g sukker","150 g hvetemel","1 ½ ts bakepulver","50 g revet melkesjokolade (ca. ½ plate)"]},{"group":"Fyll","items":["1 pose vaniljesauspulver (til 2,5 dl melk)","3 dl kremfløte, pisket"]},{"group":"Glasur","items":["1 ½ dl melk","150 g melis","50 g smør","200 g Firkløversjokolade (2 plater á ca. 100 g)"]},{"group":"Pynt","items":["Krem langs kanten"]}],"instructions":[{"group":"Bunn","steps":["Forvarm ovnen til 175°C og smør en springform (ca. 24 cm).","Pisk egg og sukker til eggedosis.","Sikt inn hvetemel og bakepulver, bland forsiktig.","Vend inn revet sjokolade.","Stek i 30–35 minutter. Avkjøl."]},{"group":"Fyll","steps":["Kok vaniljesaus med 2,5 dl melk. Avkjøl.","Pisk kremfløte og bland med avkjølt vaniljesaus til en luftig krem."]},{"group":"Glasur","steps":["Kok opp melk, rør inn melis.","Tilsett smør og sjokoladebiter, smelt til en jevn glasur.","Avkjøl litt før bruk."]},{"group":"Montering","steps":["Del kakebunnen i to lag.","Fyll med vaniljekremblandingen.","Hell glasuren over toppen og la den renne nedover sidene.","Pynt med krem langs kanten.","TIP: La kaken stå kjølig i minst 1 time før servering."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756245486416_edbqoq8hu","title":"Magnhilds kakemenn","servings":"Ca. 50–60 stk.","provider":"Magnhild","reference":"Oppskriftsbok","pageNumber":113,"category":"Julekaker","meal":"Kaffe","cuisine":"Norsk","description":"Tradisjonelle hvite kakemenn fra Vestlandet med hornsalt og kulturmelk. Skal være lyse, ikke brune, med mild søthet. Den store mengden deig gir mange kaker. Perfekte til jul med melk eller kakao.","image":"magnhildskakemenn.jpg","ingredients":["250 g smør","500 g sukker","1,2–1,5 l kulturmelk","1 ½ ts hornsalt (hjortetakksalt)","Ca. 2 kg hvetemel (til passe deig)"],"instructions":["Smelt smøret og avkjøl litt.","Rør sammen smør og sukker.","Tilsett kulturmelk. Rør hornsalt ut i litt av melken og bland inn.","Elt inn mel gradvis til en smidig, fast deig.","La deigen hvile kaldt i minst 1 time. TIP: Da blir den lettere å kjevle.","Kjevle ut deigen tynt (3–4 mm) og stikk ut figurer.","Legg på bakepapirkledd stekeplate og stek ved 180 °C i 7–10 minutter. Kakene skal være hvite, ikke brune.","Avkjøl på rist og oppbevar i tett boks."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756245556348_kiq45cb9x","title":"Rød bringebærsaft","servings":"Ca. 2–3 liter ferdig saft","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":114,"category":"Saft","meal":"Drikke","cuisine":"Norsk","description":"Frisk bringebærsaft laget med 8 dagers kaldtrekking for optimal bærsmak. Det høye sukkerinnholdet (1:1) og vinsyren sikrer holdbarhet flere måneder kjølig på sterile flasker. Gir intens bringebærsmak når den fortynnes (1:3-4). Perfekt sommerdrink eller smakstilsetning i desserter.","image":"rodbringebaersaft.jpg","ingredients":["2 kg bringebær","1 liter vann","10 g vinsyre (evt. sitronsyre)","Sukker: 1 kg per liter ferdig saft"],"instructions":["Bland bringebær, vann og vinsyre i en ren beholder.","La stå kaldt i ca. 8 dager. Rør om flere ganger daglig.","Sil saften gjennom klede eller fin sil.","Mål opp saften. Tilsett 1 kg sukker per liter saft.","Rør til sukkeret er helt oppløst.","Hell på sterile flasker og oppbevar kjølig.","TIP: Blandes ut med 3–4 deler vann ved servering."],"createdAt":"2025-08-26"},
            {"id":"recipe_1756246163960_njdn2dape","title":"Griseslakt og stykningsdeler","servings":"1 gris","provider":"Farfar","reference":"Oppskriftsbok","pageNumber":115,"category":"Slakteveiledning","meal":"Bevaring","cuisine":"Norsk","description":"Detaljert veiledning for hjemmeslakt av gris med tradisjonelle metoder. Beskriver hele prosessen fra bedøving til oppdeling, inkludert bustfjerning, kalking og utvanning. Viser hvordan hele grisen utnyttes til ulike produkter. En viktig del av norsk matkulturarv og selvbergingskultur.","image":"griseslakt.jpg","ingredients":["1 gris","Salt","Krydder","Vann","Kalk","Sodavann"],"instructions":[{"group":"Forberedelse","steps":["Ta i hus det som trengs: salt, krydder og lignende.","Sett fram saltbaljer og utvaskingskar. Sørg for at de er rene."]},{"group":"Slakt","steps":["Slå grisen (bedøving), skjær i halsen for å tappe blod.","Kok med rikelig vann til busten skifter farge.","Hell det kokende vannet i karet. La grisen stå til avkjøling.","Skrap rundt hele kroppen og skyll med hett vann."]},{"group":"Kalking","steps":["Bland sammen kalk og vann.","Smør utover på huden med børste.","La stå et par timer.","Skrap godt av, skyll og tørk grisen."]},{"group":"Sodavann","steps":["Brukes på hud og lignende.","Fyll karet med kokende sodavann.","La det stå til avkjøling."]},{"group":"Utvanningstider","steps":["Syltemat: 2–3 dager","Innmat: 3–4 dager","Tarmer: 3–4 dager","Fett: 4–5 dager (bytt vann ukentlig om sommeren)"]},{"group":"Oppdeling av halv gris","steps":["Slaktet bør være kaldt før man deler opp.","Ta først ut isbeinet og nyra. Dette brukes til å smelte fett.","Skjær ut fileten som ligger langs ryggsøylen, mot skinken. Brukes til koteletter eller svinebiff.","Del grisen over i to, til siste ribbein."]},{"group":"Frampart","steps":["Skjær først ut nakkestykket.","Sag av ved halspartiet.","Fjern fra skulderbladet og utover, pass på å ikke skade bogbladet."]},{"group":"Bruk av stykningsdeler","steps":["Skinke brukes til skinkerull eller saltkjøtt.","Ribbein: til koteletter eller svinefilet.","Bog: mest til spekeskinke eller svinestek, eller til maling til medisterdeig.","Flesk: fra bog og side brukes til salt flesk."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756245784874_sgj5l214r","title":"Råsaft av blåbær, rips og solbær","servings":"Ca. 8–10 flasker à 0,75 l","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":115,"category":"Saft","meal":"Drikke","cuisine":"Norsk","description":"Moderne råsaft av blåbær, rips eller solbær som bevarer frisk bærsmak uten koking. Holder 2-4 uker kjølig, 6-12 måneder fryst, eller kan pasteuriseres (85°C) for romtemperaturlagring. Høyt sukkerinnhold sikrer konservering. Fortynnes 1:4 til forfriskende sommerdrikk.","image":"rasaft.jpg","ingredients":[{"group":"Blåbærvariant","items":["6 liter blåbær","4 dl vann","50 g sitronsyre (erstatter vinsyre)","700 g sukker per liter ferdig silt saft"]},{"group":"Ripsvariant","items":["1 kg rips","8 dl vann","16 g sitronsyre","1 kg sukker per 12 kaffekopper ferdig silt saft"]},{"group":"Solbærvariant","items":["1 kg solbær","1 liter vann","1 kg sukker per 12 kaffekopper ferdig silt saft"]}],"instructions":[{"group":"Forberedelse","steps":["Steriliser flasker og korker: Kok dem i 10 minutter eller varm i ovn ved 120°C i 20 minutter.","Skyll og rens bærene."]},{"group":"Trekk ut saft","steps":["Knus bærene lett og bland med vann og eventuelt sitronsyre (ikke til solbær).","Dekk til med lokk eller klede og la stå kjølig i 1–2 døgn.","Rør flere ganger daglig.","Sil saften gjennom et klede eller en saftsil."]},{"group":"Søtning og konservering","steps":["Mål opp mengden silt saft.","Tilsett sukker etter oppskriften (700 g per liter for blåbær, 1 kg per 12 kaffekopper for rips/solbær).","Rør til sukkeret er helt oppløst."]},{"group":"Oppbevaring","steps":["Hell saften på sterile flasker.","Alternativ 1 (råsaft, best smak): Sett flaskene i kjøleskap (holdbar 2–4 uker) eller frys i plastflasker (holdbar 6–12 måneder).","Alternativ 2 (pasteurisert, lengre holdbarhet): Varm saften til 85°C i 1–2 minutter, tapp varm på sterile flasker og sett på kork. Kan da oppbevares i romtemperatur."]},{"group":"Servering","steps":["Blandes ut 1:4 med kaldt vann eller mineralvann etter smak.","TIP: Smaker ekstra godt med isbiter og noen friske bær i glasset."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756245691736_kc7svfkjm","title":"Syltetøy av rabarbra, aprikos og blåbær","servings":"Ca. 10–12 glass","provider":"Farmor","reference":"Oppskriftsbok","pageNumber":115,"category":"Tilbehør","meal":"Frokost/Lunsj","cuisine":"Norsk","description":"Klassisk norsk syltetøy av rabarbra/aprikos eller blåbær med distinkte smaker. Det høye sukkerinnholdet (500g per liter) sikrer holdbarhet 1-2 år uåpnet i romtemperatur på steriliserte glass. Etter åpning holder 3-4 uker kjølig. Rabarbra-aprikos er syrlig-søt, blåbær mørkt og fyldig. Perfekt på brød, vafler eller kakefyll.","image":"rabarbraogblabaersyltetoy.jpg","ingredients":[{"group":"Rabarbra- og aprikossyltetøy","items":["3 bunter rabarbra (ca. 1,2 kg)","250 g tørkede aprikoser","500 g sukker per liter fruktmasse"]},{"group":"Blåbærsyltetøy","items":["1 liter blåbær (ca. 600 g)","500 g sukker"]}],"instructions":[{"group":"Rabarbra- og aprikossyltetøy","steps":["Skrell og kutt rabarbra i biter.","Hakk aprikosene grovt.","Kok rabarbra og aprikoser med litt vann i 10–15 minutter til mykt.","Tilsett sukker (ca. 500 g per liter fruktmasse).","Kok videre 5–10 minutter til syltetøyet har ønsket konsistens.","Hell over i steriliserte glass og sett på lokk."]},{"group":"Blåbærsyltetøy","steps":["Skyll blåbærene og ha dem i en kjele.","Kok bærene i 15 minutter.","Tilsett sukkeret, rør til det er oppløst (ca. 30 minutter).","Fyll syltetøyet på steriliserte glass."]}],"createdAt":"2025-08-26"},
            {"id":"recipe_1756246149940_tvpdywoqy","title":"Rensing av tarmer","servings":"Til 1 gris","provider":"Farfar","reference":"Oppskriftsbok","pageNumber":118,"category":"Slakteveiledning","meal":"Bevaring","cuisine":"Norsk","description":"Praktisk veiledning for rensing av tarmer etter slakt, fra uttrekking til konservering. Beskriver tradisjonelle metoder for å forberede tarmer til pølseskinn. Viktig kunnskap for selvberging og matkonservering. Del av norsk matkulturarv.","image":"rensingavtarmer.jpg","ingredients":["Friske tarmer","Salt","Vann","Litt soda (til fett)"],"instructions":["Trekk tarmene ut mens de er varme. Man begynner ved bukspyttkjertelen (løsen) i nederste enden av magesekken.","Heng opp på to steder med lite mellomrom, og skjær så over.","Rekk sammen fra strupen. Når de er varme går dette lett.","Det er en tarmkniv man bruker, ca. 18–20 cm.","Trekningen gjelder også for de andre, og likeledes magesekken.","Del opp tarmene i ca. 2 m lengder, og vreng dem.","Trekk dem mellom å drikke vann, slik at slimlaget går av. Skrap etter hvis nødvendig.","Legg i vann med salt i, dypkar.","Rens og vask innmat og syltemat. Vask godt av det som er blodig.","Ha salt i munnhule og nesegang, vask godt og legg i rikelig kaldt vann.","Rens fettet før videre bruk. Skjær det av, og legg i vann med litt soda i, i dypkar."],"createdAt":"2025-08-26"}
        ];
    }

    findById(recipeId) {
        return this.recipes.find(recipe => recipe.id === recipeId);
    }

    getAllIds() {
        return this.recipes.map(r => r.id);
    }

    getAll() {
        return [...this.recipes];
    }

    getFilters() {
        const categories = new Set();
        const meals = new Set();
        const cuisines = new Set();
        
        this.recipes.forEach(recipe => {
            if (recipe.category) categories.add(recipe.category);
            if (recipe.meal) meals.add(recipe.meal);
            if (recipe.cuisine) cuisines.add(recipe.cuisine);
        });
        
        return {
            categories: Array.from(categories).sort(),
            meals: Array.from(meals).sort(),
            cuisines: Array.from(cuisines).sort()
        };
    }
}

// ============================================================================
// USER DATA MANAGER CLASS
// ============================================================================

class UserDataManager {
    constructor() {
        this.userData = {};
        this.load();
    }

    load() {
        const storedUserData = localStorage.getItem('userData');
        if (storedUserData) {
            this.userData = JSON.parse(storedUserData);
        }
    }

    save() {
        localStorage.setItem('userData', JSON.stringify(this.userData));
    }

    initializeRecipe(recipeId) {
        if (!this.userData[recipeId]) {
            this.userData[recipeId] = {
                userRating: null,
                madeDates: [],
                lastViewed: null,
                viewCount: 0,
                favorite: false,
                tagged: false,
                taggedAt: null
            };
        }
    }

    getRecipeData(recipeId) {
        return this.userData[recipeId] || {
            userRating: null,
            madeDates: [],
            lastViewed: null,
            viewCount: 0,
            favorite: false,
            tagged: false,
            taggedAt: null
        };
    }

    setRating(recipeId, rating) {
        this.initializeRecipe(recipeId);
        this.userData[recipeId].userRating = rating;
        this.save();
    }

    clearRating(recipeId) {
        if (this.userData[recipeId]) {
            this.userData[recipeId].userRating = null;
            this.save();
        }
    }

    toggleTag(recipeId) {
        this.initializeRecipe(recipeId);
        const isTagged = !this.userData[recipeId].tagged;
        this.userData[recipeId].tagged = isTagged;
        this.userData[recipeId].taggedAt = isTagged ? new Date().toISOString() : null;
        this.save();
        return isTagged;
    }

    toggleMadeToday(recipeId) {
        this.initializeRecipe(recipeId);
        const today = new Date().toISOString().split('T')[0];
        const madeDates = this.userData[recipeId].madeDates || [];
        
        const todayIndex = madeDates.indexOf(today);
        if (todayIndex > -1) {
            madeDates.splice(todayIndex, 1);
        } else {
            madeDates.push(today);
        }
        
        this.userData[recipeId].madeDates = madeDates;
        this.save();
        
        return {
            madeToday: madeDates.includes(today),
            madeCount: madeDates.length
        };
    }

    trackView(recipeId) {
        this.initializeRecipe(recipeId);
        this.userData[recipeId].lastViewed = new Date().toISOString();
        this.userData[recipeId].viewCount = (this.userData[recipeId].viewCount || 0) + 1;
        this.save();
    }

    getRecipeWithUserData(recipe) {
        const userInfo = this.getRecipeData(recipe.id);
        return { ...recipe, ...userInfo };
    }
}

// ============================================================================
// URL MANAGER CLASS
// ============================================================================

class URLManager {
    constructor(filterManager, modalManager, recipeDatabase) {
        this.filterManager = filterManager;
        this.modalManager = modalManager;
        this.recipeDatabase = recipeDatabase;
        this.baseURL = 'https://kkollsga.github.io/kokebok/';
        this.isUpdatingFromURL = false;
    }

    // Initialize from URL parameters on page load
    initializeFromURL() {
        const params = new URLSearchParams(window.location.search);
        
        // Handle filters - params.get automatically decodes %3A back to :
        const filterParam = params.get('filter');
        if (filterParam) {
            // The filter string is already decoded by params.get()
            // So "category%3ADrikke" becomes "category:Drikke"
            const filters = filterParam.split(',');
            filters.forEach(filter => {
                if (filter.includes(':')) {
                    this.filterManager.activeFilters.set(filter, true);
                }
            });
            this.filterManager.renderFilterPills();
            this.filterManager.updateFilterButton();
        }
        
        // Handle recipe modal
        const recipeParam = params.get('recipe');
        if (recipeParam) {
            const recipe = this.recipeDatabase.getAll().find(r => 
                r.title.toLowerCase() === recipeParam.toLowerCase()
            );
            
            if (recipe) {
                setTimeout(() => {
                    this.modalManager.showRecipe(recipe.id);
                }, 100);
            }
        }
    }

    // Update browser URL without reloading
    updateURL() {
        if (this.isUpdatingFromURL) return;
        
        // Build URL manually to avoid double encoding issues
        const parts = [];
        
        // Add active filters
        if (this.filterManager.activeFilters.size > 0) {
            const activeFilters = Array.from(this.filterManager.activeFilters.keys())
                .filter(key => this.filterManager.activeFilters.get(key));
            if (activeFilters.length > 0) {
                // Don't encode the colons in filters
                parts.push('filter=' + activeFilters.join(','));
            }
        }
        
        // Add open recipe
        if (this.modalManager.currentRecipeId) {
            const recipe = this.recipeDatabase.findById(this.modalManager.currentRecipeId);
            if (recipe) {
                parts.push('recipe=' + encodeURIComponent(recipe.title));
            }
        }
        
        // Update browser URL
        const newURL = parts.length > 0 ? '?' + parts.join('&') : '';
        const fullURL = window.location.pathname + newURL;
        
        window.history.replaceState({
            filters: Array.from(this.filterManager.activeFilters),
            recipeId: this.modalManager.currentRecipeId
        }, '', fullURL);
    }

    // Get shareable URL for current state
    getShareableURL() {
        const parts = [];
        
        // Add active filters
        if (this.filterManager.activeFilters.size > 0) {
            const activeFilters = Array.from(this.filterManager.activeFilters.keys())
                .filter(key => this.filterManager.activeFilters.get(key));
            if (activeFilters.length > 0) {
                // Don't encode the colons in filters
                parts.push('filter=' + activeFilters.join(','));
            }
        }
        
        // Add open recipe
        if (this.modalManager.currentRecipeId) {
            const recipe = this.recipeDatabase.findById(this.modalManager.currentRecipeId);
            if (recipe) {
                parts.push('recipe=' + encodeURIComponent(recipe.title));
            }
        }
        
        return parts.length > 0 ? `${this.baseURL}?${parts.join('&')}` : this.baseURL;
    }

    // Get shareable URL for specific recipe
    getRecipeURL(recipeId) {
        const recipe = this.recipeDatabase.findById(recipeId);
        if (!recipe) return this.baseURL;
        
        return `${this.baseURL}?recipe=${encodeURIComponent(recipe.title)}`;
    }

    // Copy URL to clipboard with visual feedback
    async copyToClipboard(url, buttonElement) {
        try {
            await navigator.clipboard.writeText(url);
            
            // Visual feedback
            if (buttonElement) {
                const originalHTML = buttonElement.innerHTML;
                const originalClass = buttonElement.className;
                
                buttonElement.innerHTML = '<i class="fas fa-check"></i>';
                buttonElement.classList.add('text-green-600');
                
                setTimeout(() => {
                    buttonElement.innerHTML = originalHTML;
                    buttonElement.className = originalClass;
                }, 1500);
            }
            
            return true;
        } catch (err) {
            console.error('Failed to copy URL:', err);
            return false;
        }
    }

    // Setup browser history navigation
    setupHistoryListener() {
        window.addEventListener('popstate', (event) => {
            this.isUpdatingFromURL = true;
            
            if (event.state) {
                // Restore filters
                this.filterManager.activeFilters.clear();
                if (event.state.filters) {
                    event.state.filters.forEach(([key, value]) => {
                        this.filterManager.activeFilters.set(key, value);
                    });
                }
                this.filterManager.renderFilterPills();
                this.filterManager.updateFilterButton();
                this.filterManager.applyFilters();
                
                // Restore or close modal
                if (event.state.recipeId) {
                    this.modalManager.showRecipe(event.state.recipeId);
                } else if (this.modalManager.currentRecipeId) {
                    this.modalManager.closeRecipe();
                }
            } else {
                // No state - clear everything
                this.filterManager.clearAllFilters();
                if (this.modalManager.currentRecipeId) {
                    this.modalManager.closeRecipe();
                }
            }
            
            this.isUpdatingFromURL = false;
        });
    }
}

// ============================================================================
// FILTER MANAGER CLASS
// ============================================================================

class FilterManager {
    constructor(recipeDatabase, uiManager, recommendationEngine, userDataManager) {
        this.recipeDatabase = recipeDatabase;
        this.uiManager = uiManager;
        this.recommendationEngine = recommendationEngine;
        this.userDataManager = userDataManager;
        this.activeFilters = new Map();
        this.filterMenuOpen = false;
        this.searchQuery = '';
        this.collapsedSections = new Set(['category', 'meal', 'cuisine']);
        this.sortOrder = 'recommendation';
        this.urlManager = null; // Will be set by RecipeApp
    }

    setURLManager(urlManager) {
        this.urlManager = urlManager;
    }

    setupEventListeners() {
        // Search input
        document.getElementById('searchInput').addEventListener('input', (e) => {
            this.searchQuery = e.target.value.toLowerCase();
            this.applyFilters();
        });

        // Close filter menu on outside click
        document.addEventListener('click', (e) => {
            const menu = document.getElementById('filterMenu');
            const toggle = document.getElementById('filterToggle');
            
            if (this.filterMenuOpen && 
                !menu.contains(e.target) && 
                !toggle.contains(e.target)) {
                this.toggleFilterMenu();
            }
        });

        // Prevent body scroll when scrolling inside filter menu
        const filterMenu = document.getElementById('filterMenu');
        
        // Mouse wheel scrolling
        filterMenu.addEventListener('wheel', (e) => {
            const dropdown = filterMenu.querySelector('.absolute');
            if (dropdown && !dropdown.classList.contains('hidden')) {
                const filterOptions = document.getElementById('filterOptions');
                const isScrollable = filterOptions.scrollHeight > filterOptions.clientHeight;
                
                if (isScrollable) {
                    const isAtTop = filterOptions.scrollTop === 0;
                    const isAtBottom = Math.abs(filterOptions.scrollTop + filterOptions.clientHeight - filterOptions.scrollHeight) < 1;
                    
                    if ((e.deltaY < 0 && isAtTop) || (e.deltaY > 0 && isAtBottom)) {
                        e.preventDefault();
                    } else {
                        e.stopPropagation();
                    }
                } else {
                    e.preventDefault();
                }
            }
        }, { passive: false });

        // Touch scrolling for mobile
        let touchStartY = 0;
        
        filterMenu.addEventListener('touchstart', (e) => {
            const dropdown = filterMenu.querySelector('.absolute');
            if (dropdown && !dropdown.classList.contains('hidden')) {
                touchStartY = e.touches[0].clientY;
            }
        }, { passive: true });

        filterMenu.addEventListener('touchmove', (e) => {
            const dropdown = filterMenu.querySelector('.absolute');
            if (dropdown && !dropdown.classList.contains('hidden')) {
                const filterOptions = document.getElementById('filterOptions');
                const touchY = e.touches[0].clientY;
                const deltaY = touchStartY - touchY;
                
                const isAtTop = filterOptions.scrollTop === 0;
                const isAtBottom = Math.abs(filterOptions.scrollTop + filterOptions.clientHeight - filterOptions.scrollHeight) < 1;
                
                if ((deltaY < 0 && isAtTop) || (deltaY > 0 && isAtBottom)) {
                    e.preventDefault();
                }
            }
        }, { passive: false });
    }

    hasActiveSearchOrFilters() {
        return this.searchQuery.length > 0 || this.activeFilters.size > 0;
    }

    changeSortOrder(newOrder) {
        const previousOrder = this.sortOrder;
        this.sortOrder = newOrder;
        
        // Update visual state of sort buttons
        document.querySelectorAll('[data-sort]').forEach(btn => {
            if (btn.getAttribute('data-sort') === newOrder) {
                // Selected button - no hover effect
                btn.classList.remove('text-gray-700', 'hover:text-amber-600');
                btn.classList.add('bg-amber-500', 'text-white');
            } else {
                // Unselected buttons - with hover effect
                btn.classList.remove('bg-amber-500', 'text-white');
                btn.classList.add('text-gray-700', 'hover:text-amber-600');
            }
        });
        
        // If switching back to recommendation from another sort, recalculate scores
        if (newOrder === 'recommendation' && previousOrder !== 'recommendation') {
            this.recommendationEngine.calculateAllScores();
        }
        
        this.applyFilters();
    }

    activateFilter(filterType, filterValue, event) {
        if (event) {
            event.stopPropagation();
        }
        
        const filterKey = `${filterType}:${filterValue}`;
        
        // Close modal if it's open
        const modal = document.getElementById('recipeModal');
        if (!modal.classList.contains('hidden')) {
            recipeApp.modalManager.closeRecipe();  // Keep this as recipeApp since it needs the global reference
        }
        
        // Add filter if not already active
        if (!this.activeFilters.has(filterKey)) {
            this.activeFilters.set(filterKey, true);
            this.renderFilterPills();
            this.updateFilterButton();
            this.applyFilters();
            this.renderFilterOptions();
        }
    }

    toggleFilterSection(section, event) {
        if (event) {
            event.stopPropagation();
        }
        
        if (this.collapsedSections.has(section)) {
            this.collapsedSections.delete(section);
        } else {
            this.collapsedSections.add(section);
        }
        this.renderFilterOptions();
    }

    toggleFilterType(type) {
        if (this.activeFilters.has(type)) {
            this.activeFilters.delete(type);
        } else {
            this.activeFilters.set(type, true);
        }
        this.renderFilterPills();
        this.updateFilterButton();
        this.applyFilters();
        this.renderFilterOptions();
        
        // Update URL when filters change
        if (this.urlManager) {
            this.urlManager.updateURL();
        }
    }

    togglePillActive(type) {
        if (this.activeFilters.has(type)) {
            this.activeFilters.set(type, !this.activeFilters.get(type));
            this.renderFilterPills();
            this.applyFilters();
        }
    }

    removeFilter(type) {
        this.activeFilters.delete(type);
        this.renderFilterPills();
        this.updateFilterButton();
        this.applyFilters();
        this.renderFilterOptions();
        
        // Update URL when filters change
        if (this.urlManager) {
            this.urlManager.updateURL();
        }
    }

    clearAllFilters() {
        this.activeFilters.clear();
        this.renderFilterPills();
        this.updateFilterButton();
        this.applyFilters();
        this.renderFilterOptions();
        
        // Update URL when filters change
        if (this.urlManager) {
            this.urlManager.updateURL();
        }
    }

    toggleFilterMenu() {
        const menu = document.querySelector('#filterMenu > div');
        
        if (!this.filterMenuOpen) {
            this.renderFilterOptions();
            menu.classList.remove('hidden');
            this.filterMenuOpen = true;
        } else {
            menu.classList.add('hidden');
            this.filterMenuOpen = false;
        }
    }

    renderFilterOptions() {
        const container = document.getElementById('filterOptions');
        const filters = this.recipeDatabase.getFilters();
        
        container.innerHTML = '';
        
        // Category filters
        if (filters.categories.length > 0) {
            const isCollapsed = this.collapsedSections.has('category');
            const categorySection = document.createElement('div');
            categorySection.className = 'mb-2';
            
            // Collapsible header
            const categoryHeader = document.createElement('button');
            categoryHeader.className = 'w-full flex items-center justify-between text-xs font-semibold text-gray-500 uppercase tracking-wider px-2 py-2 hover:bg-gray-50 rounded transition-colors';
            categoryHeader.onclick = (e) => {
                e.stopPropagation();
                this.toggleFilterSection('category', e);
            };
            categoryHeader.innerHTML = `
                <span>Kategori</span>
                <i class="fas fa-chevron-${isCollapsed ? 'down' : 'up'} text-gray-400 text-xs transition-transform duration-200"></i>
            `;
            categorySection.appendChild(categoryHeader);
            
            // Collapsible content
            if (!isCollapsed) {
                const categoryContent = document.createElement('div');
                categoryContent.className = 'mt-1';
                
                filters.categories.forEach(category => {
                    const isSelected = this.activeFilters.has(`category:${category}`);
                    const option = document.createElement('label');
                    option.className = 'flex items-center justify-between p-2 hover:bg-amber-50 rounded-lg cursor-pointer transition-colors';
                    option.innerHTML = `
                        <span class="text-sm text-gray-700">${category}</span>
                        <input type="checkbox" 
                            ${isSelected ? 'checked' : ''} 
                            onchange="recipeApp.filterManager.toggleFilterType('category:${category}')"
                            onclick="event.stopPropagation()"
                            class="rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer checked:bg-amber-600 checked:border-amber-600">
                    `;
                    categoryContent.appendChild(option);
                });
                
                categorySection.appendChild(categoryContent);
            }
            
            container.appendChild(categorySection);
        }
        
        // Meal filters
        if (filters.meals.length > 0) {
            const isCollapsed = this.collapsedSections.has('meal');
            const mealSection = document.createElement('div');
            mealSection.className = 'mb-2';
            
            // Collapsible header
            const mealHeader = document.createElement('button');
            mealHeader.className = 'w-full flex items-center justify-between text-xs font-semibold text-gray-500 uppercase tracking-wider px-2 py-2 hover:bg-gray-50 rounded transition-colors';
            mealHeader.onclick = (e) => {
                e.stopPropagation();
                this.toggleFilterSection('meal', e);
            };
            mealHeader.innerHTML = `
                <span>Måltid</span>
                <i class="fas fa-chevron-${isCollapsed ? 'down' : 'up'} text-gray-400 text-xs transition-transform duration-200"></i>
            `;
            mealSection.appendChild(mealHeader);
            
            // Collapsible content
            if (!isCollapsed) {
                const mealContent = document.createElement('div');
                mealContent.className = 'mt-1';
                
                filters.meals.forEach(meal => {
                    const isSelected = this.activeFilters.has(`meal:${meal}`);
                    const option = document.createElement('label');
                    option.className = 'flex items-center justify-between p-2 hover:bg-amber-50 rounded-lg cursor-pointer transition-colors';
                    option.innerHTML = `
                        <span class="text-sm text-gray-700">${meal}</span>
                        <input type="checkbox" 
                            ${isSelected ? 'checked' : ''} 
                            onchange="recipeApp.filterManager.toggleFilterType('meal:${meal}')"
                            onclick="event.stopPropagation()"
                            class="rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer checked:bg-amber-600 checked:border-amber-600">
                    `;
                    mealContent.appendChild(option);
                });
                
                mealSection.appendChild(mealContent);
            }
            
            container.appendChild(mealSection);
        }
        
        // Cuisine filters
        if (filters.cuisines.length > 0) {
            const isCollapsed = this.collapsedSections.has('cuisine');
            const cuisineSection = document.createElement('div');
            cuisineSection.className = 'mb-2';
            
            // Collapsible header
            const cuisineHeader = document.createElement('button');
            cuisineHeader.className = 'w-full flex items-center justify-between text-xs font-semibold text-gray-500 uppercase tracking-wider px-2 py-2 hover:bg-gray-50 rounded transition-colors';
            cuisineHeader.onclick = (e) => {
                e.stopPropagation();
                this.toggleFilterSection('cuisine', e);
            };
            cuisineHeader.innerHTML = `
                <span>Kjøkken</span>
                <i class="fas fa-chevron-${isCollapsed ? 'down' : 'up'} text-gray-400 text-xs transition-transform duration-200"></i>
            `;
            cuisineSection.appendChild(cuisineHeader);
            
            // Collapsible content
            if (!isCollapsed) {
                const cuisineContent = document.createElement('div');
                cuisineContent.className = 'mt-1';
                
                filters.cuisines.forEach(cuisine => {
                    const isSelected = this.activeFilters.has(`cuisine:${cuisine}`);
                    const option = document.createElement('label');
                    option.className = 'flex items-center justify-between p-2 hover:bg-amber-50 rounded-lg cursor-pointer transition-colors';
                    option.innerHTML = `
                        <span class="text-sm text-gray-700">${cuisine}</span>
                        <input type="checkbox" 
                            ${isSelected ? 'checked' : ''} 
                            onchange="recipeApp.filterManager.toggleFilterType('cuisine:${cuisine}')"
                            onclick="event.stopPropagation()"
                            class="rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer checked:bg-amber-600 checked:border-amber-600">
                    `;
                    cuisineContent.appendChild(option);
                });
                
                cuisineSection.appendChild(cuisineContent);
            }
            
            container.appendChild(cuisineSection);
        }
    }

    renderFilterPills() {
        const container = document.getElementById('filterPillsContainer');
        const hasFilters = this.activeFilters.size > 0;
        
        container.innerHTML = '';
        
        // Hide pills if more than 3 filters
        if (this.activeFilters.size > 3) {
            container.style.maxWidth = '0';
            container.style.opacity = '0';
        } else {
            container.style.maxWidth = hasFilters ? '100%' : '0';
            container.style.opacity = hasFilters ? '1' : '0';
            
            let pillCount = 0;
            this.activeFilters.forEach((isActive, filterKey) => {
                if (pillCount >= 3) return;
                
                const [filterType, filterValue] = filterKey.split(':');
                const displayName = filterValue || filterKey;
                
                const pill = document.createElement('div');
                pill.className = `inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-sm transition-all shadow-sm max-w-[150px] ${
                    isActive 
                        ? 'bg-gradient-to-r from-amber-500 to-amber-600 text-white' 
                        : 'bg-gray-200 text-gray-500 opacity-60'
                }`;
                pill.innerHTML = `
                    <span class="cursor-pointer font-medium overflow-hidden text-ellipsis whitespace-nowrap max-w-[120px]" 
                            onclick="recipeApp.filterManager.togglePillActive('${filterKey}')">${displayName}</span>
                    <button onclick="recipeApp.filterManager.removeFilter('${filterKey}')" class="ml-1 hover:opacity-70 flex-shrink-0">
                        <i class="fas fa-times text-xs"></i>
                    </button>
                `;
                container.appendChild(pill);
                pillCount++;
            });
        }
        
        // Update button visibility
        const clearBtn = document.getElementById('clearFilters');
        
        if (hasFilters) {
            // Show clear button
            clearBtn.classList.remove('hidden');
        } else {
            // Hide clear button
            clearBtn.classList.add('hidden');
        }
    }

    updateFilterButton() {
        const btn = document.getElementById('filterToggle');
        const count = document.getElementById('filterCount');
        const hasFilters = this.activeFilters.size > 0;
        
        btn.className = 'flex items-center space-x-2 px-4 py-2 rounded-xl transition-all text-sm font-medium shrink-0 shadow-sm hover:shadow-md';
        
        if (hasFilters) {
            btn.classList.add('bg-gradient-to-r', 'from-amber-500', 'to-amber-600', 'text-white', 'hover:from-amber-600', 'hover:to-amber-700');
            count.textContent = this.activeFilters.size;
            count.classList.remove('hidden');
            count.classList.add('bg-white/30');
        } else {
            btn.classList.add('bg-white', 'text-gray-700', 'hover:text-amber-600', 'border', 'border-gray-200');
            count.classList.add('hidden');
        }
    }

    applyFilters() {
        let filtered = this.recipeDatabase.getAll();
        
        // Apply category/meal/cuisine filters
        const activeCategoryFilters = [];
        const activeMealFilters = [];
        const activeCuisineFilters = [];
        
        this.activeFilters.forEach((isActive, filterKey) => {
            if (!isActive) return;
            
            const [filterType, filterValue] = filterKey.split(':');
            if (filterType === 'category') {
                activeCategoryFilters.push(filterValue);
            } else if (filterType === 'meal') {
                activeMealFilters.push(filterValue);
            } else if (filterType === 'cuisine') {
                activeCuisineFilters.push(filterValue);
            }
        });
        
        // Filter by category
        if (activeCategoryFilters.length > 0) {
            filtered = filtered.filter(recipe => 
                activeCategoryFilters.includes(recipe.category)
            );
        }
        
        // Filter by meal type
        if (activeMealFilters.length > 0) {
            filtered = filtered.filter(recipe => 
                activeMealFilters.includes(recipe.meal)
            );
        }
        
        // Filter by cuisine type
        if (activeCuisineFilters.length > 0) {
            filtered = filtered.filter(recipe => 
                activeCuisineFilters.includes(recipe.cuisine)
            );
        }
        
        // Apply search filter
        if (this.searchQuery) {
            filtered = filtered.filter(recipe => {
                const titleMatch = recipe.title.toLowerCase().includes(this.searchQuery);
                
                let ingredientMatch = false;
                if (recipe.ingredients) {
                    recipe.ingredients.forEach(item => {
                        if (typeof item === 'string') {
                            if (item.toLowerCase().includes(this.searchQuery)) {
                                ingredientMatch = true;
                            }
                        } else if (item.items) {
                            item.items.forEach(ing => {
                                if (ing.toLowerCase().includes(this.searchQuery)) {
                                    ingredientMatch = true;
                                }
                            });
                        }
                    });
                }
                
                return titleMatch || ingredientMatch;
            });
        }
        
        // Separate tagged and untagged recipes
        const taggedRecipes = [];
        const untaggedRecipes = [];
        
        filtered.forEach(recipe => {
            const userData = this.userDataManager.getRecipeData(recipe.id);
            if (userData.tagged) {
                taggedRecipes.push({
                    recipe,
                    taggedAt: userData.taggedAt
                });
            } else {
                untaggedRecipes.push(recipe);
            }
        });
        
        // Sort tagged recipes by taggedAt (newest first)
        taggedRecipes.sort((a, b) => {
            const dateA = new Date(a.taggedAt || 0);
            const dateB = new Date(b.taggedAt || 0);
            return dateB - dateA;
        });
        
        // Pre-calculate all data needed for sorting to avoid repeated calls
        const recipeDataCache = new Map();
        
        const getRecipeData = (recipe) => {
            if (recipeDataCache.has(recipe.id)) {
                return recipeDataCache.get(recipe.id);
            }
            
            const data = {
                recipe: recipe,
                score: this.recommendationEngine.getRecipeScore(recipe.id),
                rating: this.userDataManager.getRecipeData(recipe.id).userRating || 0,
                madeCount: this.userDataManager.getRecipeData(recipe.id).madeDates?.length || 0,
                pageNumber: recipe.pageNumber || Number.MAX_SAFE_INTEGER,
                title: recipe.title
            };
            
            recipeDataCache.set(recipe.id, data);
            return data;
        };
        
        // Helper comparison functions
        const compareByPageNumber = (dataA, dataB) => {
            if (dataA.pageNumber !== dataB.pageNumber) {
                return dataA.pageNumber - dataB.pageNumber;
            }
            return dataA.recipe.id.localeCompare(dataB.recipe.id);
        };
        
        const compareByRecommendation = (dataA, dataB) => {
            if (dataA.score !== dataB.score) {
                return dataB.score - dataA.score;
            }
            return compareByPageNumber(dataA, dataB);
        };
        
        // Apply sorting to untagged recipes based on current sort order
        const enrichedRecipes = untaggedRecipes.map(recipe => getRecipeData(recipe));
        
        switch(this.sortOrder) {
            case 'recommendation':
                enrichedRecipes.sort(compareByRecommendation);
                break;
            
            case 'alphabetical':
                enrichedRecipes.sort((a, b) => {
                    return a.title.localeCompare(b.title, 'no-NO');
                });
                break;
            
            case 'recipebook':
                enrichedRecipes.sort(compareByPageNumber);
                break;
            
            case 'madecount':
                enrichedRecipes.sort((a, b) => {
                    if (a.madeCount !== b.madeCount) {
                        return b.madeCount - a.madeCount;
                    }
                    return compareByRecommendation(a, b);
                });
                break;
            
            case 'rating':
                enrichedRecipes.sort((a, b) => {
                    if (a.rating !== b.rating) {
                        return b.rating - a.rating;
                    }
                    return compareByRecommendation(a, b);
                });
                break;
        }
        
        // Extract sorted recipes from enriched data
        const sortedUntaggedRecipes = enrichedRecipes.map(data => data.recipe);
        
        // Combine tagged (at top) with untagged
        const finalFiltered = [
            ...taggedRecipes.map(item => item.recipe),
            ...sortedUntaggedRecipes
        ];
        
        const filteredIds = finalFiltered.map(recipe => recipe.id);
        this.uiManager.renderRecipes(filteredIds, false);
    }
}

// ============================================================================
// IMAGE LOADER CLASS
// ============================================================================

class ImageLoader {
    constructor() {
        this.loadingRows = new Set();
        this.loadedImages = new Set();
        this.bufferRows = 20; // Extra rows to load beyond viewport
        this.scrollTimer = null;
        this.resizeTimer = null;
    }
    
    getColumnCount() {
        // Detect from the actual CSS grid
        const grid = document.getElementById('recipeGrid');
        if (!grid || !grid.firstElementChild) return 1;
        
        const gridWidth = grid.offsetWidth;
        const cardWidth = grid.firstElementChild.offsetWidth;
        const gap = 24; // 1.5rem gap from Tailwind gap-6
        
        // Calculate columns accounting for gaps
        const columns = Math.round((gridWidth + gap) / (cardWidth + gap));
        return Math.max(1, columns);
    }
    
    getVisibleRowRange() {
        const grid = document.getElementById('recipeGrid');
        const cards = Array.from(grid.children).filter(card => 
            card.style.display !== 'none'
        );
        
        if (cards.length === 0) return { start: 0, end: 0, totalRows: 0 };
        
        const columnCount = this.getColumnCount();
        const viewportTop = window.scrollY;
        const viewportBottom = viewportTop + window.innerHeight;
        
        let firstVisibleRow = null;
        let lastVisibleRow = null;
        
        // Calculate which rows are visible
        cards.forEach((card, index) => {
            const rect = card.getBoundingClientRect();
            const absoluteTop = rect.top + window.scrollY;
            const absoluteBottom = absoluteTop + rect.height;
            const row = Math.floor(index / columnCount);
            
            // Check if card is in or near viewport
            if (absoluteBottom > viewportTop && absoluteTop < viewportBottom) {
                if (firstVisibleRow === null) firstVisibleRow = row;
                lastVisibleRow = row;
            }
        });
        
        const totalRows = Math.ceil(cards.length / columnCount);
        
        return {
            start: Math.max(0, (firstVisibleRow ?? 0) - this.bufferRows),
            end: Math.min(totalRows - 1, (lastVisibleRow ?? 0) + this.bufferRows),
            totalRows: totalRows
        };
    }
    
    async loadRow(rowIndex) {
        if (this.loadingRows.has(rowIndex)) return;
        
        this.loadingRows.add(rowIndex);
        
        const grid = document.getElementById('recipeGrid');
        const cards = Array.from(grid.children).filter(card => 
            card.style.display !== 'none'
        );
        
        const columnCount = this.getColumnCount();
        const startIdx = rowIndex * columnCount;
        const endIdx = Math.min(startIdx + columnCount, cards.length);
        
        const loadPromises = [];
        
        for (let i = startIdx; i < endIdx; i++) {
            const card = cards[i];
            const img = card.querySelector('img[data-src]');
            
            if (img && !this.loadedImages.has(img)) {
                loadPromises.push(this.loadImage(img));
            }
        }
        
        // Load all images in the row simultaneously
        await Promise.all(loadPromises);
    }
    
    loadImage(img) {
        return new Promise((resolve) => {
            const src = img.getAttribute('data-src');
            if (!src || this.loadedImages.has(img)) {
                resolve();
                return;
            }
            
            this.loadedImages.add(img);
            const tempImg = new Image();
            
            tempImg.onload = () => {
                img.src = src;
                img.classList.add('opacity-100');
                img.removeAttribute('data-src');
                resolve();
            };
            
            tempImg.onerror = () => {
                // Still mark as loaded to prevent retries
                img.removeAttribute('data-src');
                resolve();
            };
            
            tempImg.src = src;
        });
    }
    
    async loadVisibleRows() {
        const { start, end } = this.getVisibleRowRange();
        
        // Load rows sequentially from top to bottom
        for (let row = start; row <= end; row++) {
            await this.loadRow(row);
        }
    }
    
    setupScrollHandler() {
        const handleScroll = () => {
            clearTimeout(this.scrollTimer);
            this.scrollTimer = setTimeout(() => {
                this.loadVisibleRows();
            }, 100);
        };
        
        window.addEventListener('scroll', handleScroll, { passive: true });
        
        // Handle resize events (column count might change)
        window.addEventListener('resize', () => {
            clearTimeout(this.resizeTimer);
            this.resizeTimer = setTimeout(() => {
                // Clear loading state on resize as grid might have changed
                this.loadingRows.clear();
                this.loadVisibleRows();
            }, 250);
        });
    }
    
    reset() {
        // Clear all tracking when filters change
        this.loadedImages.clear();
        this.loadingRows.clear();
    }
}

// ============================================================================
// UI MANAGER CLASS
// ============================================================================

class UIManager {
    constructor(recipeDatabase, userDataManager) {
        this.recipeDatabase = recipeDatabase;
        this.userDataManager = userDataManager;
        this.modalCallback = null; // Will be set later
        this.imageLoader = null; // Initialize as null
    }

    setModalCallback(callback) {
        this.modalCallback = callback;
    }

    formatSource(recipe) {
        let parts = [];
        if (recipe.provider) {
            parts.push(recipe.provider);
        }
        if (recipe.reference) {
            parts.push(recipe.reference);
        }
        if (recipe.pageNumber) {
            parts.push(`s. ${recipe.pageNumber}`);
        }
        return parts.join(' • ');
    }

    renderStars(rating) {
        let stars = '';
        for (let i = 1; i <= 5; i++) {
            if (i <= rating) {
                stars += '<i class="fas fa-star text-amber-400 transition-all duration-200 hover:scale-125"></i>';
            } else {
                stars += '<i class="far fa-star text-gray-300 transition-all duration-200 hover:scale-125"></i>';
            }
        }
        return stars;
    }

    updateRecipeCardTag(recipeId, isTagged) {
        const cards = document.querySelectorAll(`[data-recipe-id="${recipeId}"]`);
        cards.forEach(card => {
            if (isTagged) {
                // Add amber shadow with same size as default
                card.classList.remove(CONFIG.STYLES.DEFAULT_SHADOW, CONFIG.STYLES.DEFAULT_HOVER_SHADOW);
                card.classList.add(...CONFIG.STYLES.TAGGED_SHADOW.split(' '), ...CONFIG.STYLES.TAGGED_HOVER_SHADOW.split(' '));
                
                // Add tag indicator if not present
                const imageContainer = card.querySelector('.h-48');
                if (imageContainer && !imageContainer.querySelector('.fa-tag')) {
                    const tagBadge = document.createElement('span');
                    tagBadge.className = 'absolute top-2 left-2 bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded-full';
                    tagBadge.innerHTML = '<i class="fas fa-tag"></i>';
                    imageContainer.appendChild(tagBadge);
                }
            } else {
                // Remove amber shadow
                card.classList.remove(...CONFIG.STYLES.TAGGED_SHADOW.split(' '), ...CONFIG.STYLES.TAGGED_HOVER_SHADOW.split(' '));
                card.classList.add(CONFIG.STYLES.DEFAULT_SHADOW, CONFIG.STYLES.DEFAULT_HOVER_SHADOW);
                
                // Remove tag indicator
                const tagBadge = card.querySelector('.fa-tag')?.parentElement;
                if (tagBadge && tagBadge.classList.contains('absolute')) {
                    tagBadge.remove();
                }
            }
        });
    }

    createRecipeCard(recipe) {
        const card = document.createElement('div');
        const isTagged = recipe.tagged || false;
        
        // Darker, more subtle glowing shadow effect (using darker amber/brown tones)
        const shadowClass = isTagged 
            ? `${CONFIG.STYLES.TAGGED_SHADOW} ${CONFIG.STYLES.TAGGED_HOVER_SHADOW}` 
            : `${CONFIG.STYLES.DEFAULT_SHADOW} ${CONFIG.STYLES.DEFAULT_HOVER_SHADOW}`;

        card.className = `bg-white rounded-xl ${shadowClass} overflow-hidden cursor-pointer transition-all duration-300 hover:-translate-y-1`;
        card.setAttribute('data-recipe-id', recipe.id);
        
        // Use data attribute instead of direct onclick
        card.setAttribute('data-recipe-click', recipe.id);
        
        const imageUrl = recipe.image ? CONFIG.IMAGE_PATHS.LIST + recipe.image : null;
        const sourceInfo = this.formatSource(recipe);
        
        card.innerHTML = `
            <div class="h-48 bg-gradient-to-br from-amber-100 to-orange-100 relative overflow-hidden">
                ${recipe.image ? 
                    `<img data-src="${imageUrl}"
                        loading="lazy"
                        alt="${recipe.title}" 
                        class="w-full h-full object-cover opacity-0 transition-opacity duration-300">` : 
                    `<div class="w-full h-full flex items-center justify-center">
                        <span class="text-6xl opacity-30">🍞</span>
                    </div>`}
                ${isTagged ? `<span class="absolute top-2 left-2 bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded-full">
                    <i class="fas fa-tag"></i>
                </span>` : ''}
                ${recipe.category ? `<span onclick="recipeApp.filterManager.activateFilter('category', '${recipe.category}', event)" 
                    class="absolute top-2 right-2 bg-white/90 backdrop-blur text-xs font-medium px-2 py-1 rounded-full text-amber-700 transition-all duration-200 cursor-pointer hover:scale-105 hover:shadow-lg">
                    ${recipe.category}
                </span>` : ''}
            </div>
            <div class="p-5">
                <h3 class="font-display text-xl text-gray-800 ${sourceInfo ? 'mb-0' : 'mb-2'}">${recipe.title}</h3>
                ${sourceInfo ? `<p class="text-xs text-amber-600 mb-2">${sourceInfo}</p>` : ''}
                ${recipe.description ? `<p class="text-gray-500 text-xs mb-3 overflow-hidden line-clamp-2">${recipe.description}</p>` : ''}
                <div class="flex items-center justify-between gap-2">
                    <div class="recipe-stars flex items-center space-x-1 flex-shrink-0">
                        ${this.renderStars(recipe.userRating || 0)}
                    </div>
                    <div class="flex items-center gap-2 flex-wrap justify-end">
                        ${recipe.cuisine ? 
                            `<span onclick="recipeApp.filterManager.activateFilter('cuisine', '${recipe.cuisine}', event)" 
                                class="inline-block px-2 py-0.5 bg-gray-100 rounded-full text-xs cursor-pointer hover:bg-amber-100 transition-all duration-200 hover:scale-105">
                                ${recipe.cuisine}
                            </span>` : ''}
                        ${recipe.meal ? 
                            `<span onclick="recipeApp.filterManager.activateFilter('meal', '${recipe.meal}', event)" 
                                class="inline-block px-2 py-0.5 bg-gray-100 rounded-full text-xs cursor-pointer hover:bg-amber-100 transition-all duration-200 hover:scale-105">
                                ${recipe.meal}
                            </span>` : ''}
                        <div class="flex items-center ml-2 text-sm text-gray-600">
                            <i class="fas fa-utensils mr-1"></i>
                            <span class="recipe-counter">${recipe.madeDates ? recipe.madeDates.length : 0}</span>
                        </div>
                    </div>
                </div>
            </div>
        `;
        
        return card;
    }

    renderRecipes(recipesToRender = null, forceFullRender = false) {
        const grid = document.getElementById('recipeGrid');
        const recipeIds = recipesToRender || this.recipeDatabase.getAllIds();
        
        // If force full render or grid is empty
        if (forceFullRender || grid.children.length === 0) {
            grid.innerHTML = '';
            recipeIds.forEach(recipeId => {
                const recipe = this.recipeDatabase.findById(recipeId);
                if (recipe) {
                    const recipeWithUserData = this.userDataManager.getRecipeWithUserData(recipe);
                    const card = this.createRecipeCard(recipeWithUserData);
                    grid.appendChild(card);
                }
            });
            this.setupLazyLoading();
            this.setupCardClickHandlers();
            return;
        }
        
        // Smart update: hide/show/reorder existing cards
        const existingCards = new Map();
        Array.from(grid.children).forEach(card => {
            const id = card.getAttribute('data-recipe-id');
            existingCards.set(id, card);
        });
        
        // Hide cards not in the filter
        existingCards.forEach((card, id) => {
            if (!recipeIds.includes(id)) {
                card.style.display = 'none';
            } else {
                card.style.display = '';
            }
        });
        
        // Reorder cards if needed
        const fragment = document.createDocumentFragment();
        recipeIds.forEach(recipeId => {
            if (existingCards.has(recipeId)) {
                const card = existingCards.get(recipeId);
                card.style.display = '';
                fragment.appendChild(card);
            } else {
                // Create new card if it doesn't exist
                const recipe = this.recipeDatabase.findById(recipeId);
                if (recipe) {
                    const recipeWithUserData = this.userDataManager.getRecipeWithUserData(recipe);
                    const card = this.createRecipeCard(recipeWithUserData);
                    fragment.appendChild(card);
                }
            }
        });
        
        grid.innerHTML = '';
        grid.appendChild(fragment);
        
        // Reset image loader and load visible rows
        requestAnimationFrame(() => {
            if (this.imageLoader) {
                this.imageLoader.reset();
                this.imageLoader.loadVisibleRows();
            }
        });
        
        this.setupCardClickHandlers();
    }

    setupCardClickHandlers() {
        // Setup click handlers for all recipe cards
        document.querySelectorAll('[data-recipe-click]').forEach(card => {
            card.onclick = (e) => {
                // Don't trigger if clicking on category filter
                if (e.target.closest('[onclick*="activateFilter"]')) {
                    return;
                }
                const recipeId = card.getAttribute('data-recipe-click');
                if (this.modalCallback) {
                    this.modalCallback(recipeId);
                }
            };
        });
    }

    setupLazyLoading() {
        // Create image loader if it doesn't exist
        if (!this.imageLoader) {
            this.imageLoader = new ImageLoader();
            this.imageLoader.setupScrollHandler();
        }
        
        // Load visible rows immediately
        this.imageLoader.loadVisibleRows();
    }

    updateRecipeCardRating(recipeId, rating) {
        const cards = document.querySelectorAll(`[data-recipe-id="${recipeId}"]`);
        cards.forEach(card => {
            const stars = card.querySelectorAll('.recipe-stars i');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.remove('far', 'text-gray-300');
                    star.classList.add('fas', 'text-amber-400');
                } else {
                    star.classList.remove('fas', 'text-amber-400');
                    star.classList.add('far', 'text-gray-300');
                }
            });
        });
    }

    updateRecipeCardCounter(recipeId, count) {
        const cards = document.querySelectorAll(`[data-recipe-id="${recipeId}"]`);
        cards.forEach(card => {
            const counterElement = card.querySelector('.recipe-counter');
            if (counterElement && counterElement.textContent !== count.toString()) {
                counterElement.textContent = count;
                // Add a subtle animation
                counterElement.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    counterElement.style.transform = 'scale(1)';
                }, 200);
            }
        });
    }
}

// ============================================================================
// KOKEBOK VIEWER CLASS - UPDATED
// ============================================================================

class KokebokViewer {
    constructor() {
        this.currentPage = 1;
        this.totalPages = 121;
        this.zoomLevel = 1;
        this.minZoom = 1;
        this.maxZoom = 5;
        this.panX = 0;
        this.panY = 0;
        this.isPanning = false;
        this.startX = 0;
        this.startY = 0;
        this.touchStartDistance = 0;
        this.initialZoom = 1;
        this.initialPanX = 0;
        this.initialPanY = 0;
        this.modalElement = null;
        this.imageElement = null;
        this.containerElement = null;
        this.isOpen = false;
        this.eventListenersAttached = false;
        this.loadedImageUrls = new Set(); // Track loaded kokebok images
        this.currentLoadingImage = null;  // Track the current loading image
        this.loadRequestId = 0;  // Unique ID for each load request
        this.createModal();
        
        // Store bound event handlers for proper removal
        this.boundHandlers = {
            wheel: null,
            mousedown: null,
            mousemove: null,
            mouseup: null,
            touchstart: null,
            touchmove: null,
            touchend: null,
            keydown: null,
            orientationchange: null,
            resize: null
        };
    }

    createModal() {
        const modal = document.createElement('div');
        modal.id = 'kokebokViewer';
        modal.className = 'absolute inset-0 top-20 bg-white hidden z-[60] flex flex-col rounded-t-2xl overflow-hidden shadow-2xl border border-amber-200';
        
        modal.innerHTML = `
            <button onclick="recipeApp.kokebokViewer.close()" 
                    class="absolute top-3 right-3 z-10 text-amber-700 hover:text-amber-500 transition-all duration-200 p-2"
                    style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <div id="kokebokContainer" class="flex-1 overflow-hidden relative bg-gradient-to-br from-amber-50/30 to-orange-50/30">
                <div id="kokebokImageWrapper" class="w-full h-full flex items-center justify-center">
                    <img id="kokebokImage" 
                        class="max-w-none cursor-move select-none shadow-lg"
                        draggable="false"
                        style="transform-origin: center center;">
                </div>
                <!-- Loading spinner overlay -->
                <div id="kokebokLoadingSpinner" class="absolute inset-0 flex items-center justify-center bg-white/70 hidden z-20">
                    <div class="flex flex-col items-center">
                        <i class="fas fa-spinner fa-spin text-4xl text-amber-600 mb-2"></i>
                        <span class="text-amber-700 text-sm font-medium">Laster side...</span>
                    </div>
                </div>
            </div>
            
            <div class="bg-white border-t border-amber-200 px-4 py-2">
                <div class="flex items-center justify-center gap-2">
                    <button onclick="recipeApp.kokebokViewer.previousPage()" 
                            class="px-3 py-1.5 bg-white hover:bg-amber-50 text-amber-700 rounded-lg border border-amber-300 disabled:opacity-50 disabled:cursor-not-allowed"
                            id="prevPageBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="px-4 py-1.5 bg-amber-100 text-amber-800 rounded-lg min-w-[100px] text-center font-medium text-sm border border-amber-300">
                        <span id="pageIndicator">Side 1</span>
                    </div>
                    <button onclick="recipeApp.kokebokViewer.nextPage()" 
                            class="px-3 py-1.5 bg-white hover:bg-amber-50 text-amber-700 rounded-lg border border-amber-300 disabled:opacity-50 disabled:cursor-not-allowed"
                            id="nextPageBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        `;
        
        this.modalElement = modal;
    }

    updateModalPosition() {
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;
        const isLandscape = windowWidth > windowHeight;
        const isFullscreen = windowWidth <= 1000;
        
        if (isLandscape && windowWidth <= 900) {
            this.modalElement.className = 'absolute inset-0 bg-white hidden z-[60] flex flex-col overflow-hidden shadow-2xl border border-amber-200';
        } else if (isFullscreen) {
            this.modalElement.className = 'absolute inset-0 top-20 bg-white hidden z-[60] flex flex-col rounded-t-2xl overflow-hidden shadow-2xl border border-amber-200';
        } else {
            this.modalElement.className = 'absolute inset-0 top-20 bg-white hidden z-[60] flex flex-col rounded-2xl overflow-hidden shadow-2xl border border-amber-200';
        }
    }

    setupEventListeners() {
        if (this.eventListenersAttached) return;
        this.eventListenersAttached = true;

        // Create bound handlers that we can properly remove later
        this.boundHandlers.wheel = (e) => {
            e.preventDefault();
            e.stopPropagation();
            const delta = e.deltaY > 0 ? 0.9 : 1.1;
            this.zoom(delta, e.clientX, e.clientY);
        };

        this.boundHandlers.mousedown = (e) => {
            e.preventDefault();
            e.stopPropagation();
            this.startPanning(e.clientX, e.clientY);
        };

        this.boundHandlers.mousemove = (e) => {
            if (this.isPanning && this.imageElement) {
                this.pan(e.clientX, e.clientY);
            }
        };

        this.boundHandlers.mouseup = () => {
            if (this.isPanning) {
                this.stopPanning();
            }
        };

        this.boundHandlers.touchstart = (e) => {
            e.stopPropagation();
            if (e.touches.length === 1) {
                const touch = e.touches[0];
                this.startPanning(touch.clientX, touch.clientY);
            } else if (e.touches.length === 2) {
                e.preventDefault();
                this.isPanning = false;
                
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                
                this.touchStartDistance = Math.hypot(
                    touch2.clientX - touch1.clientX,
                    touch2.clientY - touch1.clientY
                );
                
                this.initialZoom = this.zoomLevel;
                this.initialPanX = this.panX;
                this.initialPanY = this.panY;
                
                const rect = this.containerElement.getBoundingClientRect();
                this.pinchCenterX = ((touch1.clientX + touch2.clientX) / 2) - rect.left;
                this.pinchCenterY = ((touch1.clientY + touch2.clientY) / 2) - rect.top;
            }
        };

        this.boundHandlers.touchmove = (e) => {
            if (e.touches.length === 1 && this.isPanning) {
                const touch = e.touches[0];
                this.pan(touch.clientX, touch.clientY);
            } else if (e.touches.length === 2) {
                e.preventDefault();
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                
                const currentDistance = Math.hypot(
                    touch2.clientX - touch1.clientX,
                    touch2.clientY - touch1.clientY
                );
                
                if (this.touchStartDistance > 0) {
                    const scale = currentDistance / this.touchStartDistance;
                    const newZoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.initialZoom * scale));
                    
                    const zoomDelta = newZoom / this.zoomLevel;
                    
                    this.panX = this.pinchCenterX - (this.pinchCenterX - this.panX) * zoomDelta;
                    this.panY = this.pinchCenterY - (this.pinchCenterY - this.panY) * zoomDelta;
                    
                    this.zoomLevel = newZoom;
                    this.updateTransform();
                }
            }
        };

        this.boundHandlers.touchend = (e) => {
            if (e.touches.length === 0) {
                this.stopPanning();
                this.touchStartDistance = 0;
            } else if (e.touches.length === 1) {
                const touch = e.touches[0];
                this.startPanning(touch.clientX, touch.clientY);
            }
        };

        this.boundHandlers.keydown = (e) => {
            if (this.modalElement && !this.modalElement.classList.contains('hidden')) {
                switch(e.key) {
                    case 'Escape':
                        e.stopPropagation();
                        this.close();
                        break;
                    case 'ArrowLeft':
                        this.previousPage();
                        break;
                    case 'ArrowRight':
                        this.nextPage();
                        break;
                }
            }
        };

        this.boundHandlers.orientationchange = () => {
            if (this.isOpen) {
                setTimeout(() => {
                    this.updateModalPosition();
                    this.fitToPage();
                }, 100);
            }
        };

        this.boundHandlers.resize = () => {
            if (this.isOpen) {
                this.updateModalPosition();
                if (Math.abs(this.zoomLevel - this.minZoom) < 0.01) {
                    this.fitToPage();
                }
            }
        };

        // Add event listeners
        this.containerElement?.addEventListener('wheel', this.boundHandlers.wheel, { passive: false });
        this.imageElement?.addEventListener('mousedown', this.boundHandlers.mousedown);
        this.imageElement?.addEventListener('touchstart', this.boundHandlers.touchstart, { passive: false });
        this.imageElement?.addEventListener('touchmove', this.boundHandlers.touchmove, { passive: false });
        this.imageElement?.addEventListener('touchend', this.boundHandlers.touchend);
        
        document.addEventListener('mousemove', this.boundHandlers.mousemove);
        document.addEventListener('mouseup', this.boundHandlers.mouseup);
        document.addEventListener('keydown', this.boundHandlers.keydown);
        window.addEventListener('orientationchange', this.boundHandlers.orientationchange);
        window.addEventListener('resize', this.boundHandlers.resize);

        // Stop click propagation
        this.modalElement?.addEventListener('click', (e) => {
            e.stopPropagation();
        });
    }

    cleanupEventListeners() {
        if (!this.eventListenersAttached) return;
        
        // Remove element-specific listeners
        this.containerElement?.removeEventListener('wheel', this.boundHandlers.wheel);
        this.imageElement?.removeEventListener('mousedown', this.boundHandlers.mousedown);
        this.imageElement?.removeEventListener('touchstart', this.boundHandlers.touchstart);
        this.imageElement?.removeEventListener('touchmove', this.boundHandlers.touchmove);
        this.imageElement?.removeEventListener('touchend', this.boundHandlers.touchend);
        
        // Remove document/window listeners
        document.removeEventListener('mousemove', this.boundHandlers.mousemove);
        document.removeEventListener('mouseup', this.boundHandlers.mouseup);
        document.removeEventListener('keydown', this.boundHandlers.keydown);
        window.removeEventListener('orientationchange', this.boundHandlers.orientationchange);
        window.removeEventListener('resize', this.boundHandlers.resize);
        
        this.eventListenersAttached = false;
    }

    clearImageCache() {
        // Force browser to release memory for kokebok images
        if (this.imageElement) {
            // Clear event handlers first to prevent error on empty src
            this.imageElement.onload = null;
            this.imageElement.onerror = null;
            // Use transparent 1x1 data URL instead of empty string
            this.imageElement.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';
        }
        
        // Clear each cached image URL from browser cache
        this.loadedImageUrls.forEach(url => {
            // Create a temporary image to force cache clear
            const img = new Image();
            img.src = url;
            img.src = ''; // Clear the src to help garbage collection
        });
        
        // Clear our tracking set
        this.loadedImageUrls.clear();
        
        // Force garbage collection hint (browser may or may not respect this)
        if (window.gc) {
            window.gc();
        }
    }

    open(pageNumber) {
        const recipeModal = document.getElementById('recipeModal');
        const modalContent = recipeModal?.querySelector('#modalContent') || recipeModal?.querySelector('.flex.flex-col');
        
        if (modalContent && !modalContent.contains(this.modalElement)) {
            modalContent.appendChild(this.modalElement);
            // Get references after DOM insertion
            this.imageElement = document.getElementById('kokebokImage');
            this.containerElement = document.getElementById('kokebokContainer');
            // Setup event listeners after elements exist
            this.setupEventListeners();
        }
        
        // Ensure spinner is hidden initially
        const spinner = document.getElementById('kokebokLoadingSpinner');
        if (spinner) {
            spinner.classList.add('hidden');
        }
        
        this.currentPage = pageNumber || 1;
        this.isOpen = true;
        this.updateModalPosition();
        this.loadPage(this.currentPage);
        this.modalElement.classList.remove('hidden');
    }

    close() {
        // Cancel any pending image load
        if (this.currentLoadingImage) {
            this.currentLoadingImage.onload = null;
            this.currentLoadingImage.onerror = null;
            this.currentLoadingImage.src = '';
            this.currentLoadingImage = null;
        }
        
        // Hide modal
        this.modalElement.classList.add('hidden');
        this.isOpen = false;
        this.isPanning = false;
        
        // Clean up event listeners to prevent memory leaks
        this.cleanupEventListeners();
        
        // Clear high-resolution image cache
        this.clearImageCache();
        
        // Reset zoom and pan for next opening
        this.zoomLevel = 1;
        this.panX = 0;
        this.panY = 0;
    }

    loadPage(pageNumber) {
        const paddedNumber = String(pageNumber).padStart(3, '0');
        const imageUrl = `images/kokebok/kokebok-page-${paddedNumber}.jpg`;
        
        // Increment request ID for this load
        this.loadRequestId++;
        const thisRequestId = this.loadRequestId;
        
        // Cancel previous load if it exists
        if (this.currentLoadingImage) {
            this.currentLoadingImage.onload = null;
            this.currentLoadingImage.onerror = null;
            this.currentLoadingImage.src = '';  // Cancel the load
            this.currentLoadingImage = null;
        }
        
        // Track this URL for cache clearing
        this.loadedImageUrls.add(imageUrl);
        
        // Update page indicator and navigation buttons IMMEDIATELY
        this.updatePageIndicator();
        this.updateNavigationButtons();
        
        if (this.imageElement) {
            // Clear any previous error messages
            const errorMsg = document.querySelector('#kokebokImageWrapper .error-message');
            if (errorMsg) {
                errorMsg.remove();
                this.imageElement.style.display = '';
            }
            
            // Show loading spinner
            const spinner = document.getElementById('kokebokLoadingSpinner');
            if (spinner) {
                spinner.classList.remove('hidden');
            }
            
            // Create a new image to preload
            const tempImg = new Image();
            this.currentLoadingImage = tempImg;
            
            tempImg.onload = () => {
                // Only process if this is still the current request
                if (thisRequestId !== this.loadRequestId) {
                    return;  // This load was superseded by a newer one
                }
                
                // Image loaded successfully - update the displayed image
                this.imageElement.src = imageUrl;
                this.fitToPage();
                
                // Hide loading spinner
                if (spinner) {
                    spinner.classList.add('hidden');
                }
                
                // Clear the loading reference
                this.currentLoadingImage = null;
            };
            
            tempImg.onerror = () => {
                // Only process if this is still the current request
                if (thisRequestId !== this.loadRequestId) {
                    return;  // This load was superseded by a newer one
                }
                
                console.error(`Failed to load page ${pageNumber}`);
                
                // Hide loading spinner even on error
                if (spinner) {
                    spinner.classList.add('hidden');
                }
                
                // Show error message
                this.imageElement.style.display = 'none';
                const wrapper = document.getElementById('kokebokImageWrapper');
                if (wrapper && !wrapper.querySelector('.error-message')) {
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'error-message text-center text-amber-700';
                    errorDiv.innerHTML = `
                        <i class="fas fa-exclamation-triangle text-4xl mb-2"></i>
                        <p>Kunne ikke laste side ${pageNumber}</p>
                    `;
                    wrapper.appendChild(errorDiv);
                }
                
                // Clear the loading reference
                this.currentLoadingImage = null;
            };
            
            // Start loading the image
            tempImg.src = imageUrl;
        }
    }

    fitToPage() {
        if (!this.imageElement || !this.containerElement) return;
        
        const containerWidth = this.containerElement.clientWidth;
        const containerHeight = this.containerElement.clientHeight;
        const imageWidth = this.imageElement.naturalWidth || 1949;
        const imageHeight = this.imageElement.naturalHeight || 2456;
        
        const padding = 20;
        const scaleX = (containerWidth - padding) / imageWidth;
        const scaleY = (containerHeight - padding) / imageHeight;
        const scale = Math.min(scaleX, scaleY);
        
        this.zoomLevel = scale;
        this.minZoom = scale;
        this.panX = 0;
        this.panY = 0;
        this.updateTransform();
    }

    previousPage() {
        if (this.currentPage > 1) {
            this.currentPage--;
            this.loadPage(this.currentPage);
        }
    }

    nextPage() {
        if (this.currentPage < this.totalPages) {
            this.currentPage++;
            this.loadPage(this.currentPage);
        }
    }

    zoom(delta, clientX, clientY) {
        const newZoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.zoomLevel * delta));
        
        if (newZoom !== this.zoomLevel && this.containerElement) {
            const rect = this.containerElement.getBoundingClientRect();
            const x = clientX - rect.left;
            const y = clientY - rect.top;
            
            const zoomRatio = newZoom / this.zoomLevel;
            this.panX = x - (x - this.panX) * zoomRatio;
            this.panY = y - (y - this.panY) * zoomRatio;
            
            this.zoomLevel = newZoom;
            this.updateTransform();
        }
    }

    startPanning(x, y) {
        this.isPanning = true;
        this.startX = x - this.panX;
        this.startY = y - this.panY;
        if (this.imageElement) {
            this.imageElement.style.cursor = 'grabbing';
        }
    }

    pan(x, y) {
        if (this.isPanning) {
            this.panX = x - this.startX;
            this.panY = y - this.startY;
            this.updateTransform();
        }
    }

    stopPanning() {
        this.isPanning = false;
        if (this.imageElement) {
            this.imageElement.style.cursor = 'move';
        }
    }

    updateTransform() {
        if (this.imageElement) {
            this.imageElement.style.transform = `translate(${this.panX}px, ${this.panY}px) scale(${this.zoomLevel})`;
        }
    }

    updatePageIndicator() {
        const indicator = document.getElementById('pageIndicator');
        if (indicator) {
            indicator.textContent = `Side ${this.currentPage}`;
        }
    }

    updateNavigationButtons() {
        const prevBtn = document.getElementById('prevPageBtn');
        const nextBtn = document.getElementById('nextPageBtn');
        
        if (prevBtn) prevBtn.disabled = this.currentPage <= 1;
        if (nextBtn) nextBtn.disabled = this.currentPage >= this.totalPages;
    }
}

// ============================================================================
// MODAL MANAGER CLASS - UPDATED WITH ALL FIXES
// ============================================================================

class ModalManager {
    constructor(recipeDatabase, userDataManager, uiManager, recommendationEngine) {
        this.recipeDatabase = recipeDatabase;
        this.userDataManager = userDataManager;
        this.uiManager = uiManager;
        this.recommendationEngine = recommendationEngine;
        this.scrollPosition = 0;
        this.isFullscreen = false;
        this.currentRecipeId = null;
        this.completedSteps = new Map();
        this.activeStep = null;
        this.urlManager = null;
        
        // LRU cache for high-res images (max 5)
        this.imagePreloadCache = new Map();
        this.MAX_CACHE_SIZE = 5;
        
        // Track pending operations for cleanup
        this.pendingTimeouts = [];
        
        // Store bound event handlers for cleanup
        this.boundHandlers = {
            modalClick: null,
            resize: null,
            orientationchange: null,
            resizeTimer: null,
            orientationTimer: null
        };
        
        this.setupEventListeners();
    }

    setURLManager(urlManager) {
        this.urlManager = urlManager;
    }

    setupEventListeners() {
        // Create bound handler for modal click
        this.boundHandlers.modalClick = (e) => {
            const currentlyFullscreen = window.innerWidth <= CONFIG.BREAKPOINTS.FULLSCREEN_MODAL;
            if (!currentlyFullscreen) {
                const modalWrapper = e.currentTarget.firstElementChild?.firstElementChild;
                if (modalWrapper && !modalWrapper.contains(e.target)) {
                    this.closeRecipe();
                }
            }
        };
        
        // Add modal click listener
        document.getElementById('recipeModal').addEventListener('click', this.boundHandlers.modalClick);
        
        // Create bound handlers for window events
        this.boundHandlers.resize = () => {
            if (this.currentRecipeId) {
                clearTimeout(this.boundHandlers.resizeTimer);
                this.boundHandlers.resizeTimer = setTimeout(() => {
                    this.updateModalLayout();
                    const newIsFullscreen = window.innerWidth <= CONFIG.BREAKPOINTS.FULLSCREEN_MODAL;
                    if (newIsFullscreen !== this.isFullscreen) {
                        this.updateModalContent();
                    }
                }, 250);
            }
        };
        
        this.boundHandlers.orientationchange = (e) => {
            if (this.currentRecipeId) {
                e.preventDefault();
                const viewport = document.querySelector('meta[name="viewport"]');
                viewport.setAttribute('content', 
                    'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover'
                );
                
                clearTimeout(this.boundHandlers.orientationTimer);
                this.boundHandlers.orientationTimer = setTimeout(() => {
                    this.updateModalLayout();
                    this.updateModalContent();
                }, 100);
            }
        };
        
        // Add window event listeners
        window.addEventListener('resize', this.boundHandlers.resize);
        window.addEventListener('orientationchange', this.boundHandlers.orientationchange);
    }

    cleanupEventListeners() {
        // Clear any pending timers
        clearTimeout(this.boundHandlers.resizeTimer);
        clearTimeout(this.boundHandlers.orientationTimer);
        
        // Note: We don't remove the main event listeners since they're needed
        // for the lifetime of the app. They check if modal is open before doing work.
    }

    // LRU cache management for high-res images
    preloadHighResImage(recipe) {
        if (!recipe.image) return null;
        
        const highResUrl = CONFIG.IMAGE_PATHS.MODAL + recipe.image;
        
        // Check if already cached
        if (this.imagePreloadCache.has(highResUrl)) {
            // Move to end (most recently used)
            const cachedPromise = this.imagePreloadCache.get(highResUrl);
            this.imagePreloadCache.delete(highResUrl);
            this.imagePreloadCache.set(highResUrl, cachedPromise);
            return cachedPromise;
        }
        
        // Check cache size and evict oldest if needed
        if (this.imagePreloadCache.size >= this.MAX_CACHE_SIZE) {
            // Delete oldest (first) entry
            const firstKey = this.imagePreloadCache.keys().next().value;
            this.imagePreloadCache.delete(firstKey);
        }
        
        // Create and cache new image promise
        const imagePromise = new Promise((resolve) => {
            const img = new Image();
            img.onload = () => resolve(highResUrl);
            img.onerror = () => resolve(null);
            img.src = highResUrl;
        });
        
        this.imagePreloadCache.set(highResUrl, imagePromise);
        return imagePromise;
    }

    // Helper to add timeout operations that can be cancelled
    addPendingTimeout(fn, delay = 0) {
        const timeoutId = setTimeout(() => {
            // Remove from pending list when executed
            const index = this.pendingTimeouts.indexOf(timeoutId);
            if (index > -1) {
                this.pendingTimeouts.splice(index, 1);
            }
            fn();
        }, delay);
        
        this.pendingTimeouts.push(timeoutId);
        return timeoutId;
    }

    // Cancel all pending timeouts
    cancelPendingTimeouts() {
        this.pendingTimeouts.forEach(id => clearTimeout(id));
        this.pendingTimeouts = [];
    }

    // Clear steps for a specific recipe
    clearStepsForRecipe(recipeId) {
        Array.from(this.completedSteps.keys()).forEach(key => {
            if (key.startsWith(recipeId + '-')) {
                this.completedSteps.delete(key);
            }
        });
        if (this.activeStep && this.activeStep.startsWith(recipeId + '-')) {
            this.activeStep = null;
        }
    }

    // Main entry point - optimized for performance
    showRecipe(recipeId) {
        const recipe = this.recipeDatabase.findById(recipeId);
        if (!recipe) return;
        
        this.currentRecipeId = recipeId;
        
        // Lock body scroll immediately
        this.scrollPosition = window.pageYOffset;
        document.body.classList.add('modal-open');
        document.body.style.overflow = 'hidden';
        document.body.style.position = 'relative';
        document.documentElement.style.overflow = 'hidden';
        
        // Setup modal layout
        this.setupModalLayout();
        
        // Show modal with loading state IMMEDIATELY
        const modal = document.getElementById('recipeModal');
        const modalWrapper = modal.querySelector('#modalContent') || modal.querySelector('.flex.flex-col');
        
        // Simple loading state
        modalWrapper.innerHTML = `
            <div class="flex items-center justify-center h-full bg-gradient-to-br from-amber-100 to-orange-100 ${
                window.innerWidth <= CONFIG.BREAKPOINTS.FULLSCREEN_MODAL ? '' : 'rounded-2xl'
            }">
                <div class="text-amber-600 animate-pulse">
                    <i class="fas fa-spinner fa-spin text-3xl"></i>
                </div>
            </div>
        `;
        
        modal.classList.remove('hidden');
        
        // Start preloading high-res image immediately
        const recipeWithUserData = this.userDataManager.getRecipeWithUserData(recipe);
        this.preloadHighResImage(recipeWithUserData);
        
        // Clear steps
        this.clearStepsForRecipe(recipeId);
        
        // Render content in next frame for smooth transition
        requestAnimationFrame(() => {
            this.updateModalContent();
            
            // Defer non-critical operations
            this.addPendingTimeout(() => {
                this.userDataManager.trackView(recipeId);
                if (this.urlManager) {
                    this.urlManager.updateURL();
                }
            });
        });
    }

    setupModalLayout() {
        const modal = document.getElementById('recipeModal');
        const flexContainer = modal.firstElementChild;
        const modalWrapper = flexContainer ? flexContainer.firstElementChild : null;
        
        const windowWidth = window.innerWidth;
        this.isFullscreen = windowWidth <= CONFIG.BREAKPOINTS.FULLSCREEN_MODAL;
        
        if (this.isFullscreen) {
            modal.className = 'fixed inset-0 z-50 bg-gradient-to-br from-amber-100 to-orange-100';
            if (flexContainer) {
                flexContainer.className = 'h-full';
            }
            if (modalWrapper) {
                modalWrapper.className = 'h-full w-full flex flex-col relative';
            }
        } else {
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50';
            if (flexContainer) {
                flexContainer.className = 'flex items-center justify-center min-h-screen p-4';
            }
            if (modalWrapper) {
                modalWrapper.className = 'bg-gradient-to-br from-amber-100 to-orange-100 rounded-3xl max-w-5xl w-full h-[92vh] flex flex-col shadow-2xl relative overflow-hidden';
            }
        }
    }

    updateModalLayout() {
        if (this.currentRecipeId) {
            this.setupModalLayout();
        }
    }

    // Optimized hero section with progressive image loading
    generateHeroSection(recipe) {
        const imageLowUrl = recipe.image ? CONFIG.IMAGE_PATHS.LIST + recipe.image : null;
        const imageHighUrl = recipe.image ? CONFIG.IMAGE_PATHS.MODAL + recipe.image : null;
        const isMobile = window.innerWidth <= CONFIG.BREAKPOINTS.SINGLE_COLUMN;
        const heroImageHeight = isMobile ? 'h-56' : 'h-80';
        const isFullscreen = window.innerWidth <= CONFIG.BREAKPOINTS.FULLSCREEN_MODAL;
        
        return `
            <div class="absolute inset-0 bg-gradient-to-br from-amber-100 to-orange-100 ${!isFullscreen ? 'rounded-2xl' : ''} z-0">
                <div class="absolute inset-x-0 top-0 ${heroImageHeight} ${!isFullscreen ? 'rounded-t-2xl overflow-hidden' : ''}">
                    ${recipe.image ? 
                        `<div class="relative w-full h-full">
                            <!-- Low-res loads instantly -->
                            <img src="${imageLowUrl}" 
                                alt="${recipe.title}" 
                                class="w-full h-full object-cover absolute inset-0">
                            <!-- High-res loads progressively -->
                            <img src="${imageHighUrl}" 
                                alt="${recipe.title}" 
                                class="w-full h-full object-cover absolute inset-0 opacity-0"
                                onload="this.style.transition='opacity 0.3s ease-in-out'; this.style.opacity='1';">
                        </div>` : 
                        `<div class="w-full h-full flex items-center justify-center">
                            <span class="text-8xl opacity-30">🍞</span>
                        </div>`}
                    ${recipe.category ? 
                        `<span onclick="recipeApp.filterManager.activateFilter('category', '${recipe.category}', event)" 
                            class="absolute top-4 left-4 bg-white/90 backdrop-blur text-xs md:text-sm font-medium px-2 py-1 md:px-3 md:py-1.5 rounded-full text-amber-700 transition-all duration-200 cursor-pointer hover:scale-105 hover:shadow-lg">
                            ${recipe.category}
                        </span>` : ''}
                </div>
            </div>
        `;
    }

    generateCloseButton() {
        return `
            <button onclick="recipeApp.modalManager.closeRecipe()" 
                    class="absolute top-4 right-4 z-50 bg-white/90 backdrop-blur rounded-full p-2 md:p-2.5 hover:bg-white shadow-lg transition-transform hover:scale-110">
                <i class="fas fa-times text-gray-600 text-lg md:text-xl"></i>
            </button>
        `;
    }

    updateModalContent() {
        if (!this.currentRecipeId) return;
        
        const recipe = this.recipeDatabase.findById(this.currentRecipeId);
        if (!recipe) return;
        
        const recipeWithUserData = this.userDataManager.getRecipeWithUserData(recipe);
        const modalWrapper = document.querySelector('#recipeModal > div > div');
        
        if (!modalWrapper) return;
        
        // Store current scroll position
        const scrollContainer = modalWrapper.querySelector('#scrollableContent');
        const currentScrollTop = scrollContainer ? scrollContainer.scrollTop : 0;
        
        const windowWidth = window.innerWidth;
        const isMobileLayout = windowWidth <= CONFIG.BREAKPOINTS.SINGLE_COLUMN;
        const contentMarginTop = isMobileLayout ? 'mt-48' : 'mt-72';
        
        // Build content
        modalWrapper.innerHTML = `
            ${this.generateHeroSection(recipeWithUserData)}
            ${this.generateCloseButton()}
            <div id="scrollableContent" class="absolute inset-0 overflow-y-auto z-10">
                <div class="${contentMarginTop} min-h-full bg-white rounded-t-3xl shadow-[0_-10px_30px_rgba(0,0,0,0.1)]">
                    ${isMobileLayout ? 
                        this.generateMobileContent(recipeWithUserData) : 
                        this.generateDesktopContent(recipeWithUserData)}
                </div>
            </div>
        `;
        
        // Restore scroll position
        requestAnimationFrame(() => {
            const newScrollContainer = modalWrapper.querySelector('#scrollableContent');
            if (newScrollContainer && currentScrollTop > 0) {
                newScrollContainer.scrollTop = currentScrollTop;
            }
        });
    }

    // Mobile content layout
    generateMobileContent(recipe) {
        const sourceInfo = this.uiManager.formatSource(recipe);
        const today = new Date().toISOString().split('T')[0];
        const madeToday = recipe.madeDates && recipe.madeDates.includes(today);
        const madeCount = recipe.madeDates ? recipe.madeDates.length : 0;
        
        return `
            <div class="px-4 py-6">
                <div class="mb-4">
                    <div class="flex items-start gap-2">
                        <h2 class="font-display text-2xl text-gray-800 ${sourceInfo ? 'mb-1' : 'mb-2'}">${recipe.title}</h2>
                        <button onclick="recipeApp.modalManager.copyRecipeURL('${recipe.id}', event)" 
                                class="text-gray-400 hover:text-gray-600 transition-all duration-200 p-1 flex-shrink-0">
                            <i class="fas fa-copy text-sm"></i>
                        </button>
                    </div>
                    ${sourceInfo ? `
                        <div class="flex items-center gap-2 mb-2">
                            <p class="text-xs text-amber-600">${sourceInfo}</p>
                            ${recipe.pageNumber ? `
                                <button onclick="recipeApp.kokebokViewer.open(${recipe.pageNumber})" 
                                        class="text-amber-600 hover:text-amber-700 transition-colors"
                                        title="Vis oppskrift i kokeboken">
                                    <i class="fas fa-book text-xs"></i>
                                </button>
                            ` : ''}
                        </div>
                    ` : ''}
                    ${this.renderTags(recipe)}
                </div>
                
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-2">
                        <button id="eraser-${recipe.id}" 
                                onclick="recipeApp.modalManager.clearRating('${recipe.id}', event)" 
                                class="text-gray-400 hover:text-gray-600 transition-all duration-200 p-1 ${recipe.userRating ? 'opacity-100' : 'opacity-0 pointer-events-none'}">
                            <i class="fas fa-eraser text-lg"></i>
                        </button>
                        <div class="flex items-center">
                            ${this.renderInteractiveStars(recipe)}
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <button onclick="recipeApp.modalManager.toggleTag('${recipe.id}', event)" 
                                class="flex items-center space-x-1 px-3 py-1.5 rounded-lg transition text-xs font-medium
                                    ${recipe.tagged ? 'bg-yellow-600 text-white' : 'border border-gray-300 text-gray-600 hover:bg-gray-50'}">
                            <i class="fas fa-tag"></i>
                        </button>
                        <button onclick="recipeApp.modalManager.toggleMadeToday('${recipe.id}', event)" 
                                class="flex items-center space-x-1 px-3 py-1.5 rounded-lg transition text-xs font-medium
                                    ${madeToday ? 'bg-amber-600 text-white' : 'border border-gray-300 text-gray-600 hover:bg-gray-50'}">
                            <i class="fas fa-check"></i>
                            <span>Laget (${madeCount})</span>
                        </button>
                    </div>
                </div>
                
                ${recipe.description ? `
                    <div class="pb-4 mb-6 border-b border-amber-600">
                        <p class="text-gray-700 text-sm leading-relaxed">${recipe.description}</p>
                    </div>
                ` : ''}
                
                <div class="mb-6 pb-6 border-b border-amber-600">
                    <h3 class="font-display text-xl text-amber-800 mb-3">Ingredienser</h3>
                    ${this.renderIngredients(recipe.ingredients)}
                    <div class="mt-4 flex items-center gap-2 text-amber-600 rounded-lg px-3 py-2 inline-flex">
                        <i class="fas fa-users text-sm"></i>
                        <span class="text-sm font-medium">${recipe.servings}</span>
                    </div>
                </div>
                
                <div class="mb-8">
                    <h3 class="font-display text-xl text-amber-800 mb-3">Slik gjør du</h3>
                    ${this.renderInstructions(recipe.instructions, true)}
                </div>
            </div>
        `;
    }

    generateDesktopContent(recipe) {
        const sourceInfo = this.uiManager.formatSource(recipe);
        const today = new Date().toISOString().split('T')[0];
        const madeToday = recipe.madeDates && recipe.madeDates.includes(today);
        const madeCount = recipe.madeDates ? recipe.madeDates.length : 0;
        
        return `
            <div class="px-8 py-8">
                <div class="border-b border-gray-100 pb-4 mb-6">
                    <div class="flex items-start gap-3">
                        <h2 class="font-display text-3xl text-gray-800 ${sourceInfo ? 'mb-1' : 'mb-2'}">${recipe.title}</h2>
                        <button onclick="recipeApp.modalManager.copyRecipeURL('${recipe.id}', event)" 
                                class="text-gray-400 hover:text-gray-600 transition-all duration-200 p-1.5 flex-shrink-0">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    ${sourceInfo ? `
                        <div class="flex items-center gap-2 mb-2">
                            <p class="text-xs text-amber-600">${sourceInfo}</p>
                            ${recipe.pageNumber ? `
                                <button onclick="recipeApp.kokebokViewer.open(${recipe.pageNumber})" 
                                        class="text-amber-600 hover:text-amber-700 transition-colors"
                                        title="Vis oppskrift i kokeboken">
                                    <i class="fas fa-book text-xs"></i>
                                </button>
                            ` : ''}
                        </div>
                    ` : ''}
                    ${this.renderTags(recipe)}
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <div class="flex items-center gap-2">
                                <button id="eraser-${recipe.id}" 
                                        onclick="recipeApp.modalManager.clearRating('${recipe.id}', event)" 
                                        class="text-gray-400 hover:text-gray-600 transition-all duration-200 p-1 ${recipe.userRating ? 'opacity-100' : 'opacity-0 pointer-events-none'}">
                                    <i class="fas fa-eraser text-xl"></i>
                                </button>
                                <div class="flex items-center gap-1">
                                    ${this.renderInteractiveStars(recipe)}
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-2">
                            <button onclick="recipeApp.modalManager.toggleTag('${recipe.id}', event)" 
                                    class="flex items-center space-x-2 px-4 py-2 rounded-lg transition text-sm font-medium
                                        ${recipe.tagged ? 'bg-yellow-600 text-white hover:bg-yellow-700' : 'border border-gray-300 text-gray-600 hover:bg-gray-50'}">
                                <i class="fas fa-tag"></i>
                                <span>Merk</span>
                            </button>
                            
                            <button onclick="recipeApp.modalManager.toggleMadeToday('${recipe.id}', event)" 
                                    class="flex items-center space-x-2 px-4 py-2 rounded-lg transition text-sm font-medium
                                        ${madeToday ? 'bg-amber-600 text-white hover:bg-amber-700' : 'border border-gray-300 text-gray-600 hover:bg-gray-50'}">
                                <i class="fas fa-check"></i>
                                <span>Laget (${madeCount})</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                ${recipe.description ? `
                    <div class="pb-6 mb-6 border-b border-amber-600">
                        <p class="text-gray-700 leading-relaxed">${recipe.description}</p>
                    </div>
                ` : ''}
                
                <div class="grid md:grid-cols-[2fr,3fr] gap-8">
                    <div class="pr-8 border-r border-amber-600">
                        <h3 class="font-display text-xl text-amber-800 mb-4">Ingredienser</h3>
                        ${this.renderIngredients(recipe.ingredients)}
                        <div class="mt-4 flex items-center gap-2 text-amber-600 rounded-lg px-3 py-2 inline-flex">
                            <i class="fas fa-users"></i>
                            <span class="font-medium">${recipe.servings}</span>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="font-display text-xl text-amber-800 mb-4">Slik gjør du</h3>
                        ${this.renderInstructions(recipe.instructions, false)}
                    </div>
                </div>
            </div>
        `;
    }

    renderTags(recipe) {
        if (!recipe.cuisine && !recipe.meal) return '';
        
        return `
            <div class="flex gap-2 mb-4">
                ${recipe.cuisine ? 
                    `<span onclick="recipeApp.filterManager.activateFilter('cuisine', '${recipe.cuisine}', event)" 
                        class="inline-block px-2 py-0.5 bg-gray-100 rounded-full text-xs">
                        ${recipe.cuisine} kjøkken
                    </span>` : ''}
                ${recipe.meal ? 
                    `<span onclick="recipeApp.filterManager.activateFilter('meal', '${recipe.meal}', event)" 
                        class="inline-block px-2 py-0.5 bg-gray-100 rounded-full text-xs">
                        ${recipe.meal}
                    </span>` : ''}
            </div>
        `;
    }

    renderIngredients(ingredients) {
        if (!ingredients || ingredients.length === 0) return '';
        
        const hasGroups = ingredients.some(item => typeof item === 'object' && item.group);
        
        if (!hasGroups) {
            return `
                <ul class="space-y-2">
                    ${ingredients.map(ing => `
                        <li class="flex items-start">
                            <span class="text-amber-600 mr-2">•</span>
                            <span class="text-gray-700">${ing}</span>
                        </li>
                    `).join('')}
                </ul>
            `;
        } else {
            return ingredients.map((group, index) => {
                if (typeof group === 'string') {
                    return `
                        <ul class="space-y-2 ${index > 0 ? 'mt-4' : ''}">
                            <li class="flex items-start">
                                <span class="text-amber-600 mr-2">•</span>
                                <span class="text-gray-700">${group}</span>
                            </li>
                        </ul>
                    `;
                }
                
                return `
                    <div class="${index > 0 ? 'mt-5' : ''}">
                        <h4 class="font-semibold text-sm text-amber-700 mb-2">${group.group}:</h4>
                        <ul class="space-y-2">
                            ${group.items.map(ing => `
                                <li class="flex items-start">
                                    <span class="text-amber-600 mr-2">•</span>
                                    <span class="text-gray-700">${ing}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
            }).join('');
        }
    }

    toggleInstructionStep(recipeId, stepIndex) {
        const key = `${recipeId}-${stepIndex}`;
        const isCompleted = this.completedSteps.get(key) || false;
        const isActive = this.activeStep === key;
        
        const stepElement = document.querySelector(`[data-step="${key}"]`);
        if (!stepElement) return;
        
        if (this.activeStep && this.activeStep !== key) {
            const prevElement = document.querySelector(`[data-step="${this.activeStep}"]`);
            if (prevElement && !this.completedSteps.get(this.activeStep)) {
                prevElement.parentElement.classList.remove('bg-amber-50', 'border-l-4', 'border-amber-500', 'pl-4', 'pr-0');
                prevElement.parentElement.classList.add('pr-2');
                prevElement.classList.remove('text-black');
                prevElement.classList.add('text-gray-700');
            }
        }
        
        if (!isActive && !isCompleted) {
            this.activeStep = key;
            this.completedSteps.delete(key);
            stepElement.classList.remove('line-through', 'text-gray-400');
            stepElement.classList.remove('text-gray-700');
            stepElement.classList.add('text-black');
            stepElement.parentElement.classList.add('bg-amber-50', 'border-l-4', 'border-amber-500', 'pl-4', 'pr-0');
            stepElement.parentElement.classList.remove('pr-2');
        } else if (isActive && !isCompleted) {
            this.completedSteps.set(key, true);
            this.activeStep = null;
            stepElement.classList.add('line-through', 'text-gray-400');
            stepElement.classList.remove('text-black');
            stepElement.parentElement.classList.remove('bg-amber-50', 'border-l-4', 'border-amber-500', 'pl-4', 'pr-0');
            stepElement.parentElement.classList.add('pr-2');
        } else if (isCompleted) {
            this.completedSteps.delete(key);
            this.activeStep = key;
            stepElement.classList.remove('line-through', 'text-gray-400');
            stepElement.classList.add('text-black');
            stepElement.parentElement.classList.add('bg-amber-50', 'border-l-4', 'border-amber-500', 'pl-4', 'pr-0');
            stepElement.parentElement.classList.remove('pr-2');
        }
    }

    renderTip(tipText, isMobile) {
        const textSizeClass = isMobile ? 'text-sm' : '';
        return `
            <li class="bg-gradient-to-r from-yellow-100 to-yellow-50 border-l-[3px] border-amber-500 rounded-lg ${isMobile ? 'px-3 py-2.5' : 'p-3'} animate-[tipHighlight_0.3s_ease-out]">
                <div class="flex items-start">
                    <span class="text-amber-600 mr-2 flex-shrink-0">
                        <i class="fas fa-lightbulb"></i>
                    </span>
                    <div>
                        <span class="font-semibold text-amber-700 mr-2 text-sm">Tips:</span>
                        <span class="text-gray-700 ${textSizeClass}">${tipText}</span>
                    </div>
                </div>
            </li>
        `;
    }

    renderInstructionStep(instruction, stepNumber, globalIndex, isMobile) {
        const recipeId = this.currentRecipeId;
        const textSizeClass = isMobile ? 'text-sm' : '';
        const stepKey = `${recipeId}-${globalIndex}`;
        const isCompleted = this.completedSteps.get(stepKey) || false;
        const isActive = this.activeStep === stepKey;
        
        return `
            <li class="flex items-start cursor-pointer select-none transition-all duration-200 hover:opacity-80 rounded-lg py-2 pl-2 ${isActive ? 'pr-0' : 'pr-2'} -m-2 
                ${isActive ? 'bg-amber-50 border-l-4 border-amber-500 pl-4' : ''}"
                onclick="recipeApp.modalManager.toggleInstructionStep('${recipeId}', ${globalIndex})">
                <span class="font-semibold text-amber-600 mr-3 flex-shrink-0">${stepNumber}.</span>
                <span data-step="${stepKey}" 
                    class="${textSizeClass} ${isCompleted ? 'line-through text-gray-400' : (isActive ? 'text-black' : 'text-gray-700')} transition-all duration-200">
                    ${instruction}
                </span>
            </li>
        `;
    }

    renderInstructionItem(instruction, stepNumber, globalIndex, isMobile) {
        if (typeof instruction === 'string' && (instruction.startsWith('TIP:') || instruction.startsWith('TIPS:'))) {
            const tipText = instruction.replace(/^TIPS?:\s*/i, '');
            return { 
                html: this.renderTip(tipText, isMobile), 
                stepNumber: stepNumber,
                globalIndex: globalIndex 
            };
        }
        
        return { 
            html: this.renderInstructionStep(instruction, stepNumber, globalIndex, isMobile),
            stepNumber: stepNumber + 1,
            globalIndex: globalIndex + 1
        };
    }

    renderInstructions(instructions, isMobile = false) {
        if (!instructions || instructions.length === 0) return '';
        
        let stepNumber = 1;
        let globalIndex = 0;
        
        const hasGroups = instructions.some(item => typeof item === 'object' && item.group);
        
        if (!hasGroups) {
            const items = [];
            instructions.forEach(inst => {
                const result = this.renderInstructionItem(inst, stepNumber, globalIndex, isMobile);
                items.push(result.html);
                stepNumber = result.stepNumber;
                globalIndex = result.globalIndex;
            });
            
            return `<ol class="space-y-3">${items.join('')}</ol>`;
        }
        
        const sections = [];
        
        instructions.forEach((item, index) => {
            if (typeof item === 'string') {
                const result = this.renderInstructionItem(item, stepNumber, globalIndex, isMobile);
                sections.push(`<ol class="space-y-3 ${index > 0 ? 'mt-3' : ''}">${result.html}</ol>`);
                stepNumber = result.stepNumber;
                globalIndex = result.globalIndex;
            } else if (item.group && item.steps) {
                const groupItems = [];
                item.steps.forEach(inst => {
                    const result = this.renderInstructionItem(inst, stepNumber, globalIndex, isMobile);
                    groupItems.push(result.html);
                    stepNumber = result.stepNumber;
                    globalIndex = result.globalIndex;
                });
                
                sections.push(`
                    <div class="${index > 0 ? 'mt-4' : ''}">
                        <h4 class="font-semibold text-sm text-amber-700 mb-2">${item.group}:</h4>
                        <ol class="space-y-2 ${isMobile ? 'pl-3' : 'pl-4'}">
                            ${groupItems.join('')}
                        </ol>
                    </div>
                `);
            }
        });
        
        return sections.join('');
    }

    renderInteractiveStars(recipe) {
        let stars = '';
        const userRating = recipe.userRating || 0;
        for (let i = 1; i <= 5; i++) {
            const filled = i <= userRating;
            stars += `<button onclick="recipeApp.modalManager.rateRecipe('${recipe.id}', ${i}, event)" 
                            class="text-2xl transition-all duration-200 hover:scale-125 hover:text-amber-500">
                <i class="${filled ? 'fas' : 'far'} fa-star ${filled ? 'text-amber-400' : 'text-gray-300'}"></i>
            </button>`;
        }
        return stars;
    }

    closeRecipe() {
        const modal = document.getElementById('recipeModal');
        
        // Cancel all pending operations
        this.cancelPendingTimeouts();
        
        // Clean up event listener timers
        this.cleanupEventListeners();
        
        this.currentRecipeId = null;
        this.isFullscreen = false;
        
        modal.classList.add('hidden');
        
        if (this.urlManager) {
            this.urlManager.updateURL();
        }
        
        document.body.classList.remove('modal-open');
        document.body.style.overflow = '';
        document.body.style.position = '';
        document.documentElement.style.overflow = '';
        
        // Use requestAnimationFrame for smooth scroll restoration
        requestAnimationFrame(() => {
            window.scrollTo(0, this.scrollPosition);
        });
        
        this.resetModalToDefault();
    }

    copyRecipeURL(recipeId, event) {
        if (event) {
            event.stopPropagation();
        }
        
        if (this.urlManager) {
            const url = this.urlManager.getRecipeURL(recipeId);
            const button = event ? event.currentTarget : null;
            this.urlManager.copyToClipboard(url, button);
        }
    }

    resetModalToDefault() {
        const modal = document.getElementById('recipeModal');
        const flexContainer = modal.firstElementChild;
        const modalWrapper = flexContainer ? flexContainer.firstElementChild : null;
        
        modal.className = 'fixed inset-0 bg-black bg-opacity-50 hidden z-50';
        
        if (flexContainer) {
            flexContainer.className = 'flex items-start justify-center min-h-screen sm:pt-8';
        }
        
        if (modalWrapper) {
            modalWrapper.className = 'sm:rounded-2xl max-w-5xl w-full sm:h-[92vh] modal-height-mobile flex flex-col modal-content-mobile';
            modalWrapper.innerHTML = '';
        }
    }

    rateRecipe(recipeId, rating, event) {
        if (event) {
            event.stopPropagation();
        }
        
        this.userDataManager.setRating(recipeId, rating);
        
        const button = event ? event.currentTarget : null;
        if (button && button.parentElement) {
            const stars = button.parentElement.querySelectorAll('i');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.remove('far', 'text-gray-300');
                    star.classList.add('fas', 'text-amber-400');
                } else {
                    star.classList.remove('fas', 'text-amber-400');
                    star.classList.add('far', 'text-gray-300');
                }
            });
            
            const eraserBtn = document.getElementById(`eraser-${recipeId}`);
            if (eraserBtn && !eraserBtn.classList.contains('opacity-100')) {
                eraserBtn.classList.remove('opacity-0', 'pointer-events-none');
                eraserBtn.classList.add('opacity-100');
            }
        }
        
        this.uiManager.updateRecipeCardRating(recipeId, rating);
        this.recommendationEngine.updateScoreForRecipe(recipeId);
        
        const filterManager = recipeApp.filterManager;
        if (filterManager.sortOrder === 'recommendation' || filterManager.sortOrder === 'rating') {
            // Defer the re-sort to avoid blocking UI
            this.addPendingTimeout(() => filterManager.applyFilters());
        }
    }

    clearRating(recipeId, event) {
        if (event) {
            event.stopPropagation();
        }
        
        this.userDataManager.clearRating(recipeId);
        
        const eraserBtn = document.getElementById(`eraser-${recipeId}`);
        if (eraserBtn) {
            eraserBtn.classList.remove('opacity-100');
            eraserBtn.classList.add('opacity-0', 'pointer-events-none');
            const starsContainer = eraserBtn.nextElementSibling;
            if (starsContainer) {
                const stars = starsContainer.querySelectorAll('button');
                stars.forEach(star => {
                    star.innerHTML = '<i class="far fa-star text-gray-300"></i>';
                });
            }
        }
        
        this.uiManager.updateRecipeCardRating(recipeId, 0);
        this.recommendationEngine.updateScoreForRecipe(recipeId);
        
        const filterManager = recipeApp.filterManager;
        if (filterManager.sortOrder === 'recommendation' || filterManager.sortOrder === 'rating') {
            // Defer the re-sort
            this.addPendingTimeout(() => filterManager.applyFilters());
        }
    }

    toggleMadeToday(recipeId, event) {
        if (event) {
            event.stopPropagation();
        }
        
        const result = this.userDataManager.toggleMadeToday(recipeId);
        
        const button = event ? event.currentTarget : document.querySelector(`button[onclick*="toggleMadeToday('${recipeId}'"]`);
        
        if (button) {
            const isMobileLayout = window.innerWidth <= CONFIG.BREAKPOINTS.SINGLE_COLUMN;
            
            button.className = `flex items-center ${isMobileLayout ? 'space-x-1' : 'space-x-2'} px-3 py-1.5 rounded-lg transition ${isMobileLayout ? 'text-xs' : 'text-sm'} font-medium ${
                result.madeToday 
                    ? 'bg-amber-600 text-white' + (!isMobileLayout ? ' hover:bg-amber-700' : '')
                    : 'border border-gray-300 text-gray-600 hover:bg-gray-50'
            }`;
            
            button.innerHTML = `
                <i class="fas fa-check"></i>
                <span>Laget (${result.madeCount})</span>
            `;
        }
        
        this.uiManager.updateRecipeCardCounter(recipeId, result.madeCount);
        this.recommendationEngine.updateScoreForRecipe(recipeId);
        
        const filterManager = recipeApp.filterManager;
        if (filterManager.sortOrder === 'recommendation' || filterManager.sortOrder === 'madecount') {
            // Defer the re-sort
            this.addPendingTimeout(() => filterManager.applyFilters());
        }
    }

    toggleTag(recipeId, event) {
        if (event) {
            event.stopPropagation();
        }
        
        const isTagged = this.userDataManager.toggleTag(recipeId);
        
        const button = event ? event.currentTarget : document.querySelector(`button[onclick*="toggleTag('${recipeId}'"]`);
        
        if (button) {
            const isMobileLayout = window.innerWidth <= CONFIG.BREAKPOINTS.SINGLE_COLUMN;
            
            button.className = `flex items-center ${isMobileLayout ? 'space-x-1' : 'space-x-2'} px-3 py-1.5 rounded-lg transition ${isMobileLayout ? 'text-xs' : 'text-sm'} font-medium ${
                isTagged 
                    ? 'bg-yellow-600 text-white' + (!isMobileLayout ? ' hover:bg-yellow-700' : '')
                    : 'border border-gray-300 text-gray-600 hover:bg-gray-50'
            }`;
            
            button.innerHTML = `
                <i class="fas fa-tag"></i>
                ${!isMobileLayout ? '<span>Merk</span>' : ''}
            `;
        }
        
        this.uiManager.updateRecipeCardTag(recipeId, isTagged);
        
        // Defer the re-sort to avoid blocking UI
        this.addPendingTimeout(() => {
            const filterManager = recipeApp.filterManager;
            filterManager.applyFilters();
        });
    }
}

// ============================================================================
// RECOMMENDATION ENGINE CLASS
// ============================================================================

class RecommendationEngine {
    constructor(recipeDatabase, userDataManager, uiManager) {
        this.recipeDatabase = recipeDatabase;
        this.userDataManager = userDataManager;
        this.uiManager = uiManager;
        this.recipeScores = new Map();
    }

    calculateAllScores() {
        // Clear existing scores to force fresh calculation
        this.recipeScores.clear();
        
        const recipeIds = this.recipeDatabase.getAllIds();
        
        recipeIds.forEach(id => {
            const score = this.calculateRecipeScore(id);
            this.recipeScores.set(id, score);
        });
    }

    calculateRecipeScore(recipeId) {
        const recipe = this.recipeDatabase.findById(recipeId);
        const userData = this.userDataManager.getRecipeData(recipeId);
        
        // Weight configuration - adjust these to change importance
        const WEIGHTS = {
            BASE: 20,                 // Base score everyone starts with
            USER_RATING: 10,          // 0-50 points (rating * multiplier)
            NEVER_VIEWED: 30,         // 30 points bonus
            MADE_COUNT: 5,            // 0-10 points based on how often made
            NOSTALGIA_BONUS: 10,      // Bonus for old views
            
            // Recency multipliers (applied to base score portion)
            RECENCY_TODAY: 0.1,       // Viewed today
            RECENCY_RECENT: 0.3,      // 1-3 days ago
            RECENCY_WEEK: 0.6,        // 3-7 days ago
            RECENCY_NORMAL: 1.0,      // 7-30 days ago
            
            // Category multipliers (applied to total score)
            JULEKAKER_CHRISTMAS: 3.0,    // Nov-Dec multiplier
            JULEKAKER_JANUARY: 1.5,      // January multiplier
            JULEKAKER_OFF_SEASON: 0.05,  // Feb-Oct multiplier  
            SLAKTEVEILEDNING: 0.01,      // Year-round penalty
        };
        
        // Start with base score
        let score = WEIGHTS.BASE;
        
        // Add user rating bonus (0 to 50 based on 1-5 star rating)
        if (userData.userRating) {
            score += userData.userRating * WEIGHTS.USER_RATING;
        }
        
        // Add discovery bonus - never viewed recipes get a boost
        if (!userData.lastViewed) {
            score += WEIGHTS.NEVER_VIEWED;
        }
        
        // Apply recency multiplier (reduces score for recent views)
        let recencyMultiplier = WEIGHTS.RECENCY_NORMAL;
        
        if (userData.lastViewed) {
            const now = new Date();
            const viewedDate = new Date(userData.lastViewed);
            const daysSinceView = (now - viewedDate) / (1000 * 60 * 60 * 24);
            
            if (daysSinceView < 1) {
                // Viewed today - heavy reduction
                recencyMultiplier = WEIGHTS.RECENCY_TODAY;
            } else if (daysSinceView < 3) {
                // 1-3 days ago - moderate reduction
                recencyMultiplier = WEIGHTS.RECENCY_RECENT;
            } else if (daysSinceView < 7) {
                // 3-7 days ago - light reduction
                recencyMultiplier = WEIGHTS.RECENCY_WEEK;
            } else if (daysSinceView > 30) {
                // Over a month ago - add nostalgia bonus
                score += WEIGHTS.NOSTALGIA_BONUS;
            }
        }
        
        // Apply recency multiplier
        score *= recencyMultiplier;
        
        // Add popularity bonus - frequently made recipes
        if (userData.madeDates && userData.madeDates.length > 0) {
            // Cap at 10 points max (if made 10+ times)
            const madeBonus = Math.min(userData.madeDates.length, 10) * (WEIGHTS.MADE_COUNT / 10);
            score += madeBonus;
        }
        
        // Apply category-based multipliers
        if (recipe) {
            // Christmas cakes - seasonal adjustment
            if (recipe.category === 'Julekaker') {
                const now = new Date();
                const month = now.getMonth(); // 0 = January, 11 = December
                
                if (month === 10 || month === 11) {
                    // November & December - prime season
                    score *= WEIGHTS.JULEKAKER_CHRISTMAS;
                } else if (month === 0) {
                    // January - still acceptable
                    score *= WEIGHTS.JULEKAKER_JANUARY;
                } else {
                    // February through October - heavily penalized
                    score *= WEIGHTS.JULEKAKER_OFF_SEASON;
                }
            }
            
            // Preserves - always deprioritized
            if (recipe.category === 'Slakteveiledning') {
                score *= WEIGHTS.SLAKTEVEILEDNING;
            }
        }
        
        // Ensure minimum score of 0
        return Math.max(score, 0);
    }

    getRecipeScore(recipeId) {
        // Return cached score if available
        if (this.recipeScores.has(recipeId)) {
            return this.recipeScores.get(recipeId);
        }
        
        // Calculate and cache the score
        const score = this.calculateRecipeScore(recipeId);
        this.recipeScores.set(recipeId, score);
        return score;
    }

    updateScoreForRecipe(recipeId) {
        // Recalculate score for a specific recipe (e.g., after rating/making it)
        const score = this.calculateRecipeScore(recipeId);
        this.recipeScores.set(recipeId, score);
    }
}

// ============================================================================
// MAIN APPLICATION CLASS
// ============================================================================

class RecipeApp {
    constructor() {
        // Initialize core components
        this.recipeDatabase = new RecipeDatabase();
        this.userDataManager = new UserDataManager();
        this.uiManager = new UIManager(this.recipeDatabase, this.userDataManager);
        this.recommendationEngine = new RecommendationEngine(
            this.recipeDatabase, 
            this.userDataManager, 
            this.uiManager
        );
        
        // Initialize managers that depend on other components
        this.filterManager = new FilterManager(
            this.recipeDatabase, 
            this.uiManager,
            this.recommendationEngine,
            this.userDataManager
        );
        this.kokebokViewer = new KokebokViewer();
        this.modalManager = new ModalManager(
            this.recipeDatabase, 
            this.userDataManager, 
            this.uiManager,
            this.recommendationEngine
        );
        
        // Initialize URL Manager
        this.urlManager = new URLManager(
            this.filterManager,
            this.modalManager,
            this.recipeDatabase
        );
        
        // Connect URL manager to other managers
        this.filterManager.setURLManager(this.urlManager);
        this.modalManager.setURLManager(this.urlManager);
        
        // Set up the modal callback in UIManager
        this.uiManager.setModalCallback((recipeId) => {
            this.modalManager.showRecipe(recipeId);
        });
        
        // Setup event listeners
        this.filterManager.setupEventListeners();
        this.urlManager.setupHistoryListener();
        
        // Initialize the app
        this.init();
    }

    init() {
        // Calculate initial recommendation scores
        this.recommendationEngine.calculateAllScores();
        
        // Initialize from URL parameters
        this.urlManager.initializeFromURL();
        
        // Initial render with recommendation sorting
        this.filterManager.updateFilterButton();
        this.filterManager.applyFilters();
        this.uiManager.setupLazyLoading();
    }
}

// ============================================================================
// INITIALIZE APPLICATION
// ============================================================================

// Create global instance for onclick handlers
let recipeApp;

// Initialize when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
        recipeApp = new RecipeApp();
    });
} else {
    recipeApp = new RecipeApp();
}
</script>
</body>
</html>